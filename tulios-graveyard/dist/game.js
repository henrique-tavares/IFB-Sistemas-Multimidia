(()=>{var nl={486:function(Ot,p,C){Ot=C.nmd(Ot);var t;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var e,d="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",i="Invalid `variable` option passed into `_.template`",r="__lodash_hash_undefined__",l=500,n="__lodash_placeholder__",h=1,u=2,v=4,f=1,c=2,g=1,m=2,x=4,y=8,T=16,E=32,R=64,M=128,P=256,O=512,I=30,B="...",w=800,z=16,H=1,b=2,Q=3,D=1/0,F=9007199254740991,G=17976931348623157e292,N=0/0,X=4294967295,V=X-1,W=X>>>1,Z=[["ary",M],["bind",g],["bindKey",m],["curry",y],["curryRight",T],["flip",O],["partial",E],["partialRight",R],["rearg",P]],et="[object Arguments]",it="[object Array]",ht="[object AsyncFunction]",vt="[object Boolean]",lt="[object Date]",xt="[object DOMException]",st="[object Error]",mt="[object Function]",wt="[object GeneratorFunction]",St="[object Map]",Rt="[object Number]",Tt="[object Null]",Bt="[object Object]",Pt="[object Promise]",Ft="[object Proxy]",ae="[object RegExp]",Xt="[object Set]",Qt="[object String]",zt="[object Symbol]",Lt="[object Undefined]",ee="[object WeakMap]",se="[object WeakSet]",he="[object ArrayBuffer]",pe="[object DataView]",Ee="[object Float32Array]",Ce="[object Float64Array]",xe="[object Int8Array]",Ae="[object Int16Array]",Re="[object Int32Array]",yi="[object Uint8Array]",Qe="[object Uint8ClampedArray]",$e="[object Uint16Array]",Ki="[object Uint32Array]",qt=/\b__p \+= '';/g,mn=/\b(__p \+=) '' \+/g,xn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yr=/&(?:amp|lt|gt|quot|#39);/g,Tr=/[&<>"']/g,yn=RegExp(yr.source),Tn=RegExp(Tr.source),Sn=/<%-([\s\S]+?)%>/g,En=/<%([\s\S]+?)%>/g,Sr=/<%=([\s\S]+?)%>/g,Cn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,An=/^\w*$/,Rn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zi=/[\\^$.*+?()[\]{}|]/g,Pn=RegExp(Zi.source),bi=/^\s+/,Mn=/\s/,Ln=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,On=/\{\n\/\* \[wrapped with (.+)\] \*/,Fn=/,? & /,In=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dn=/[()=,{}\[\]\/\s]/,Bn=/\\(\\)?/g,Gn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Er=/\w*$/,Nn=/^[-+]0x[0-9a-f]+$/i,wn=/^0b[01]+$/i,Yn=/^\[object .+?Constructor\]$/,Xn=/^0o[0-7]+$/i,Un=/^(?:0|[1-9]\d*)$/,zn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fi=/($^)/,Vn=/['\n\r\u2028\u2029\\]/g,Ii="\\ud800-\\udfff",Wn="\\u0300-\\u036f",Hn="\\ufe20-\\ufe2f",Kn="\\u20d0-\\u20ff",Cr=Wn+Hn+Kn,Ar="\\u2700-\\u27bf",Rr="a-z\\xdf-\\xf6\\xf8-\\xff",Zn="\\xac\\xb1\\xd7\\xf7",bn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jn="\\u2000-\\u206f",Qn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pr="A-Z\\xc0-\\xd6\\xd8-\\xde",Mr="\\ufe0e\\ufe0f",Lr=Zn+bn+Jn+Qn,Ji="['\u2019]",$n="["+Ii+"]",Or="["+Lr+"]",Di="["+Cr+"]",Fr="\\d+",jn="["+Ar+"]",Ir="["+Rr+"]",Dr="[^"+Ii+Lr+Fr+Ar+Rr+Pr+"]",ai="\\ud83c[\\udffb-\\udfff]",kn="(?:"+Di+"|"+ai+")",Br="[^"+Ii+"]",Qi="(?:\\ud83c[\\udde6-\\uddff]){2}",$i="[\\ud800-\\udbff][\\udc00-\\udfff]",Ti="["+Pr+"]",Gr="\\u200d",Nr="(?:"+Ir+"|"+Dr+")",fa="(?:"+Ti+"|"+Dr+")",ji="(?:"+Ji+"(?:d|ll|m|re|s|t|ve))?",wr="(?:"+Ji+"(?:D|LL|M|RE|S|T|VE))?",qn=kn+"?",bt="["+Mr+"]?",_n="(?:"+Gr+"(?:"+[Br,Qi,$i].join("|")+")"+bt+qn+")*",ts="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",es="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Yr=bt+qn+_n,va="(?:"+[jn,Qi,$i].join("|")+")"+Yr,is="(?:"+[Br+Di+"?",Di,Qi,$i,$n].join("|")+")",rs=RegExp(Ji,"g"),ns=RegExp(Di,"g"),ki=RegExp(ai+"(?="+ai+")|"+is+Yr,"g"),ss=RegExp([Ti+"?"+Ir+"+"+ji+"(?="+[Or,Ti,"$"].join("|")+")",fa+"+"+wr+"(?="+[Or,Ti+Nr,"$"].join("|")+")",Ti+"?"+Nr+"+"+ji,Ti+"+"+wr,es,ts,Fr,va].join("|"),"g"),as=RegExp("["+Gr+Ii+Cr+Mr+"]"),os=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ls=-1,re={};re[Ee]=re[Ce]=re[xe]=re[Ae]=re[Re]=re[yi]=re[Qe]=re[$e]=re[Ki]=!0,re[et]=re[it]=re[he]=re[vt]=re[pe]=re[lt]=re[st]=re[mt]=re[St]=re[Rt]=re[Bt]=re[ae]=re[Xt]=re[Qt]=re[ee]=!1;var ie={};ie[et]=ie[it]=ie[he]=ie[pe]=ie[vt]=ie[lt]=ie[Ee]=ie[Ce]=ie[xe]=ie[Ae]=ie[Re]=ie[St]=ie[Rt]=ie[Bt]=ie[ae]=ie[Xt]=ie[Qt]=ie[zt]=ie[yi]=ie[Qe]=ie[$e]=ie[Ki]=!0,ie[st]=ie[mt]=ie[ee]=!1;var us={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},fs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ds={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cs=parseFloat,ps=parseInt,Xr=typeof C.g=="object"&&C.g&&C.g.Object===Object&&C.g,gs=typeof self=="object"&&self&&self.Object===Object&&self,de=Xr||gs||Function("return this")(),Ur=p&&!p.nodeType&&p,Si=Ur&&!0&&Ot&&!Ot.nodeType&&Ot,zr=Si&&Si.exports===Ur,qi=zr&&Xr.process,Pe=function(){try{var nt=Si&&Si.require&&Si.require("util").types;return nt||qi&&qi.binding&&qi.binding("util")}catch(dt){}}(),Vr=Pe&&Pe.isArrayBuffer,Wr=Pe&&Pe.isDate,Hr=Pe&&Pe.isMap,Kr=Pe&&Pe.isRegExp,Zr=Pe&&Pe.isSet,br=Pe&&Pe.isTypedArray;function ye(nt,dt,ft){switch(ft.length){case 0:return nt.call(dt);case 1:return nt.call(dt,ft[0]);case 2:return nt.call(dt,ft[0],ft[1]);case 3:return nt.call(dt,ft[0],ft[1],ft[2])}return nt.apply(dt,ft)}function ms(nt,dt,ft,At){for(var Yt=-1,kt=nt==null?0:nt.length;++Yt<kt;){var $t=nt[Yt];dt(At,$t,ft($t),nt)}return At}function Me(nt,dt){for(var ft=-1,At=nt==null?0:nt.length;++ft<At&&dt(nt[ft],ft,nt)!==!1;);return nt}function xs(nt,dt){for(var ft=nt==null?0:nt.length;ft--&&dt(nt[ft],ft,nt)!==!1;);return nt}function Jr(nt,dt){for(var ft=-1,At=nt==null?0:nt.length;++ft<At;)if(!dt(nt[ft],ft,nt))return!1;return!0}function je(nt,dt){for(var ft=-1,At=nt==null?0:nt.length,Yt=0,kt=[];++ft<At;){var $t=nt[ft];dt($t,ft,nt)&&(kt[Yt++]=$t)}return kt}function Bi(nt,dt){var ft=nt==null?0:nt.length;return!!ft&&oi(nt,dt,0)>-1}function _i(nt,dt,ft){for(var At=-1,Yt=nt==null?0:nt.length;++At<Yt;)if(ft(dt,nt[At]))return!0;return!1}function ne(nt,dt){for(var ft=-1,At=nt==null?0:nt.length,Yt=Array(At);++ft<At;)Yt[ft]=dt(nt[ft],ft,nt);return Yt}function ke(nt,dt){for(var ft=-1,At=dt.length,Yt=nt.length;++ft<At;)nt[Yt+ft]=dt[ft];return nt}function tr(nt,dt,ft,At){var Yt=-1,kt=nt==null?0:nt.length;for(At&&kt&&(ft=nt[++Yt]);++Yt<kt;)ft=dt(ft,nt[Yt],Yt,nt);return ft}function ys(nt,dt,ft,At){var Yt=nt==null?0:nt.length;for(At&&Yt&&(ft=nt[--Yt]);Yt--;)ft=dt(ft,nt[Yt],Yt,nt);return ft}function er(nt,dt){for(var ft=-1,At=nt==null?0:nt.length;++ft<At;)if(dt(nt[ft],ft,nt))return!0;return!1}var Ts=ir("length");function Ss(nt){return nt.split("")}function Es(nt){return nt.match(In)||[]}function Qr(nt,dt,ft){var At;return ft(nt,function(Yt,kt,$t){if(dt(Yt,kt,$t))return At=kt,!1}),At}function Gi(nt,dt,ft,At){for(var Yt=nt.length,kt=ft+(At?1:-1);At?kt--:++kt<Yt;)if(dt(nt[kt],kt,nt))return kt;return-1}function oi(nt,dt,ft){return dt===dt?pa(nt,dt,ft):Gi(nt,$r,ft)}function Cs(nt,dt,ft,At){for(var Yt=ft-1,kt=nt.length;++Yt<kt;)if(At(nt[Yt],dt))return Yt;return-1}function $r(nt){return nt!==nt}function jr(nt,dt){var ft=nt==null?0:nt.length;return ft?nr(nt,dt)/ft:N}function ir(nt){return function(dt){return dt==null?e:dt[nt]}}function rr(nt){return function(dt){return nt==null?e:nt[dt]}}function kr(nt,dt,ft,At,Yt){return Yt(nt,function(kt,$t,_t){ft=At?(At=!1,kt):dt(ft,kt,$t,_t)}),ft}function As(nt,dt){var ft=nt.length;for(nt.sort(dt);ft--;)nt[ft]=nt[ft].value;return nt}function nr(nt,dt){for(var ft,At=-1,Yt=nt.length;++At<Yt;){var kt=dt(nt[At]);kt!==e&&(ft=ft===e?kt:ft+kt)}return ft}function sr(nt,dt){for(var ft=-1,At=Array(nt);++ft<nt;)At[ft]=dt(ft);return At}function Rs(nt,dt){return ne(dt,function(ft){return[ft,nt[ft]]})}function qr(nt){return nt&&nt.slice(0,en(nt)+1).replace(bi,"")}function Le(nt){return function(dt){return nt(dt)}}function ar(nt,dt){return ne(dt,function(ft){return nt[ft]})}function Ei(nt,dt){return nt.has(dt)}function Ps(nt,dt){for(var ft=-1,At=nt.length;++ft<At&&oi(dt,nt[ft],0)>-1;);return ft}function Ms(nt,dt){for(var ft=nt.length;ft--&&oi(dt,nt[ft],0)>-1;);return ft}function _r(nt,dt){for(var ft=nt.length,At=0;ft--;)nt[ft]===dt&&++At;return At}var Ls=rr(us),Os=rr(fs);function da(nt){return"\\"+ds[nt]}function ca(nt,dt){return nt==null?e:nt[dt]}function hi(nt){return as.test(nt)}function tn(nt){return os.test(nt)}function Fs(nt){for(var dt,ft=[];!(dt=nt.next()).done;)ft.push(dt.value);return ft}function or(nt){var dt=-1,ft=Array(nt.size);return nt.forEach(function(At,Yt){ft[++dt]=[Yt,At]}),ft}function Is(nt,dt){return function(ft){return nt(dt(ft))}}function ei(nt,dt){for(var ft=-1,At=nt.length,Yt=0,kt=[];++ft<At;){var $t=nt[ft];($t===dt||$t===n)&&(nt[ft]=n,kt[Yt++]=ft)}return kt}function Ni(nt){var dt=-1,ft=Array(nt.size);return nt.forEach(function(At){ft[++dt]=At}),ft}function Ds(nt){var dt=-1,ft=Array(nt.size);return nt.forEach(function(At){ft[++dt]=[At,At]}),ft}function pa(nt,dt,ft){for(var At=ft-1,Yt=nt.length;++At<Yt;)if(nt[At]===dt)return At;return-1}function ga(nt,dt,ft){for(var At=ft+1;At--;)if(nt[At]===dt)return At;return At}function Ci(nt){return hi(nt)?Bs(nt):Ts(nt)}function De(nt){return hi(nt)?Gs(nt):Ss(nt)}function en(nt){for(var dt=nt.length;dt--&&Mn.test(nt.charAt(dt)););return dt}var ma=rr(vs);function Bs(nt){for(var dt=ki.lastIndex=0;ki.test(nt);)++dt;return dt}function Gs(nt){return nt.match(ki)||[]}function xa(nt){return nt.match(ss)||[]}var ya=function nt(dt){dt=dt==null?de:hr.defaults(de.Object(),dt,hr.pick(de,hs));var ft=dt.Array,At=dt.Date,Yt=dt.Error,kt=dt.Function,$t=dt.Math,_t=dt.Object,Ai=dt.RegExp,Ta=dt.String,Xe=dt.TypeError,j=ft.prototype,U=kt.prototype,J=_t.prototype,q=dt["__core-js_shared__"],ut=U.toString,at=J.hasOwnProperty,ct=0,Et=function(){var S=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}(),It=J.toString,Kt=ut.call(_t),le=de._,li=Ai("^"+ut.call(at).replace(Zi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lr=zr?dt.Buffer:e,ii=dt.Symbol,ur=dt.Uint8Array,go=lr?lr.allocUnsafe:e,Ns=Is(_t.getPrototypeOf,_t),mo=_t.create,xo=J.propertyIsEnumerable,ws=j.splice,yo=ii?ii.isConcatSpreadable:e,rn=ii?ii.iterator:e,wi=ii?ii.toStringTag:e,Ys=function(){try{var S=Vi(_t,"defineProperty");return S({},"",{}),S}catch(A){}}(),al=dt.clearTimeout!==de.clearTimeout&&dt.clearTimeout,ol=At&&At.now!==de.Date.now&&At.now,hl=dt.setTimeout!==de.setTimeout&&dt.setTimeout,Xs=$t.ceil,Us=$t.floor,Sa=_t.getOwnPropertySymbols,ll=lr?lr.isBuffer:e,To=dt.isFinite,ul=j.join,fl=Is(_t.keys,_t),ce=$t.max,Te=$t.min,vl=At.now,dl=dt.parseInt,So=$t.random,cl=j.reverse,Ea=Vi(dt,"DataView"),nn=Vi(dt,"Map"),Ca=Vi(dt,"Promise"),fr=Vi(dt,"Set"),sn=Vi(dt,"WeakMap"),an=Vi(_t,"create"),zs=sn&&new sn,vr={},pl=Wi(Ea),gl=Wi(nn),ml=Wi(Ca),xl=Wi(fr),yl=Wi(sn),Vs=ii?ii.prototype:e,on=Vs?Vs.valueOf:e,Eo=Vs?Vs.toString:e;function $(S){if(ue(S)&&!Ut(S)&&!(S instanceof Jt)){if(S instanceof He)return S;if(at.call(S,"__wrapped__"))return Ch(S)}return new He(S)}var dr=function(){function S(){}return function(A){if(!oe(A))return{};if(mo)return mo(A);S.prototype=A;var L=new S;return S.prototype=e,L}}();function Ws(){}function He(S,A){this.__wrapped__=S,this.__actions__=[],this.__chain__=!!A,this.__index__=0,this.__values__=e}$.templateSettings={escape:Sn,evaluate:En,interpolate:Sr,variable:"",imports:{_:$}},$.prototype=Ws.prototype,$.prototype.constructor=$,He.prototype=dr(Ws.prototype),He.prototype.constructor=He;function Jt(S){this.__wrapped__=S,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function Tl(){var S=new Jt(this.__wrapped__);return S.__actions__=Be(this.__actions__),S.__dir__=this.__dir__,S.__filtered__=this.__filtered__,S.__iteratees__=Be(this.__iteratees__),S.__takeCount__=this.__takeCount__,S.__views__=Be(this.__views__),S}function Sl(){if(this.__filtered__){var S=new Jt(this);S.__dir__=-1,S.__filtered__=!0}else S=this.clone(),S.__dir__*=-1;return S}function El(){var S=this.__wrapped__.value(),A=this.__dir__,L=Ut(S),Y=A<0,K=L?S.length:0,k=Gu(0,K,this.__views__),tt=k.start,rt=k.end,ot=rt-tt,pt=Y?rt:tt-1,gt=this.__iteratees__,yt=gt.length,Ct=0,Mt=Te(ot,this.__takeCount__);if(!L||!Y&&K==ot&&Mt==ot)return bo(S,this.__actions__);var Gt=[];t:for(;ot--&&Ct<Mt;){pt+=A;for(var Wt=-1,Nt=S[pt];++Wt<yt;){var Zt=gt[Wt],jt=Zt.iteratee,Ve=Zt.type,Ie=jt(Nt);if(Ve==b)Nt=Ie;else if(!Ie){if(Ve==H)continue t;break t}}Gt[Ct++]=Nt}return Gt}Jt.prototype=dr(Ws.prototype),Jt.prototype.constructor=Jt;function Yi(S){var A=-1,L=S==null?0:S.length;for(this.clear();++A<L;){var Y=S[A];this.set(Y[0],Y[1])}}function Cl(){this.__data__=an?an(null):{},this.size=0}function Al(S){var A=this.has(S)&&delete this.__data__[S];return this.size-=A?1:0,A}function Rl(S){var A=this.__data__;if(an){var L=A[S];return L===r?e:L}return at.call(A,S)?A[S]:e}function Pl(S){var A=this.__data__;return an?A[S]!==e:at.call(A,S)}function Ml(S,A){var L=this.__data__;return this.size+=this.has(S)?0:1,L[S]=an&&A===e?r:A,this}Yi.prototype.clear=Cl,Yi.prototype.delete=Al,Yi.prototype.get=Rl,Yi.prototype.has=Pl,Yi.prototype.set=Ml;function ui(S){var A=-1,L=S==null?0:S.length;for(this.clear();++A<L;){var Y=S[A];this.set(Y[0],Y[1])}}function Ll(){this.__data__=[],this.size=0}function Ol(S){var A=this.__data__,L=Hs(A,S);if(L<0)return!1;var Y=A.length-1;return L==Y?A.pop():ws.call(A,L,1),--this.size,!0}function Fl(S){var A=this.__data__,L=Hs(A,S);return L<0?e:A[L][1]}function Il(S){return Hs(this.__data__,S)>-1}function Dl(S,A){var L=this.__data__,Y=Hs(L,S);return Y<0?(++this.size,L.push([S,A])):L[Y][1]=A,this}ui.prototype.clear=Ll,ui.prototype.delete=Ol,ui.prototype.get=Fl,ui.prototype.has=Il,ui.prototype.set=Dl;function fi(S){var A=-1,L=S==null?0:S.length;for(this.clear();++A<L;){var Y=S[A];this.set(Y[0],Y[1])}}function Bl(){this.size=0,this.__data__={hash:new Yi,map:new(nn||ui),string:new Yi}}function Gl(S){var A=ea(this,S).delete(S);return this.size-=A?1:0,A}function Nl(S){return ea(this,S).get(S)}function wl(S){return ea(this,S).has(S)}function Yl(S,A){var L=ea(this,S),Y=L.size;return L.set(S,A),this.size+=L.size==Y?0:1,this}fi.prototype.clear=Bl,fi.prototype.delete=Gl,fi.prototype.get=Nl,fi.prototype.has=wl,fi.prototype.set=Yl;function Xi(S){var A=-1,L=S==null?0:S.length;for(this.__data__=new fi;++A<L;)this.add(S[A])}function Xl(S){return this.__data__.set(S,r),this}function Ul(S){return this.__data__.has(S)}Xi.prototype.add=Xi.prototype.push=Xl,Xi.prototype.has=Ul;function qe(S){var A=this.__data__=new ui(S);this.size=A.size}function zl(){this.__data__=new ui,this.size=0}function Vl(S){var A=this.__data__,L=A.delete(S);return this.size=A.size,L}function Wl(S){return this.__data__.get(S)}function Hl(S){return this.__data__.has(S)}function Kl(S,A){var L=this.__data__;if(L instanceof ui){var Y=L.__data__;if(!nn||Y.length<o-1)return Y.push([S,A]),this.size=++L.size,this;L=this.__data__=new fi(Y)}return L.set(S,A),this.size=L.size,this}qe.prototype.clear=zl,qe.prototype.delete=Vl,qe.prototype.get=Wl,qe.prototype.has=Hl,qe.prototype.set=Kl;function Co(S,A){var L=Ut(S),Y=!L&&Hi(S),K=!L&&!Y&&Oi(S),k=!L&&!Y&&!K&&mr(S),tt=L||Y||K||k,rt=tt?sr(S.length,Ta):[],ot=rt.length;for(var pt in S)(A||at.call(S,pt))&&!(tt&&(pt=="length"||K&&(pt=="offset"||pt=="parent")||k&&(pt=="buffer"||pt=="byteLength"||pt=="byteOffset")||pi(pt,ot)))&&rt.push(pt);return rt}function Ao(S){var A=S.length;return A?S[Ga(0,A-1)]:e}function Zl(S,A){return ia(Be(S),Ui(A,0,S.length))}function bl(S){return ia(Be(S))}function Aa(S,A,L){(L!==e&&!_e(S[A],L)||L===e&&!(A in S))&&vi(S,A,L)}function hn(S,A,L){var Y=S[A];(!(at.call(S,A)&&_e(Y,L))||L===e&&!(A in S))&&vi(S,A,L)}function Hs(S,A){for(var L=S.length;L--;)if(_e(S[L][0],A))return L;return-1}function Jl(S,A,L,Y){return Ri(S,function(K,k,tt){A(Y,K,L(K),tt)}),Y}function Ro(S,A){return S&&ni(A,ge(A),S)}function Ql(S,A){return S&&ni(A,Ne(A),S)}function vi(S,A,L){A=="__proto__"&&Ys?Ys(S,A,{configurable:!0,enumerable:!0,value:L,writable:!0}):S[A]=L}function Ra(S,A){for(var L=-1,Y=A.length,K=ft(Y),k=S==null;++L<Y;)K[L]=k?e:so(S,A[L]);return K}function Ui(S,A,L){return S===S&&(L!==e&&(S=S<=L?S:L),A!==e&&(S=S>=A?S:A)),S}function Ke(S,A,L,Y,K,k){var tt,rt=A&h,ot=A&u,pt=A&v;if(L&&(tt=K?L(S,Y,K,k):L(S)),tt!==e)return tt;if(!oe(S))return S;var gt=Ut(S);if(gt){if(tt=wu(S),!rt)return Be(S,tt)}else{var yt=Se(S),Ct=yt==mt||yt==wt;if(Oi(S))return $o(S,rt);if(yt==Bt||yt==et||Ct&&!K){if(tt=ot||Ct?{}:ch(S),!rt)return ot?Ru(S,Ql(tt,S)):Au(S,Ro(tt,S))}else{if(!ie[yt])return K?S:{};tt=Yu(S,yt,rt)}}k||(k=new qe);var Mt=k.get(S);if(Mt)return Mt;k.set(S,tt),Hh(S)?S.forEach(function(Nt){tt.add(Ke(Nt,A,L,Nt,S,k))}):Vh(S)&&S.forEach(function(Nt,Zt){tt.set(Zt,Ke(Nt,A,L,Zt,S,k))});var Gt=pt?ot?Za:Ka:ot?Ne:ge,Wt=gt?e:Gt(S);return Me(Wt||S,function(Nt,Zt){Wt&&(Zt=Nt,Nt=S[Zt]),hn(tt,Zt,Ke(Nt,A,L,Zt,S,k))}),tt}function $l(S){var A=ge(S);return function(L){return Po(L,S,A)}}function Po(S,A,L){var Y=L.length;if(S==null)return!Y;for(S=_t(S);Y--;){var K=L[Y],k=A[K],tt=S[K];if(tt===e&&!(K in S)||!k(tt))return!1}return!0}function Mo(S,A,L){if(typeof S!="function")throw new Xe(s);return pn(function(){S.apply(e,L)},A)}function ln(S,A,L,Y){var K=-1,k=Bi,tt=!0,rt=S.length,ot=[],pt=A.length;if(!rt)return ot;L&&(A=ne(A,Le(L))),Y?(k=_i,tt=!1):A.length>=o&&(k=Ei,tt=!1,A=new Xi(A));t:for(;++K<rt;){var gt=S[K],yt=L==null?gt:L(gt);if(gt=Y||gt!==0?gt:0,tt&&yt===yt){for(var Ct=pt;Ct--;)if(A[Ct]===yt)continue t;ot.push(gt)}else k(A,yt,Y)||ot.push(gt)}return ot}var Ri=th(ri),Lo=th(Ma,!0);function jl(S,A){var L=!0;return Ri(S,function(Y,K,k){return L=!!A(Y,K,k),L}),L}function Ks(S,A,L){for(var Y=-1,K=S.length;++Y<K;){var k=S[Y],tt=A(k);if(tt!=null&&(rt===e?tt===tt&&!ze(tt):L(tt,rt)))var rt=tt,ot=k}return ot}function kl(S,A,L,Y){var K=S.length;for(L=Vt(L),L<0&&(L=-L>K?0:K+L),Y=Y===e||Y>K?K:Vt(Y),Y<0&&(Y+=K),Y=L>Y?0:Zh(Y);L<Y;)S[L++]=A;return S}function Oo(S,A){var L=[];return Ri(S,function(Y,K,k){A(Y,K,k)&&L.push(Y)}),L}function me(S,A,L,Y,K){var k=-1,tt=S.length;for(L||(L=Uu),K||(K=[]);++k<tt;){var rt=S[k];A>0&&L(rt)?A>1?me(rt,A-1,L,Y,K):ke(K,rt):Y||(K[K.length]=rt)}return K}var Pa=eh(),Fo=eh(!0);function ri(S,A){return S&&Pa(S,A,ge)}function Ma(S,A){return S&&Fo(S,A,ge)}function Zs(S,A){return je(A,function(L){return gi(S[L])})}function zi(S,A){A=Mi(A,S);for(var L=0,Y=A.length;S!=null&&L<Y;)S=S[si(A[L++])];return L&&L==Y?S:e}function Io(S,A,L){var Y=A(S);return Ut(S)?Y:ke(Y,L(S))}function Oe(S){return S==null?S===e?Lt:Tt:wi&&wi in _t(S)?Bu(S):bu(S)}function La(S,A){return S>A}function ql(S,A){return S!=null&&at.call(S,A)}function _l(S,A){return S!=null&&A in _t(S)}function tu(S,A,L){return S>=Te(A,L)&&S<ce(A,L)}function Oa(S,A,L){for(var Y=L?_i:Bi,K=S[0].length,k=S.length,tt=k,rt=ft(k),ot=1/0,pt=[];tt--;){var gt=S[tt];tt&&A&&(gt=ne(gt,Le(A))),ot=Te(gt.length,ot),rt[tt]=!L&&(A||K>=120&&gt.length>=120)?new Xi(tt&&gt):e}gt=S[0];var yt=-1,Ct=rt[0];t:for(;++yt<K&&pt.length<ot;){var Mt=gt[yt],Gt=A?A(Mt):Mt;if(Mt=L||Mt!==0?Mt:0,!(Ct?Ei(Ct,Gt):Y(pt,Gt,L))){for(tt=k;--tt;){var Wt=rt[tt];if(!(Wt?Ei(Wt,Gt):Y(S[tt],Gt,L)))continue t}Ct&&Ct.push(Gt),pt.push(Mt)}}return pt}function eu(S,A,L,Y){return ri(S,function(K,k,tt){A(Y,L(K),k,tt)}),Y}function un(S,A,L){A=Mi(A,S),S=xh(S,A);var Y=S==null?S:S[si(be(A))];return Y==null?e:ye(Y,S,L)}function Do(S){return ue(S)&&Oe(S)==et}function iu(S){return ue(S)&&Oe(S)==he}function ru(S){return ue(S)&&Oe(S)==lt}function fn(S,A,L,Y,K){return S===A?!0:S==null||A==null||!ue(S)&&!ue(A)?S!==S&&A!==A:nu(S,A,L,Y,fn,K)}function nu(S,A,L,Y,K,k){var tt=Ut(S),rt=Ut(A),ot=tt?it:Se(S),pt=rt?it:Se(A);ot=ot==et?Bt:ot,pt=pt==et?Bt:pt;var gt=ot==Bt,yt=pt==Bt,Ct=ot==pt;if(Ct&&Oi(S)){if(!Oi(A))return!1;tt=!0,gt=!1}if(Ct&&!gt)return k||(k=new qe),tt||mr(S)?fh(S,A,L,Y,K,k):Iu(S,A,ot,L,Y,K,k);if(!(L&f)){var Mt=gt&&at.call(S,"__wrapped__"),Gt=yt&&at.call(A,"__wrapped__");if(Mt||Gt){var Wt=Mt?S.value():S,Nt=Gt?A.value():A;return k||(k=new qe),K(Wt,Nt,L,Y,k)}}return Ct?(k||(k=new qe),Du(S,A,L,Y,K,k)):!1}function su(S){return ue(S)&&Se(S)==St}function Fa(S,A,L,Y){var K=L.length,k=K,tt=!Y;if(S==null)return!k;for(S=_t(S);K--;){var rt=L[K];if(tt&&rt[2]?rt[1]!==S[rt[0]]:!(rt[0]in S))return!1}for(;++K<k;){rt=L[K];var ot=rt[0],pt=S[ot],gt=rt[1];if(tt&&rt[2]){if(pt===e&&!(ot in S))return!1}else{var yt=new qe;if(Y)var Ct=Y(pt,gt,ot,S,A,yt);if(!(Ct===e?fn(gt,pt,f|c,Y,yt):Ct))return!1}}return!0}function Bo(S){if(!oe(S)||Vu(S))return!1;var A=gi(S)?li:Yn;return A.test(Wi(S))}function au(S){return ue(S)&&Oe(S)==ae}function ou(S){return ue(S)&&Se(S)==Xt}function hu(S){return ue(S)&&ha(S.length)&&!!re[Oe(S)]}function Go(S){return typeof S=="function"?S:S==null?we:typeof S=="object"?Ut(S)?Yo(S[0],S[1]):wo(S):il(S)}function Ia(S){if(!cn(S))return fl(S);var A=[];for(var L in _t(S))at.call(S,L)&&L!="constructor"&&A.push(L);return A}function lu(S){if(!oe(S))return Zu(S);var A=cn(S),L=[];for(var Y in S)Y=="constructor"&&(A||!at.call(S,Y))||L.push(Y);return L}function Da(S,A){return S<A}function No(S,A){var L=-1,Y=Ge(S)?ft(S.length):[];return Ri(S,function(K,k,tt){Y[++L]=A(K,k,tt)}),Y}function wo(S){var A=Ja(S);return A.length==1&&A[0][2]?gh(A[0][0],A[0][1]):function(L){return L===S||Fa(L,S,A)}}function Yo(S,A){return $a(S)&&ph(A)?gh(si(S),A):function(L){var Y=so(L,S);return Y===e&&Y===A?ao(L,S):fn(A,Y,f|c)}}function bs(S,A,L,Y,K){S!==A&&Pa(A,function(k,tt){if(K||(K=new qe),oe(k))uu(S,A,tt,L,bs,Y,K);else{var rt=Y?Y(ka(S,tt),k,tt+"",S,A,K):e;rt===e&&(rt=k),Aa(S,tt,rt)}},Ne)}function uu(S,A,L,Y,K,k,tt){var rt=ka(S,L),ot=ka(A,L),pt=tt.get(ot);if(pt){Aa(S,L,pt);return}var gt=k?k(rt,ot,L+"",S,A,tt):e,yt=gt===e;if(yt){var Ct=Ut(ot),Mt=!Ct&&Oi(ot),Gt=!Ct&&!Mt&&mr(ot);gt=ot,Ct||Mt||Gt?Ut(rt)?gt=rt:fe(rt)?gt=Be(rt):Mt?(yt=!1,gt=$o(ot,!0)):Gt?(yt=!1,gt=jo(ot,!0)):gt=[]:gn(ot)||Hi(ot)?(gt=rt,Hi(rt)?gt=bh(rt):(!oe(rt)||gi(rt))&&(gt=ch(ot))):yt=!1}yt&&(tt.set(ot,gt),K(gt,ot,Y,k,tt),tt.delete(ot)),Aa(S,L,gt)}function Xo(S,A){var L=S.length;if(!!L)return A+=A<0?L:0,pi(A,L)?S[A]:e}function Uo(S,A,L){A.length?A=ne(A,function(k){return Ut(k)?function(tt){return zi(tt,k.length===1?k[0]:k)}:k}):A=[we];var Y=-1;A=ne(A,Le(Dt()));var K=No(S,function(k,tt,rt){var ot=ne(A,function(pt){return pt(k)});return{criteria:ot,index:++Y,value:k}});return As(K,function(k,tt){return Cu(k,tt,L)})}function fu(S,A){return zo(S,A,function(L,Y){return ao(S,Y)})}function zo(S,A,L){for(var Y=-1,K=A.length,k={};++Y<K;){var tt=A[Y],rt=zi(S,tt);L(rt,tt)&&vn(k,Mi(tt,S),rt)}return k}function vu(S){return function(A){return zi(A,S)}}function Ba(S,A,L,Y){var K=Y?Cs:oi,k=-1,tt=A.length,rt=S;for(S===A&&(A=Be(A)),L&&(rt=ne(S,Le(L)));++k<tt;)for(var ot=0,pt=A[k],gt=L?L(pt):pt;(ot=K(rt,gt,ot,Y))>-1;)rt!==S&&ws.call(rt,ot,1),ws.call(S,ot,1);return S}function Vo(S,A){for(var L=S?A.length:0,Y=L-1;L--;){var K=A[L];if(L==Y||K!==k){var k=K;pi(K)?ws.call(S,K,1):Ya(S,K)}}return S}function Ga(S,A){return S+Us(So()*(A-S+1))}function du(S,A,L,Y){for(var K=-1,k=ce(Xs((A-S)/(L||1)),0),tt=ft(k);k--;)tt[Y?k:++K]=S,S+=L;return tt}function Na(S,A){var L="";if(!S||A<1||A>F)return L;do A%2&&(L+=S),A=Us(A/2),A&&(S+=S);while(A);return L}function Ht(S,A){return qa(mh(S,A,we),S+"")}function cu(S){return Ao(xr(S))}function pu(S,A){var L=xr(S);return ia(L,Ui(A,0,L.length))}function vn(S,A,L,Y){if(!oe(S))return S;A=Mi(A,S);for(var K=-1,k=A.length,tt=k-1,rt=S;rt!=null&&++K<k;){var ot=si(A[K]),pt=L;if(ot==="__proto__"||ot==="constructor"||ot==="prototype")return S;if(K!=tt){var gt=rt[ot];pt=Y?Y(gt,ot,rt):e,pt===e&&(pt=oe(gt)?gt:pi(A[K+1])?[]:{})}hn(rt,ot,pt),rt=rt[ot]}return S}var Wo=zs?function(S,A){return zs.set(S,A),S}:we,gu=Ys?function(S,A){return Ys(S,"toString",{configurable:!0,enumerable:!1,value:ho(A),writable:!0})}:we;function mu(S){return ia(xr(S))}function Ze(S,A,L){var Y=-1,K=S.length;A<0&&(A=-A>K?0:K+A),L=L>K?K:L,L<0&&(L+=K),K=A>L?0:L-A>>>0,A>>>=0;for(var k=ft(K);++Y<K;)k[Y]=S[Y+A];return k}function xu(S,A){var L;return Ri(S,function(Y,K,k){return L=A(Y,K,k),!L}),!!L}function Js(S,A,L){var Y=0,K=S==null?Y:S.length;if(typeof A=="number"&&A===A&&K<=W){for(;Y<K;){var k=Y+K>>>1,tt=S[k];tt!==null&&!ze(tt)&&(L?tt<=A:tt<A)?Y=k+1:K=k}return K}return wa(S,A,we,L)}function wa(S,A,L,Y){var K=0,k=S==null?0:S.length;if(k===0)return 0;A=L(A);for(var tt=A!==A,rt=A===null,ot=ze(A),pt=A===e;K<k;){var gt=Us((K+k)/2),yt=L(S[gt]),Ct=yt!==e,Mt=yt===null,Gt=yt===yt,Wt=ze(yt);if(tt)var Nt=Y||Gt;else pt?Nt=Gt&&(Y||Ct):rt?Nt=Gt&&Ct&&(Y||!Mt):ot?Nt=Gt&&Ct&&!Mt&&(Y||!Wt):Mt||Wt?Nt=!1:Nt=Y?yt<=A:yt<A;Nt?K=gt+1:k=gt}return Te(k,V)}function Ho(S,A){for(var L=-1,Y=S.length,K=0,k=[];++L<Y;){var tt=S[L],rt=A?A(tt):tt;if(!L||!_e(rt,ot)){var ot=rt;k[K++]=tt===0?0:tt}}return k}function Ko(S){return typeof S=="number"?S:ze(S)?N:+S}function Ue(S){if(typeof S=="string")return S;if(Ut(S))return ne(S,Ue)+"";if(ze(S))return Eo?Eo.call(S):"";var A=S+"";return A=="0"&&1/S==-D?"-0":A}function Pi(S,A,L){var Y=-1,K=Bi,k=S.length,tt=!0,rt=[],ot=rt;if(L)tt=!1,K=_i;else if(k>=o){var pt=A?null:Ou(S);if(pt)return Ni(pt);tt=!1,K=Ei,ot=new Xi}else ot=A?[]:rt;t:for(;++Y<k;){var gt=S[Y],yt=A?A(gt):gt;if(gt=L||gt!==0?gt:0,tt&&yt===yt){for(var Ct=ot.length;Ct--;)if(ot[Ct]===yt)continue t;A&&ot.push(yt),rt.push(gt)}else K(ot,yt,L)||(ot!==rt&&ot.push(yt),rt.push(gt))}return rt}function Ya(S,A){return A=Mi(A,S),S=xh(S,A),S==null||delete S[si(be(A))]}function Zo(S,A,L,Y){return vn(S,A,L(zi(S,A)),Y)}function Qs(S,A,L,Y){for(var K=S.length,k=Y?K:-1;(Y?k--:++k<K)&&A(S[k],k,S););return L?Ze(S,Y?0:k,Y?k+1:K):Ze(S,Y?k+1:0,Y?K:k)}function bo(S,A){var L=S;return L instanceof Jt&&(L=L.value()),tr(A,function(Y,K){return K.func.apply(K.thisArg,ke([Y],K.args))},L)}function Xa(S,A,L){var Y=S.length;if(Y<2)return Y?Pi(S[0]):[];for(var K=-1,k=ft(Y);++K<Y;)for(var tt=S[K],rt=-1;++rt<Y;)rt!=K&&(k[K]=ln(k[K]||tt,S[rt],A,L));return Pi(me(k,1),A,L)}function Jo(S,A,L){for(var Y=-1,K=S.length,k=A.length,tt={};++Y<K;){var rt=Y<k?A[Y]:e;L(tt,S[Y],rt)}return tt}function Ua(S){return fe(S)?S:[]}function za(S){return typeof S=="function"?S:we}function Mi(S,A){return Ut(S)?S:$a(S,A)?[S]:Eh(te(S))}var yu=Ht;function Li(S,A,L){var Y=S.length;return L=L===e?Y:L,!A&&L>=Y?S:Ze(S,A,L)}var Qo=al||function(S){return de.clearTimeout(S)};function $o(S,A){if(A)return S.slice();var L=S.length,Y=go?go(L):new S.constructor(L);return S.copy(Y),Y}function Va(S){var A=new S.constructor(S.byteLength);return new ur(A).set(new ur(S)),A}function Tu(S,A){var L=A?Va(S.buffer):S.buffer;return new S.constructor(L,S.byteOffset,S.byteLength)}function Su(S){var A=new S.constructor(S.source,Er.exec(S));return A.lastIndex=S.lastIndex,A}function Eu(S){return on?_t(on.call(S)):{}}function jo(S,A){var L=A?Va(S.buffer):S.buffer;return new S.constructor(L,S.byteOffset,S.length)}function ko(S,A){if(S!==A){var L=S!==e,Y=S===null,K=S===S,k=ze(S),tt=A!==e,rt=A===null,ot=A===A,pt=ze(A);if(!rt&&!pt&&!k&&S>A||k&&tt&&ot&&!rt&&!pt||Y&&tt&&ot||!L&&ot||!K)return 1;if(!Y&&!k&&!pt&&S<A||pt&&L&&K&&!Y&&!k||rt&&L&&K||!tt&&K||!ot)return-1}return 0}function Cu(S,A,L){for(var Y=-1,K=S.criteria,k=A.criteria,tt=K.length,rt=L.length;++Y<tt;){var ot=ko(K[Y],k[Y]);if(ot){if(Y>=rt)return ot;var pt=L[Y];return ot*(pt=="desc"?-1:1)}}return S.index-A.index}function qo(S,A,L,Y){for(var K=-1,k=S.length,tt=L.length,rt=-1,ot=A.length,pt=ce(k-tt,0),gt=ft(ot+pt),yt=!Y;++rt<ot;)gt[rt]=A[rt];for(;++K<tt;)(yt||K<k)&&(gt[L[K]]=S[K]);for(;pt--;)gt[rt++]=S[K++];return gt}function _o(S,A,L,Y){for(var K=-1,k=S.length,tt=-1,rt=L.length,ot=-1,pt=A.length,gt=ce(k-rt,0),yt=ft(gt+pt),Ct=!Y;++K<gt;)yt[K]=S[K];for(var Mt=K;++ot<pt;)yt[Mt+ot]=A[ot];for(;++tt<rt;)(Ct||K<k)&&(yt[Mt+L[tt]]=S[K++]);return yt}function Be(S,A){var L=-1,Y=S.length;for(A||(A=ft(Y));++L<Y;)A[L]=S[L];return A}function ni(S,A,L,Y){var K=!L;L||(L={});for(var k=-1,tt=A.length;++k<tt;){var rt=A[k],ot=Y?Y(L[rt],S[rt],rt,L,S):e;ot===e&&(ot=S[rt]),K?vi(L,rt,ot):hn(L,rt,ot)}return L}function Au(S,A){return ni(S,Qa(S),A)}function Ru(S,A){return ni(S,vh(S),A)}function $s(S,A){return function(L,Y){var K=Ut(L)?ms:Jl,k=A?A():{};return K(L,S,Dt(Y,2),k)}}function cr(S){return Ht(function(A,L){var Y=-1,K=L.length,k=K>1?L[K-1]:e,tt=K>2?L[2]:e;for(k=S.length>3&&typeof k=="function"?(K--,k):e,tt&&Fe(L[0],L[1],tt)&&(k=K<3?e:k,K=1),A=_t(A);++Y<K;){var rt=L[Y];rt&&S(A,rt,Y,k)}return A})}function th(S,A){return function(L,Y){if(L==null)return L;if(!Ge(L))return S(L,Y);for(var K=L.length,k=A?K:-1,tt=_t(L);(A?k--:++k<K)&&Y(tt[k],k,tt)!==!1;);return L}}function eh(S){return function(A,L,Y){for(var K=-1,k=_t(A),tt=Y(A),rt=tt.length;rt--;){var ot=tt[S?rt:++K];if(L(k[ot],ot,k)===!1)break}return A}}function Pu(S,A,L){var Y=A&g,K=dn(S);function k(){var tt=this&&this!==de&&this instanceof k?K:S;return tt.apply(Y?L:this,arguments)}return k}function ih(S){return function(A){A=te(A);var L=hi(A)?De(A):e,Y=L?L[0]:A.charAt(0),K=L?Li(L,1).join(""):A.slice(1);return Y[S]()+K}}function pr(S){return function(A){return tr(tl(_h(A).replace(rs,"")),S,"")}}function dn(S){return function(){var A=arguments;switch(A.length){case 0:return new S;case 1:return new S(A[0]);case 2:return new S(A[0],A[1]);case 3:return new S(A[0],A[1],A[2]);case 4:return new S(A[0],A[1],A[2],A[3]);case 5:return new S(A[0],A[1],A[2],A[3],A[4]);case 6:return new S(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new S(A[0],A[1],A[2],A[3],A[4],A[5],A[6])}var L=dr(S.prototype),Y=S.apply(L,A);return oe(Y)?Y:L}}function Mu(S,A,L){var Y=dn(S);function K(){for(var k=arguments.length,tt=ft(k),rt=k,ot=gr(K);rt--;)tt[rt]=arguments[rt];var pt=k<3&&tt[0]!==ot&&tt[k-1]!==ot?[]:ei(tt,ot);if(k-=pt.length,k<L)return oh(S,A,js,K.placeholder,e,tt,pt,e,e,L-k);var gt=this&&this!==de&&this instanceof K?Y:S;return ye(gt,this,tt)}return K}function rh(S){return function(A,L,Y){var K=_t(A);if(!Ge(A)){var k=Dt(L,3);A=ge(A),L=function(rt){return k(K[rt],rt,K)}}var tt=S(A,L,Y);return tt>-1?K[k?A[tt]:tt]:e}}function nh(S){return ci(function(A){var L=A.length,Y=L,K=He.prototype.thru;for(S&&A.reverse();Y--;){var k=A[Y];if(typeof k!="function")throw new Xe(s);if(K&&!tt&&ta(k)=="wrapper")var tt=new He([],!0)}for(Y=tt?Y:L;++Y<L;){k=A[Y];var rt=ta(k),ot=rt=="wrapper"?ba(k):e;ot&&ja(ot[0])&&ot[1]==(M|y|E|P)&&!ot[4].length&&ot[9]==1?tt=tt[ta(ot[0])].apply(tt,ot[3]):tt=k.length==1&&ja(k)?tt[rt]():tt.thru(k)}return function(){var pt=arguments,gt=pt[0];if(tt&&pt.length==1&&Ut(gt))return tt.plant(gt).value();for(var yt=0,Ct=L?A[yt].apply(this,pt):gt;++yt<L;)Ct=A[yt].call(this,Ct);return Ct}})}function js(S,A,L,Y,K,k,tt,rt,ot,pt){var gt=A&M,yt=A&g,Ct=A&m,Mt=A&(y|T),Gt=A&O,Wt=Ct?e:dn(S);function Nt(){for(var Zt=arguments.length,jt=ft(Zt),Ve=Zt;Ve--;)jt[Ve]=arguments[Ve];if(Mt)var Ie=gr(Nt),We=_r(jt,Ie);if(Y&&(jt=qo(jt,Y,K,Mt)),k&&(jt=_o(jt,k,tt,Mt)),Zt-=We,Mt&&Zt<pt){var ve=ei(jt,Ie);return oh(S,A,js,Nt.placeholder,L,jt,ve,rt,ot,pt-Zt)}var ti=yt?L:this,xi=Ct?ti[S]:S;return Zt=jt.length,rt?jt=Ju(jt,rt):Gt&&Zt>1&&jt.reverse(),gt&&ot<Zt&&(jt.length=ot),this&&this!==de&&this instanceof Nt&&(xi=Wt||dn(xi)),xi.apply(ti,jt)}return Nt}function sh(S,A){return function(L,Y){return eu(L,S,A(Y),{})}}function ks(S,A){return function(L,Y){var K;if(L===e&&Y===e)return A;if(L!==e&&(K=L),Y!==e){if(K===e)return Y;typeof L=="string"||typeof Y=="string"?(L=Ue(L),Y=Ue(Y)):(L=Ko(L),Y=Ko(Y)),K=S(L,Y)}return K}}function Wa(S){return ci(function(A){return A=ne(A,Le(Dt())),Ht(function(L){var Y=this;return S(A,function(K){return ye(K,Y,L)})})})}function qs(S,A){A=A===e?" ":Ue(A);var L=A.length;if(L<2)return L?Na(A,S):A;var Y=Na(A,Xs(S/Ci(A)));return hi(A)?Li(De(Y),0,S).join(""):Y.slice(0,S)}function Lu(S,A,L,Y){var K=A&g,k=dn(S);function tt(){for(var rt=-1,ot=arguments.length,pt=-1,gt=Y.length,yt=ft(gt+ot),Ct=this&&this!==de&&this instanceof tt?k:S;++pt<gt;)yt[pt]=Y[pt];for(;ot--;)yt[pt++]=arguments[++rt];return ye(Ct,K?L:this,yt)}return tt}function ah(S){return function(A,L,Y){return Y&&typeof Y!="number"&&Fe(A,L,Y)&&(L=Y=e),A=mi(A),L===e?(L=A,A=0):L=mi(L),Y=Y===e?A<L?1:-1:mi(Y),du(A,L,Y,S)}}function _s(S){return function(A,L){return typeof A=="string"&&typeof L=="string"||(A=Je(A),L=Je(L)),S(A,L)}}function oh(S,A,L,Y,K,k,tt,rt,ot,pt){var gt=A&y,yt=gt?tt:e,Ct=gt?e:tt,Mt=gt?k:e,Gt=gt?e:k;A|=gt?E:R,A&=~(gt?R:E),A&x||(A&=~(g|m));var Wt=[S,A,K,Mt,yt,Gt,Ct,rt,ot,pt],Nt=L.apply(e,Wt);return ja(S)&&yh(Nt,Wt),Nt.placeholder=Y,Th(Nt,S,A)}function Ha(S){var A=$t[S];return function(L,Y){if(L=Je(L),Y=Y==null?0:Te(Vt(Y),292),Y&&To(L)){var K=(te(L)+"e").split("e"),k=A(K[0]+"e"+(+K[1]+Y));return K=(te(k)+"e").split("e"),+(K[0]+"e"+(+K[1]-Y))}return A(L)}}var Ou=fr&&1/Ni(new fr([,-0]))[1]==D?function(S){return new fr(S)}:fo;function hh(S){return function(A){var L=Se(A);return L==St?or(A):L==Xt?Ds(A):Rs(A,S(A))}}function di(S,A,L,Y,K,k,tt,rt){var ot=A&m;if(!ot&&typeof S!="function")throw new Xe(s);var pt=Y?Y.length:0;if(pt||(A&=~(E|R),Y=K=e),tt=tt===e?tt:ce(Vt(tt),0),rt=rt===e?rt:Vt(rt),pt-=K?K.length:0,A&R){var gt=Y,yt=K;Y=K=e}var Ct=ot?e:ba(S),Mt=[S,A,L,Y,K,gt,yt,k,tt,rt];if(Ct&&Ku(Mt,Ct),S=Mt[0],A=Mt[1],L=Mt[2],Y=Mt[3],K=Mt[4],rt=Mt[9]=Mt[9]===e?ot?0:S.length:ce(Mt[9]-pt,0),!rt&&A&(y|T)&&(A&=~(y|T)),!A||A==g)var Gt=Pu(S,A,L);else A==y||A==T?Gt=Mu(S,A,rt):(A==E||A==(g|E))&&!K.length?Gt=Lu(S,A,L,Y):Gt=js.apply(e,Mt);var Wt=Ct?Wo:yh;return Th(Wt(Gt,Mt),S,A)}function lh(S,A,L,Y){return S===e||_e(S,J[L])&&!at.call(Y,L)?A:S}function uh(S,A,L,Y,K,k){return oe(S)&&oe(A)&&(k.set(A,S),bs(S,A,e,uh,k),k.delete(A)),S}function Fu(S){return gn(S)?e:S}function fh(S,A,L,Y,K,k){var tt=L&f,rt=S.length,ot=A.length;if(rt!=ot&&!(tt&&ot>rt))return!1;var pt=k.get(S),gt=k.get(A);if(pt&&gt)return pt==A&&gt==S;var yt=-1,Ct=!0,Mt=L&c?new Xi:e;for(k.set(S,A),k.set(A,S);++yt<rt;){var Gt=S[yt],Wt=A[yt];if(Y)var Nt=tt?Y(Wt,Gt,yt,A,S,k):Y(Gt,Wt,yt,S,A,k);if(Nt!==e){if(Nt)continue;Ct=!1;break}if(Mt){if(!er(A,function(Zt,jt){if(!Ei(Mt,jt)&&(Gt===Zt||K(Gt,Zt,L,Y,k)))return Mt.push(jt)})){Ct=!1;break}}else if(!(Gt===Wt||K(Gt,Wt,L,Y,k))){Ct=!1;break}}return k.delete(S),k.delete(A),Ct}function Iu(S,A,L,Y,K,k,tt){switch(L){case pe:if(S.byteLength!=A.byteLength||S.byteOffset!=A.byteOffset)return!1;S=S.buffer,A=A.buffer;case he:return!(S.byteLength!=A.byteLength||!k(new ur(S),new ur(A)));case vt:case lt:case Rt:return _e(+S,+A);case st:return S.name==A.name&&S.message==A.message;case ae:case Qt:return S==A+"";case St:var rt=or;case Xt:var ot=Y&f;if(rt||(rt=Ni),S.size!=A.size&&!ot)return!1;var pt=tt.get(S);if(pt)return pt==A;Y|=c,tt.set(S,A);var gt=fh(rt(S),rt(A),Y,K,k,tt);return tt.delete(S),gt;case zt:if(on)return on.call(S)==on.call(A)}return!1}function Du(S,A,L,Y,K,k){var tt=L&f,rt=Ka(S),ot=rt.length,pt=Ka(A),gt=pt.length;if(ot!=gt&&!tt)return!1;for(var yt=ot;yt--;){var Ct=rt[yt];if(!(tt?Ct in A:at.call(A,Ct)))return!1}var Mt=k.get(S),Gt=k.get(A);if(Mt&&Gt)return Mt==A&&Gt==S;var Wt=!0;k.set(S,A),k.set(A,S);for(var Nt=tt;++yt<ot;){Ct=rt[yt];var Zt=S[Ct],jt=A[Ct];if(Y)var Ve=tt?Y(jt,Zt,Ct,A,S,k):Y(Zt,jt,Ct,S,A,k);if(!(Ve===e?Zt===jt||K(Zt,jt,L,Y,k):Ve)){Wt=!1;break}Nt||(Nt=Ct=="constructor")}if(Wt&&!Nt){var Ie=S.constructor,We=A.constructor;Ie!=We&&"constructor"in S&&"constructor"in A&&!(typeof Ie=="function"&&Ie instanceof Ie&&typeof We=="function"&&We instanceof We)&&(Wt=!1)}return k.delete(S),k.delete(A),Wt}function ci(S){return qa(mh(S,e,Ph),S+"")}function Ka(S){return Io(S,ge,Qa)}function Za(S){return Io(S,Ne,vh)}var ba=zs?function(S){return zs.get(S)}:fo;function ta(S){for(var A=S.name+"",L=vr[A],Y=at.call(vr,A)?L.length:0;Y--;){var K=L[Y],k=K.func;if(k==null||k==S)return K.name}return A}function gr(S){var A=at.call($,"placeholder")?$:S;return A.placeholder}function Dt(){var S=$.iteratee||lo;return S=S===lo?Go:S,arguments.length?S(arguments[0],arguments[1]):S}function ea(S,A){var L=S.__data__;return zu(A)?L[typeof A=="string"?"string":"hash"]:L.map}function Ja(S){for(var A=ge(S),L=A.length;L--;){var Y=A[L],K=S[Y];A[L]=[Y,K,ph(K)]}return A}function Vi(S,A){var L=ca(S,A);return Bo(L)?L:e}function Bu(S){var A=at.call(S,wi),L=S[wi];try{S[wi]=e;var Y=!0}catch(k){}var K=It.call(S);return Y&&(A?S[wi]=L:delete S[wi]),K}var Qa=Sa?function(S){return S==null?[]:(S=_t(S),je(Sa(S),function(A){return xo.call(S,A)}))}:vo,vh=Sa?function(S){for(var A=[];S;)ke(A,Qa(S)),S=Ns(S);return A}:vo,Se=Oe;(Ea&&Se(new Ea(new ArrayBuffer(1)))!=pe||nn&&Se(new nn)!=St||Ca&&Se(Ca.resolve())!=Pt||fr&&Se(new fr)!=Xt||sn&&Se(new sn)!=ee)&&(Se=function(S){var A=Oe(S),L=A==Bt?S.constructor:e,Y=L?Wi(L):"";if(Y)switch(Y){case pl:return pe;case gl:return St;case ml:return Pt;case xl:return Xt;case yl:return ee}return A});function Gu(S,A,L){for(var Y=-1,K=L.length;++Y<K;){var k=L[Y],tt=k.size;switch(k.type){case"drop":S+=tt;break;case"dropRight":A-=tt;break;case"take":A=Te(A,S+tt);break;case"takeRight":S=ce(S,A-tt);break}}return{start:S,end:A}}function Nu(S){var A=S.match(On);return A?A[1].split(Fn):[]}function dh(S,A,L){A=Mi(A,S);for(var Y=-1,K=A.length,k=!1;++Y<K;){var tt=si(A[Y]);if(!(k=S!=null&&L(S,tt)))break;S=S[tt]}return k||++Y!=K?k:(K=S==null?0:S.length,!!K&&ha(K)&&pi(tt,K)&&(Ut(S)||Hi(S)))}function wu(S){var A=S.length,L=new S.constructor(A);return A&&typeof S[0]=="string"&&at.call(S,"index")&&(L.index=S.index,L.input=S.input),L}function ch(S){return typeof S.constructor=="function"&&!cn(S)?dr(Ns(S)):{}}function Yu(S,A,L){var Y=S.constructor;switch(A){case he:return Va(S);case vt:case lt:return new Y(+S);case pe:return Tu(S,L);case Ee:case Ce:case xe:case Ae:case Re:case yi:case Qe:case $e:case Ki:return jo(S,L);case St:return new Y;case Rt:case Qt:return new Y(S);case ae:return Su(S);case Xt:return new Y;case zt:return Eu(S)}}function Xu(S,A){var L=A.length;if(!L)return S;var Y=L-1;return A[Y]=(L>1?"& ":"")+A[Y],A=A.join(L>2?", ":" "),S.replace(Ln,`{
/* [wrapped with `+A+`] */
`)}function Uu(S){return Ut(S)||Hi(S)||!!(yo&&S&&S[yo])}function pi(S,A){var L=typeof S;return A=A==null?F:A,!!A&&(L=="number"||L!="symbol"&&Un.test(S))&&S>-1&&S%1==0&&S<A}function Fe(S,A,L){if(!oe(L))return!1;var Y=typeof A;return(Y=="number"?Ge(L)&&pi(A,L.length):Y=="string"&&A in L)?_e(L[A],S):!1}function $a(S,A){if(Ut(S))return!1;var L=typeof S;return L=="number"||L=="symbol"||L=="boolean"||S==null||ze(S)?!0:An.test(S)||!Cn.test(S)||A!=null&&S in _t(A)}function zu(S){var A=typeof S;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?S!=="__proto__":S===null}function ja(S){var A=ta(S),L=$[A];if(typeof L!="function"||!(A in Jt.prototype))return!1;if(S===L)return!0;var Y=ba(L);return!!Y&&S===Y[0]}function Vu(S){return!!Et&&Et in S}var Wu=q?gi:co;function cn(S){var A=S&&S.constructor,L=typeof A=="function"&&A.prototype||J;return S===L}function ph(S){return S===S&&!oe(S)}function gh(S,A){return function(L){return L==null?!1:L[S]===A&&(A!==e||S in _t(L))}}function Hu(S){var A=aa(S,function(Y){return L.size===l&&L.clear(),Y}),L=A.cache;return A}function Ku(S,A){var L=S[1],Y=A[1],K=L|Y,k=K<(g|m|M),tt=Y==M&&L==y||Y==M&&L==P&&S[7].length<=A[8]||Y==(M|P)&&A[7].length<=A[8]&&L==y;if(!(k||tt))return S;Y&g&&(S[2]=A[2],K|=L&g?0:x);var rt=A[3];if(rt){var ot=S[3];S[3]=ot?qo(ot,rt,A[4]):rt,S[4]=ot?ei(S[3],n):A[4]}return rt=A[5],rt&&(ot=S[5],S[5]=ot?_o(ot,rt,A[6]):rt,S[6]=ot?ei(S[5],n):A[6]),rt=A[7],rt&&(S[7]=rt),Y&M&&(S[8]=S[8]==null?A[8]:Te(S[8],A[8])),S[9]==null&&(S[9]=A[9]),S[0]=A[0],S[1]=K,S}function Zu(S){var A=[];if(S!=null)for(var L in _t(S))A.push(L);return A}function bu(S){return It.call(S)}function mh(S,A,L){return A=ce(A===e?S.length-1:A,0),function(){for(var Y=arguments,K=-1,k=ce(Y.length-A,0),tt=ft(k);++K<k;)tt[K]=Y[A+K];K=-1;for(var rt=ft(A+1);++K<A;)rt[K]=Y[K];return rt[A]=L(tt),ye(S,this,rt)}}function xh(S,A){return A.length<2?S:zi(S,Ze(A,0,-1))}function Ju(S,A){for(var L=S.length,Y=Te(A.length,L),K=Be(S);Y--;){var k=A[Y];S[Y]=pi(k,L)?K[k]:e}return S}function ka(S,A){if(!(A==="constructor"&&typeof S[A]=="function")&&A!="__proto__")return S[A]}var yh=Sh(Wo),pn=hl||function(S,A){return de.setTimeout(S,A)},qa=Sh(gu);function Th(S,A,L){var Y=A+"";return qa(S,Xu(Y,Qu(Nu(Y),L)))}function Sh(S){var A=0,L=0;return function(){var Y=vl(),K=z-(Y-L);if(L=Y,K>0){if(++A>=w)return arguments[0]}else A=0;return S.apply(e,arguments)}}function ia(S,A){var L=-1,Y=S.length,K=Y-1;for(A=A===e?Y:A;++L<A;){var k=Ga(L,K),tt=S[k];S[k]=S[L],S[L]=tt}return S.length=A,S}var Eh=Hu(function(S){var A=[];return S.charCodeAt(0)===46&&A.push(""),S.replace(Rn,function(L,Y,K,k){A.push(K?k.replace(Bn,"$1"):Y||L)}),A});function si(S){if(typeof S=="string"||ze(S))return S;var A=S+"";return A=="0"&&1/S==-D?"-0":A}function Wi(S){if(S!=null){try{return ut.call(S)}catch(A){}try{return S+""}catch(A){}}return""}function Qu(S,A){return Me(Z,function(L){var Y="_."+L[0];A&L[1]&&!Bi(S,Y)&&S.push(Y)}),S.sort()}function Ch(S){if(S instanceof Jt)return S.clone();var A=new He(S.__wrapped__,S.__chain__);return A.__actions__=Be(S.__actions__),A.__index__=S.__index__,A.__values__=S.__values__,A}function $u(S,A,L){(L?Fe(S,A,L):A===e)?A=1:A=ce(Vt(A),0);var Y=S==null?0:S.length;if(!Y||A<1)return[];for(var K=0,k=0,tt=ft(Xs(Y/A));K<Y;)tt[k++]=Ze(S,K,K+=A);return tt}function ju(S){for(var A=-1,L=S==null?0:S.length,Y=0,K=[];++A<L;){var k=S[A];k&&(K[Y++]=k)}return K}function ku(){var S=arguments.length;if(!S)return[];for(var A=ft(S-1),L=arguments[0],Y=S;Y--;)A[Y-1]=arguments[Y];return ke(Ut(L)?Be(L):[L],me(A,1))}var qu=Ht(function(S,A){return fe(S)?ln(S,me(A,1,fe,!0)):[]}),_u=Ht(function(S,A){var L=be(A);return fe(L)&&(L=e),fe(S)?ln(S,me(A,1,fe,!0),Dt(L,2)):[]}),tf=Ht(function(S,A){var L=be(A);return fe(L)&&(L=e),fe(S)?ln(S,me(A,1,fe,!0),e,L):[]});function ef(S,A,L){var Y=S==null?0:S.length;return Y?(A=L||A===e?1:Vt(A),Ze(S,A<0?0:A,Y)):[]}function rf(S,A,L){var Y=S==null?0:S.length;return Y?(A=L||A===e?1:Vt(A),A=Y-A,Ze(S,0,A<0?0:A)):[]}function nf(S,A){return S&&S.length?Qs(S,Dt(A,3),!0,!0):[]}function sf(S,A){return S&&S.length?Qs(S,Dt(A,3),!0):[]}function af(S,A,L,Y){var K=S==null?0:S.length;return K?(L&&typeof L!="number"&&Fe(S,A,L)&&(L=0,Y=K),kl(S,A,L,Y)):[]}function Ah(S,A,L){var Y=S==null?0:S.length;if(!Y)return-1;var K=L==null?0:Vt(L);return K<0&&(K=ce(Y+K,0)),Gi(S,Dt(A,3),K)}function Rh(S,A,L){var Y=S==null?0:S.length;if(!Y)return-1;var K=Y-1;return L!==e&&(K=Vt(L),K=L<0?ce(Y+K,0):Te(K,Y-1)),Gi(S,Dt(A,3),K,!0)}function Ph(S){var A=S==null?0:S.length;return A?me(S,1):[]}function of(S){var A=S==null?0:S.length;return A?me(S,D):[]}function hf(S,A){var L=S==null?0:S.length;return L?(A=A===e?1:Vt(A),me(S,A)):[]}function lf(S){for(var A=-1,L=S==null?0:S.length,Y={};++A<L;){var K=S[A];Y[K[0]]=K[1]}return Y}function Mh(S){return S&&S.length?S[0]:e}function uf(S,A,L){var Y=S==null?0:S.length;if(!Y)return-1;var K=L==null?0:Vt(L);return K<0&&(K=ce(Y+K,0)),oi(S,A,K)}function ff(S){var A=S==null?0:S.length;return A?Ze(S,0,-1):[]}var vf=Ht(function(S){var A=ne(S,Ua);return A.length&&A[0]===S[0]?Oa(A):[]}),df=Ht(function(S){var A=be(S),L=ne(S,Ua);return A===be(L)?A=e:L.pop(),L.length&&L[0]===S[0]?Oa(L,Dt(A,2)):[]}),cf=Ht(function(S){var A=be(S),L=ne(S,Ua);return A=typeof A=="function"?A:e,A&&L.pop(),L.length&&L[0]===S[0]?Oa(L,e,A):[]});function pf(S,A){return S==null?"":ul.call(S,A)}function be(S){var A=S==null?0:S.length;return A?S[A-1]:e}function gf(S,A,L){var Y=S==null?0:S.length;if(!Y)return-1;var K=Y;return L!==e&&(K=Vt(L),K=K<0?ce(Y+K,0):Te(K,Y-1)),A===A?ga(S,A,K):Gi(S,$r,K,!0)}function mf(S,A){return S&&S.length?Xo(S,Vt(A)):e}var xf=Ht(Lh);function Lh(S,A){return S&&S.length&&A&&A.length?Ba(S,A):S}function yf(S,A,L){return S&&S.length&&A&&A.length?Ba(S,A,Dt(L,2)):S}function Tf(S,A,L){return S&&S.length&&A&&A.length?Ba(S,A,e,L):S}var Sf=ci(function(S,A){var L=S==null?0:S.length,Y=Ra(S,A);return Vo(S,ne(A,function(K){return pi(K,L)?+K:K}).sort(ko)),Y});function Ef(S,A){var L=[];if(!(S&&S.length))return L;var Y=-1,K=[],k=S.length;for(A=Dt(A,3);++Y<k;){var tt=S[Y];A(tt,Y,S)&&(L.push(tt),K.push(Y))}return Vo(S,K),L}function _a(S){return S==null?S:cl.call(S)}function Cf(S,A,L){var Y=S==null?0:S.length;return Y?(L&&typeof L!="number"&&Fe(S,A,L)?(A=0,L=Y):(A=A==null?0:Vt(A),L=L===e?Y:Vt(L)),Ze(S,A,L)):[]}function Af(S,A){return Js(S,A)}function Rf(S,A,L){return wa(S,A,Dt(L,2))}function Pf(S,A){var L=S==null?0:S.length;if(L){var Y=Js(S,A);if(Y<L&&_e(S[Y],A))return Y}return-1}function Mf(S,A){return Js(S,A,!0)}function Lf(S,A,L){return wa(S,A,Dt(L,2),!0)}function Of(S,A){var L=S==null?0:S.length;if(L){var Y=Js(S,A,!0)-1;if(_e(S[Y],A))return Y}return-1}function Ff(S){return S&&S.length?Ho(S):[]}function If(S,A){return S&&S.length?Ho(S,Dt(A,2)):[]}function Df(S){var A=S==null?0:S.length;return A?Ze(S,1,A):[]}function Bf(S,A,L){return S&&S.length?(A=L||A===e?1:Vt(A),Ze(S,0,A<0?0:A)):[]}function Gf(S,A,L){var Y=S==null?0:S.length;return Y?(A=L||A===e?1:Vt(A),A=Y-A,Ze(S,A<0?0:A,Y)):[]}function Nf(S,A){return S&&S.length?Qs(S,Dt(A,3),!1,!0):[]}function wf(S,A){return S&&S.length?Qs(S,Dt(A,3)):[]}var Yf=Ht(function(S){return Pi(me(S,1,fe,!0))}),Xf=Ht(function(S){var A=be(S);return fe(A)&&(A=e),Pi(me(S,1,fe,!0),Dt(A,2))}),Uf=Ht(function(S){var A=be(S);return A=typeof A=="function"?A:e,Pi(me(S,1,fe,!0),e,A)});function zf(S){return S&&S.length?Pi(S):[]}function Vf(S,A){return S&&S.length?Pi(S,Dt(A,2)):[]}function Wf(S,A){return A=typeof A=="function"?A:e,S&&S.length?Pi(S,e,A):[]}function to(S){if(!(S&&S.length))return[];var A=0;return S=je(S,function(L){if(fe(L))return A=ce(L.length,A),!0}),sr(A,function(L){return ne(S,ir(L))})}function Oh(S,A){if(!(S&&S.length))return[];var L=to(S);return A==null?L:ne(L,function(Y){return ye(A,e,Y)})}var Hf=Ht(function(S,A){return fe(S)?ln(S,A):[]}),Kf=Ht(function(S){return Xa(je(S,fe))}),Zf=Ht(function(S){var A=be(S);return fe(A)&&(A=e),Xa(je(S,fe),Dt(A,2))}),bf=Ht(function(S){var A=be(S);return A=typeof A=="function"?A:e,Xa(je(S,fe),e,A)}),Jf=Ht(to);function Qf(S,A){return Jo(S||[],A||[],hn)}function $f(S,A){return Jo(S||[],A||[],vn)}var jf=Ht(function(S){var A=S.length,L=A>1?S[A-1]:e;return L=typeof L=="function"?(S.pop(),L):e,Oh(S,L)});function Fh(S){var A=$(S);return A.__chain__=!0,A}function kf(S,A){return A(S),S}function ra(S,A){return A(S)}var qf=ci(function(S){var A=S.length,L=A?S[0]:0,Y=this.__wrapped__,K=function(k){return Ra(k,S)};return A>1||this.__actions__.length||!(Y instanceof Jt)||!pi(L)?this.thru(K):(Y=Y.slice(L,+L+(A?1:0)),Y.__actions__.push({func:ra,args:[K],thisArg:e}),new He(Y,this.__chain__).thru(function(k){return A&&!k.length&&k.push(e),k}))});function _f(){return Fh(this)}function tv(){return new He(this.value(),this.__chain__)}function ev(){this.__values__===e&&(this.__values__=Kh(this.value()));var S=this.__index__>=this.__values__.length,A=S?e:this.__values__[this.__index__++];return{done:S,value:A}}function iv(){return this}function rv(S){for(var A,L=this;L instanceof Ws;){var Y=Ch(L);Y.__index__=0,Y.__values__=e,A?K.__wrapped__=Y:A=Y;var K=Y;L=L.__wrapped__}return K.__wrapped__=S,A}function nv(){var S=this.__wrapped__;if(S instanceof Jt){var A=S;return this.__actions__.length&&(A=new Jt(this)),A=A.reverse(),A.__actions__.push({func:ra,args:[_a],thisArg:e}),new He(A,this.__chain__)}return this.thru(_a)}function sv(){return bo(this.__wrapped__,this.__actions__)}var av=$s(function(S,A,L){at.call(S,L)?++S[L]:vi(S,L,1)});function ov(S,A,L){var Y=Ut(S)?Jr:jl;return L&&Fe(S,A,L)&&(A=e),Y(S,Dt(A,3))}function hv(S,A){var L=Ut(S)?je:Oo;return L(S,Dt(A,3))}var lv=rh(Ah),uv=rh(Rh);function fv(S,A){return me(na(S,A),1)}function vv(S,A){return me(na(S,A),D)}function dv(S,A,L){return L=L===e?1:Vt(L),me(na(S,A),L)}function Ih(S,A){var L=Ut(S)?Me:Ri;return L(S,Dt(A,3))}function Dh(S,A){var L=Ut(S)?xs:Lo;return L(S,Dt(A,3))}var cv=$s(function(S,A,L){at.call(S,L)?S[L].push(A):vi(S,L,[A])});function pv(S,A,L,Y){S=Ge(S)?S:xr(S),L=L&&!Y?Vt(L):0;var K=S.length;return L<0&&(L=ce(K+L,0)),la(S)?L<=K&&S.indexOf(A,L)>-1:!!K&&oi(S,A,L)>-1}var gv=Ht(function(S,A,L){var Y=-1,K=typeof A=="function",k=Ge(S)?ft(S.length):[];return Ri(S,function(tt){k[++Y]=K?ye(A,tt,L):un(tt,A,L)}),k}),mv=$s(function(S,A,L){vi(S,L,A)});function na(S,A){var L=Ut(S)?ne:No;return L(S,Dt(A,3))}function xv(S,A,L,Y){return S==null?[]:(Ut(A)||(A=A==null?[]:[A]),L=Y?e:L,Ut(L)||(L=L==null?[]:[L]),Uo(S,A,L))}var yv=$s(function(S,A,L){S[L?0:1].push(A)},function(){return[[],[]]});function Tv(S,A,L){var Y=Ut(S)?tr:kr,K=arguments.length<3;return Y(S,Dt(A,4),L,K,Ri)}function Sv(S,A,L){var Y=Ut(S)?ys:kr,K=arguments.length<3;return Y(S,Dt(A,4),L,K,Lo)}function Ev(S,A){var L=Ut(S)?je:Oo;return L(S,oa(Dt(A,3)))}function Cv(S){var A=Ut(S)?Ao:cu;return A(S)}function Av(S,A,L){(L?Fe(S,A,L):A===e)?A=1:A=Vt(A);var Y=Ut(S)?Zl:pu;return Y(S,A)}function Rv(S){var A=Ut(S)?bl:mu;return A(S)}function Pv(S){if(S==null)return 0;if(Ge(S))return la(S)?Ci(S):S.length;var A=Se(S);return A==St||A==Xt?S.size:Ia(S).length}function Mv(S,A,L){var Y=Ut(S)?er:xu;return L&&Fe(S,A,L)&&(A=e),Y(S,Dt(A,3))}var Lv=Ht(function(S,A){if(S==null)return[];var L=A.length;return L>1&&Fe(S,A[0],A[1])?A=[]:L>2&&Fe(A[0],A[1],A[2])&&(A=[A[0]]),Uo(S,me(A,1),[])}),sa=ol||function(){return de.Date.now()};function Ov(S,A){if(typeof A!="function")throw new Xe(s);return S=Vt(S),function(){if(--S<1)return A.apply(this,arguments)}}function Bh(S,A,L){return A=L?e:A,A=S&&A==null?S.length:A,di(S,M,e,e,e,e,A)}function Gh(S,A){var L;if(typeof A!="function")throw new Xe(s);return S=Vt(S),function(){return--S>0&&(L=A.apply(this,arguments)),S<=1&&(A=e),L}}var eo=Ht(function(S,A,L){var Y=g;if(L.length){var K=ei(L,gr(eo));Y|=E}return di(S,Y,A,L,K)}),Nh=Ht(function(S,A,L){var Y=g|m;if(L.length){var K=ei(L,gr(Nh));Y|=E}return di(A,Y,S,L,K)});function wh(S,A,L){A=L?e:A;var Y=di(S,y,e,e,e,e,e,A);return Y.placeholder=wh.placeholder,Y}function Yh(S,A,L){A=L?e:A;var Y=di(S,T,e,e,e,e,e,A);return Y.placeholder=Yh.placeholder,Y}function Xh(S,A,L){var Y,K,k,tt,rt,ot,pt=0,gt=!1,yt=!1,Ct=!0;if(typeof S!="function")throw new Xe(s);A=Je(A)||0,oe(L)&&(gt=!!L.leading,yt="maxWait"in L,k=yt?ce(Je(L.maxWait)||0,A):k,Ct="trailing"in L?!!L.trailing:Ct);function Mt(ve){var ti=Y,xi=K;return Y=K=e,pt=ve,tt=S.apply(xi,ti),tt}function Gt(ve){return pt=ve,rt=pn(Zt,A),gt?Mt(ve):tt}function Wt(ve){var ti=ve-ot,xi=ve-pt,rl=A-ti;return yt?Te(rl,k-xi):rl}function Nt(ve){var ti=ve-ot,xi=ve-pt;return ot===e||ti>=A||ti<0||yt&&xi>=k}function Zt(){var ve=sa();if(Nt(ve))return jt(ve);rt=pn(Zt,Wt(ve))}function jt(ve){return rt=e,Ct&&Y?Mt(ve):(Y=K=e,tt)}function Ve(){rt!==e&&Qo(rt),pt=0,Y=ot=K=rt=e}function Ie(){return rt===e?tt:jt(sa())}function We(){var ve=sa(),ti=Nt(ve);if(Y=arguments,K=this,ot=ve,ti){if(rt===e)return Gt(ot);if(yt)return Qo(rt),rt=pn(Zt,A),Mt(ot)}return rt===e&&(rt=pn(Zt,A)),tt}return We.cancel=Ve,We.flush=Ie,We}var Fv=Ht(function(S,A){return Mo(S,1,A)}),Iv=Ht(function(S,A,L){return Mo(S,Je(A)||0,L)});function Dv(S){return di(S,O)}function aa(S,A){if(typeof S!="function"||A!=null&&typeof A!="function")throw new Xe(s);var L=function(){var Y=arguments,K=A?A.apply(this,Y):Y[0],k=L.cache;if(k.has(K))return k.get(K);var tt=S.apply(this,Y);return L.cache=k.set(K,tt)||k,tt};return L.cache=new(aa.Cache||fi),L}aa.Cache=fi;function oa(S){if(typeof S!="function")throw new Xe(s);return function(){var A=arguments;switch(A.length){case 0:return!S.call(this);case 1:return!S.call(this,A[0]);case 2:return!S.call(this,A[0],A[1]);case 3:return!S.call(this,A[0],A[1],A[2])}return!S.apply(this,A)}}function Bv(S){return Gh(2,S)}var Gv=yu(function(S,A){A=A.length==1&&Ut(A[0])?ne(A[0],Le(Dt())):ne(me(A,1),Le(Dt()));var L=A.length;return Ht(function(Y){for(var K=-1,k=Te(Y.length,L);++K<k;)Y[K]=A[K].call(this,Y[K]);return ye(S,this,Y)})}),io=Ht(function(S,A){var L=ei(A,gr(io));return di(S,E,e,A,L)}),Uh=Ht(function(S,A){var L=ei(A,gr(Uh));return di(S,R,e,A,L)}),Nv=ci(function(S,A){return di(S,P,e,e,e,A)});function wv(S,A){if(typeof S!="function")throw new Xe(s);return A=A===e?A:Vt(A),Ht(S,A)}function Yv(S,A){if(typeof S!="function")throw new Xe(s);return A=A==null?0:ce(Vt(A),0),Ht(function(L){var Y=L[A],K=Li(L,0,A);return Y&&ke(K,Y),ye(S,this,K)})}function Xv(S,A,L){var Y=!0,K=!0;if(typeof S!="function")throw new Xe(s);return oe(L)&&(Y="leading"in L?!!L.leading:Y,K="trailing"in L?!!L.trailing:K),Xh(S,A,{leading:Y,maxWait:A,trailing:K})}function Uv(S){return Bh(S,1)}function zv(S,A){return io(za(A),S)}function Vv(){if(!arguments.length)return[];var S=arguments[0];return Ut(S)?S:[S]}function Wv(S){return Ke(S,v)}function Hv(S,A){return A=typeof A=="function"?A:e,Ke(S,v,A)}function Kv(S){return Ke(S,h|v)}function Zv(S,A){return A=typeof A=="function"?A:e,Ke(S,h|v,A)}function bv(S,A){return A==null||Po(S,A,ge(A))}function _e(S,A){return S===A||S!==S&&A!==A}var Jv=_s(La),Qv=_s(function(S,A){return S>=A}),Hi=Do(function(){return arguments}())?Do:function(S){return ue(S)&&at.call(S,"callee")&&!xo.call(S,"callee")},Ut=ft.isArray,$v=Vr?Le(Vr):iu;function Ge(S){return S!=null&&ha(S.length)&&!gi(S)}function fe(S){return ue(S)&&Ge(S)}function jv(S){return S===!0||S===!1||ue(S)&&Oe(S)==vt}var Oi=ll||co,kv=Wr?Le(Wr):ru;function qv(S){return ue(S)&&S.nodeType===1&&!gn(S)}function _v(S){if(S==null)return!0;if(Ge(S)&&(Ut(S)||typeof S=="string"||typeof S.splice=="function"||Oi(S)||mr(S)||Hi(S)))return!S.length;var A=Se(S);if(A==St||A==Xt)return!S.size;if(cn(S))return!Ia(S).length;for(var L in S)if(at.call(S,L))return!1;return!0}function td(S,A){return fn(S,A)}function ed(S,A,L){L=typeof L=="function"?L:e;var Y=L?L(S,A):e;return Y===e?fn(S,A,e,L):!!Y}function ro(S){if(!ue(S))return!1;var A=Oe(S);return A==st||A==xt||typeof S.message=="string"&&typeof S.name=="string"&&!gn(S)}function id(S){return typeof S=="number"&&To(S)}function gi(S){if(!oe(S))return!1;var A=Oe(S);return A==mt||A==wt||A==ht||A==Ft}function zh(S){return typeof S=="number"&&S==Vt(S)}function ha(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=F}function oe(S){var A=typeof S;return S!=null&&(A=="object"||A=="function")}function ue(S){return S!=null&&typeof S=="object"}var Vh=Hr?Le(Hr):su;function rd(S,A){return S===A||Fa(S,A,Ja(A))}function nd(S,A,L){return L=typeof L=="function"?L:e,Fa(S,A,Ja(A),L)}function sd(S){return Wh(S)&&S!=+S}function ad(S){if(Wu(S))throw new Yt(a);return Bo(S)}function od(S){return S===null}function hd(S){return S==null}function Wh(S){return typeof S=="number"||ue(S)&&Oe(S)==Rt}function gn(S){if(!ue(S)||Oe(S)!=Bt)return!1;var A=Ns(S);if(A===null)return!0;var L=at.call(A,"constructor")&&A.constructor;return typeof L=="function"&&L instanceof L&&ut.call(L)==Kt}var no=Kr?Le(Kr):au;function ld(S){return zh(S)&&S>=-F&&S<=F}var Hh=Zr?Le(Zr):ou;function la(S){return typeof S=="string"||!Ut(S)&&ue(S)&&Oe(S)==Qt}function ze(S){return typeof S=="symbol"||ue(S)&&Oe(S)==zt}var mr=br?Le(br):hu;function ud(S){return S===e}function fd(S){return ue(S)&&Se(S)==ee}function vd(S){return ue(S)&&Oe(S)==se}var dd=_s(Da),cd=_s(function(S,A){return S<=A});function Kh(S){if(!S)return[];if(Ge(S))return la(S)?De(S):Be(S);if(rn&&S[rn])return Fs(S[rn]());var A=Se(S),L=A==St?or:A==Xt?Ni:xr;return L(S)}function mi(S){if(!S)return S===0?S:0;if(S=Je(S),S===D||S===-D){var A=S<0?-1:1;return A*G}return S===S?S:0}function Vt(S){var A=mi(S),L=A%1;return A===A?L?A-L:A:0}function Zh(S){return S?Ui(Vt(S),0,X):0}function Je(S){if(typeof S=="number")return S;if(ze(S))return N;if(oe(S)){var A=typeof S.valueOf=="function"?S.valueOf():S;S=oe(A)?A+"":A}if(typeof S!="string")return S===0?S:+S;S=qr(S);var L=wn.test(S);return L||Xn.test(S)?ps(S.slice(2),L?2:8):Nn.test(S)?N:+S}function bh(S){return ni(S,Ne(S))}function pd(S){return S?Ui(Vt(S),-F,F):S===0?S:0}function te(S){return S==null?"":Ue(S)}var gd=cr(function(S,A){if(cn(A)||Ge(A)){ni(A,ge(A),S);return}for(var L in A)at.call(A,L)&&hn(S,L,A[L])}),Jh=cr(function(S,A){ni(A,Ne(A),S)}),ua=cr(function(S,A,L,Y){ni(A,Ne(A),S,Y)}),md=cr(function(S,A,L,Y){ni(A,ge(A),S,Y)}),xd=ci(Ra);function yd(S,A){var L=dr(S);return A==null?L:Ro(L,A)}var Td=Ht(function(S,A){S=_t(S);var L=-1,Y=A.length,K=Y>2?A[2]:e;for(K&&Fe(A[0],A[1],K)&&(Y=1);++L<Y;)for(var k=A[L],tt=Ne(k),rt=-1,ot=tt.length;++rt<ot;){var pt=tt[rt],gt=S[pt];(gt===e||_e(gt,J[pt])&&!at.call(S,pt))&&(S[pt]=k[pt])}return S}),Sd=Ht(function(S){return S.push(e,uh),ye(Qh,e,S)});function Ed(S,A){return Qr(S,Dt(A,3),ri)}function Cd(S,A){return Qr(S,Dt(A,3),Ma)}function Ad(S,A){return S==null?S:Pa(S,Dt(A,3),Ne)}function Rd(S,A){return S==null?S:Fo(S,Dt(A,3),Ne)}function Pd(S,A){return S&&ri(S,Dt(A,3))}function Md(S,A){return S&&Ma(S,Dt(A,3))}function Ld(S){return S==null?[]:Zs(S,ge(S))}function Od(S){return S==null?[]:Zs(S,Ne(S))}function so(S,A,L){var Y=S==null?e:zi(S,A);return Y===e?L:Y}function Fd(S,A){return S!=null&&dh(S,A,ql)}function ao(S,A){return S!=null&&dh(S,A,_l)}var Id=sh(function(S,A,L){A!=null&&typeof A.toString!="function"&&(A=It.call(A)),S[A]=L},ho(we)),Dd=sh(function(S,A,L){A!=null&&typeof A.toString!="function"&&(A=It.call(A)),at.call(S,A)?S[A].push(L):S[A]=[L]},Dt),Bd=Ht(un);function ge(S){return Ge(S)?Co(S):Ia(S)}function Ne(S){return Ge(S)?Co(S,!0):lu(S)}function Gd(S,A){var L={};return A=Dt(A,3),ri(S,function(Y,K,k){vi(L,A(Y,K,k),Y)}),L}function Nd(S,A){var L={};return A=Dt(A,3),ri(S,function(Y,K,k){vi(L,K,A(Y,K,k))}),L}var wd=cr(function(S,A,L){bs(S,A,L)}),Qh=cr(function(S,A,L,Y){bs(S,A,L,Y)}),Yd=ci(function(S,A){var L={};if(S==null)return L;var Y=!1;A=ne(A,function(k){return k=Mi(k,S),Y||(Y=k.length>1),k}),ni(S,Za(S),L),Y&&(L=Ke(L,h|u|v,Fu));for(var K=A.length;K--;)Ya(L,A[K]);return L});function Xd(S,A){return $h(S,oa(Dt(A)))}var Ud=ci(function(S,A){return S==null?{}:fu(S,A)});function $h(S,A){if(S==null)return{};var L=ne(Za(S),function(Y){return[Y]});return A=Dt(A),zo(S,L,function(Y,K){return A(Y,K[0])})}function zd(S,A,L){A=Mi(A,S);var Y=-1,K=A.length;for(K||(K=1,S=e);++Y<K;){var k=S==null?e:S[si(A[Y])];k===e&&(Y=K,k=L),S=gi(k)?k.call(S):k}return S}function Vd(S,A,L){return S==null?S:vn(S,A,L)}function Wd(S,A,L,Y){return Y=typeof Y=="function"?Y:e,S==null?S:vn(S,A,L,Y)}var jh=hh(ge),kh=hh(Ne);function Hd(S,A,L){var Y=Ut(S),K=Y||Oi(S)||mr(S);if(A=Dt(A,4),L==null){var k=S&&S.constructor;K?L=Y?new k:[]:oe(S)?L=gi(k)?dr(Ns(S)):{}:L={}}return(K?Me:ri)(S,function(tt,rt,ot){return A(L,tt,rt,ot)}),L}function Kd(S,A){return S==null?!0:Ya(S,A)}function Zd(S,A,L){return S==null?S:Zo(S,A,za(L))}function bd(S,A,L,Y){return Y=typeof Y=="function"?Y:e,S==null?S:Zo(S,A,za(L),Y)}function xr(S){return S==null?[]:ar(S,ge(S))}function Jd(S){return S==null?[]:ar(S,Ne(S))}function Qd(S,A,L){return L===e&&(L=A,A=e),L!==e&&(L=Je(L),L=L===L?L:0),A!==e&&(A=Je(A),A=A===A?A:0),Ui(Je(S),A,L)}function $d(S,A,L){return A=mi(A),L===e?(L=A,A=0):L=mi(L),S=Je(S),tu(S,A,L)}function jd(S,A,L){if(L&&typeof L!="boolean"&&Fe(S,A,L)&&(A=L=e),L===e&&(typeof A=="boolean"?(L=A,A=e):typeof S=="boolean"&&(L=S,S=e)),S===e&&A===e?(S=0,A=1):(S=mi(S),A===e?(A=S,S=0):A=mi(A)),S>A){var Y=S;S=A,A=Y}if(L||S%1||A%1){var K=So();return Te(S+K*(A-S+cs("1e-"+((K+"").length-1))),A)}return Ga(S,A)}var kd=pr(function(S,A,L){return A=A.toLowerCase(),S+(L?qh(A):A)});function qh(S){return oo(te(S).toLowerCase())}function _h(S){return S=te(S),S&&S.replace(zn,Ls).replace(ns,"")}function qd(S,A,L){S=te(S),A=Ue(A);var Y=S.length;L=L===e?Y:Ui(Vt(L),0,Y);var K=L;return L-=A.length,L>=0&&S.slice(L,K)==A}function _d(S){return S=te(S),S&&Tn.test(S)?S.replace(Tr,Os):S}function tc(S){return S=te(S),S&&Pn.test(S)?S.replace(Zi,"\\$&"):S}var ec=pr(function(S,A,L){return S+(L?"-":"")+A.toLowerCase()}),ic=pr(function(S,A,L){return S+(L?" ":"")+A.toLowerCase()}),rc=ih("toLowerCase");function nc(S,A,L){S=te(S),A=Vt(A);var Y=A?Ci(S):0;if(!A||Y>=A)return S;var K=(A-Y)/2;return qs(Us(K),L)+S+qs(Xs(K),L)}function sc(S,A,L){S=te(S),A=Vt(A);var Y=A?Ci(S):0;return A&&Y<A?S+qs(A-Y,L):S}function ac(S,A,L){S=te(S),A=Vt(A);var Y=A?Ci(S):0;return A&&Y<A?qs(A-Y,L)+S:S}function oc(S,A,L){return L||A==null?A=0:A&&(A=+A),dl(te(S).replace(bi,""),A||0)}function hc(S,A,L){return(L?Fe(S,A,L):A===e)?A=1:A=Vt(A),Na(te(S),A)}function lc(){var S=arguments,A=te(S[0]);return S.length<3?A:A.replace(S[1],S[2])}var uc=pr(function(S,A,L){return S+(L?"_":"")+A.toLowerCase()});function fc(S,A,L){return L&&typeof L!="number"&&Fe(S,A,L)&&(A=L=e),L=L===e?X:L>>>0,L?(S=te(S),S&&(typeof A=="string"||A!=null&&!no(A))&&(A=Ue(A),!A&&hi(S))?Li(De(S),0,L):S.split(A,L)):[]}var vc=pr(function(S,A,L){return S+(L?" ":"")+oo(A)});function dc(S,A,L){return S=te(S),L=L==null?0:Ui(Vt(L),0,S.length),A=Ue(A),S.slice(L,L+A.length)==A}function cc(S,A,L){var Y=$.templateSettings;L&&Fe(S,A,L)&&(A=e),S=te(S),A=ua({},A,Y,lh);var K=ua({},A.imports,Y.imports,lh),k=ge(K),tt=ar(K,k),rt,ot,pt=0,gt=A.interpolate||Fi,yt="__p += '",Ct=Ai((A.escape||Fi).source+"|"+gt.source+"|"+(gt===Sr?Gn:Fi).source+"|"+(A.evaluate||Fi).source+"|$","g"),Mt="//# sourceURL="+(at.call(A,"sourceURL")?(A.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ls+"]")+`
`;S.replace(Ct,function(Nt,Zt,jt,Ve,Ie,We){return jt||(jt=Ve),yt+=S.slice(pt,We).replace(Vn,da),Zt&&(rt=!0,yt+=`' +
__e(`+Zt+`) +
'`),Ie&&(ot=!0,yt+=`';
`+Ie+`;
__p += '`),jt&&(yt+=`' +
((__t = (`+jt+`)) == null ? '' : __t) +
'`),pt=We+Nt.length,Nt}),yt+=`';
`;var Gt=at.call(A,"variable")&&A.variable;if(!Gt)yt=`with (obj) {
`+yt+`
}
`;else if(Dn.test(Gt))throw new Yt(i);yt=(ot?yt.replace(qt,""):yt).replace(mn,"$1").replace(xn,"$1;"),yt="function("+(Gt||"obj")+`) {
`+(Gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(rt?", __e = _.escape":"")+(ot?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+yt+`return __p
}`;var Wt=el(function(){return kt(k,Mt+"return "+yt).apply(e,tt)});if(Wt.source=yt,ro(Wt))throw Wt;return Wt}function pc(S){return te(S).toLowerCase()}function gc(S){return te(S).toUpperCase()}function mc(S,A,L){if(S=te(S),S&&(L||A===e))return qr(S);if(!S||!(A=Ue(A)))return S;var Y=De(S),K=De(A),k=Ps(Y,K),tt=Ms(Y,K)+1;return Li(Y,k,tt).join("")}function xc(S,A,L){if(S=te(S),S&&(L||A===e))return S.slice(0,en(S)+1);if(!S||!(A=Ue(A)))return S;var Y=De(S),K=Ms(Y,De(A))+1;return Li(Y,0,K).join("")}function yc(S,A,L){if(S=te(S),S&&(L||A===e))return S.replace(bi,"");if(!S||!(A=Ue(A)))return S;var Y=De(S),K=Ps(Y,De(A));return Li(Y,K).join("")}function Tc(S,A){var L=I,Y=B;if(oe(A)){var K="separator"in A?A.separator:K;L="length"in A?Vt(A.length):L,Y="omission"in A?Ue(A.omission):Y}S=te(S);var k=S.length;if(hi(S)){var tt=De(S);k=tt.length}if(L>=k)return S;var rt=L-Ci(Y);if(rt<1)return Y;var ot=tt?Li(tt,0,rt).join(""):S.slice(0,rt);if(K===e)return ot+Y;if(tt&&(rt+=ot.length-rt),no(K)){if(S.slice(rt).search(K)){var pt,gt=ot;for(K.global||(K=Ai(K.source,te(Er.exec(K))+"g")),K.lastIndex=0;pt=K.exec(gt);)var yt=pt.index;ot=ot.slice(0,yt===e?rt:yt)}}else if(S.indexOf(Ue(K),rt)!=rt){var Ct=ot.lastIndexOf(K);Ct>-1&&(ot=ot.slice(0,Ct))}return ot+Y}function Sc(S){return S=te(S),S&&yn.test(S)?S.replace(yr,ma):S}var Ec=pr(function(S,A,L){return S+(L?" ":"")+A.toUpperCase()}),oo=ih("toUpperCase");function tl(S,A,L){return S=te(S),A=L?e:A,A===e?tn(S)?xa(S):Es(S):S.match(A)||[]}var el=Ht(function(S,A){try{return ye(S,e,A)}catch(L){return ro(L)?L:new Yt(L)}}),Cc=ci(function(S,A){return Me(A,function(L){L=si(L),vi(S,L,eo(S[L],S))}),S});function Ac(S){var A=S==null?0:S.length,L=Dt();return S=A?ne(S,function(Y){if(typeof Y[1]!="function")throw new Xe(s);return[L(Y[0]),Y[1]]}):[],Ht(function(Y){for(var K=-1;++K<A;){var k=S[K];if(ye(k[0],this,Y))return ye(k[1],this,Y)}})}function Rc(S){return $l(Ke(S,h))}function ho(S){return function(){return S}}function Pc(S,A){return S==null||S!==S?A:S}var Mc=nh(),Lc=nh(!0);function we(S){return S}function lo(S){return Go(typeof S=="function"?S:Ke(S,h))}function Oc(S){return wo(Ke(S,h))}function Fc(S,A){return Yo(S,Ke(A,h))}var Ic=Ht(function(S,A){return function(L){return un(L,S,A)}}),Dc=Ht(function(S,A){return function(L){return un(S,L,A)}});function uo(S,A,L){var Y=ge(A),K=Zs(A,Y);L==null&&!(oe(A)&&(K.length||!Y.length))&&(L=A,A=S,S=this,K=Zs(A,ge(A)));var k=!(oe(L)&&"chain"in L)||!!L.chain,tt=gi(S);return Me(K,function(rt){var ot=A[rt];S[rt]=ot,tt&&(S.prototype[rt]=function(){var pt=this.__chain__;if(k||pt){var gt=S(this.__wrapped__),yt=gt.__actions__=Be(this.__actions__);return yt.push({func:ot,args:arguments,thisArg:S}),gt.__chain__=pt,gt}return ot.apply(S,ke([this.value()],arguments))})}),S}function Bc(){return de._===this&&(de._=le),this}function fo(){}function Gc(S){return S=Vt(S),Ht(function(A){return Xo(A,S)})}var Nc=Wa(ne),wc=Wa(Jr),Yc=Wa(er);function il(S){return $a(S)?ir(si(S)):vu(S)}function Xc(S){return function(A){return S==null?e:zi(S,A)}}var Uc=ah(),zc=ah(!0);function vo(){return[]}function co(){return!1}function Vc(){return{}}function Wc(){return""}function Hc(){return!0}function Kc(S,A){if(S=Vt(S),S<1||S>F)return[];var L=X,Y=Te(S,X);A=Dt(A),S-=X;for(var K=sr(Y,A);++L<S;)A(L);return K}function Zc(S){return Ut(S)?ne(S,si):ze(S)?[S]:Be(Eh(te(S)))}function bc(S){var A=++ct;return te(S)+A}var Jc=ks(function(S,A){return S+A},0),Qc=Ha("ceil"),$c=ks(function(S,A){return S/A},1),jc=Ha("floor");function kc(S){return S&&S.length?Ks(S,we,La):e}function qc(S,A){return S&&S.length?Ks(S,Dt(A,2),La):e}function _c(S){return jr(S,we)}function tp(S,A){return jr(S,Dt(A,2))}function ep(S){return S&&S.length?Ks(S,we,Da):e}function ip(S,A){return S&&S.length?Ks(S,Dt(A,2),Da):e}var rp=ks(function(S,A){return S*A},1),np=Ha("round"),sp=ks(function(S,A){return S-A},0);function ap(S){return S&&S.length?nr(S,we):0}function op(S,A){return S&&S.length?nr(S,Dt(A,2)):0}return $.after=Ov,$.ary=Bh,$.assign=gd,$.assignIn=Jh,$.assignInWith=ua,$.assignWith=md,$.at=xd,$.before=Gh,$.bind=eo,$.bindAll=Cc,$.bindKey=Nh,$.castArray=Vv,$.chain=Fh,$.chunk=$u,$.compact=ju,$.concat=ku,$.cond=Ac,$.conforms=Rc,$.constant=ho,$.countBy=av,$.create=yd,$.curry=wh,$.curryRight=Yh,$.debounce=Xh,$.defaults=Td,$.defaultsDeep=Sd,$.defer=Fv,$.delay=Iv,$.difference=qu,$.differenceBy=_u,$.differenceWith=tf,$.drop=ef,$.dropRight=rf,$.dropRightWhile=nf,$.dropWhile=sf,$.fill=af,$.filter=hv,$.flatMap=fv,$.flatMapDeep=vv,$.flatMapDepth=dv,$.flatten=Ph,$.flattenDeep=of,$.flattenDepth=hf,$.flip=Dv,$.flow=Mc,$.flowRight=Lc,$.fromPairs=lf,$.functions=Ld,$.functionsIn=Od,$.groupBy=cv,$.initial=ff,$.intersection=vf,$.intersectionBy=df,$.intersectionWith=cf,$.invert=Id,$.invertBy=Dd,$.invokeMap=gv,$.iteratee=lo,$.keyBy=mv,$.keys=ge,$.keysIn=Ne,$.map=na,$.mapKeys=Gd,$.mapValues=Nd,$.matches=Oc,$.matchesProperty=Fc,$.memoize=aa,$.merge=wd,$.mergeWith=Qh,$.method=Ic,$.methodOf=Dc,$.mixin=uo,$.negate=oa,$.nthArg=Gc,$.omit=Yd,$.omitBy=Xd,$.once=Bv,$.orderBy=xv,$.over=Nc,$.overArgs=Gv,$.overEvery=wc,$.overSome=Yc,$.partial=io,$.partialRight=Uh,$.partition=yv,$.pick=Ud,$.pickBy=$h,$.property=il,$.propertyOf=Xc,$.pull=xf,$.pullAll=Lh,$.pullAllBy=yf,$.pullAllWith=Tf,$.pullAt=Sf,$.range=Uc,$.rangeRight=zc,$.rearg=Nv,$.reject=Ev,$.remove=Ef,$.rest=wv,$.reverse=_a,$.sampleSize=Av,$.set=Vd,$.setWith=Wd,$.shuffle=Rv,$.slice=Cf,$.sortBy=Lv,$.sortedUniq=Ff,$.sortedUniqBy=If,$.split=fc,$.spread=Yv,$.tail=Df,$.take=Bf,$.takeRight=Gf,$.takeRightWhile=Nf,$.takeWhile=wf,$.tap=kf,$.throttle=Xv,$.thru=ra,$.toArray=Kh,$.toPairs=jh,$.toPairsIn=kh,$.toPath=Zc,$.toPlainObject=bh,$.transform=Hd,$.unary=Uv,$.union=Yf,$.unionBy=Xf,$.unionWith=Uf,$.uniq=zf,$.uniqBy=Vf,$.uniqWith=Wf,$.unset=Kd,$.unzip=to,$.unzipWith=Oh,$.update=Zd,$.updateWith=bd,$.values=xr,$.valuesIn=Jd,$.without=Hf,$.words=tl,$.wrap=zv,$.xor=Kf,$.xorBy=Zf,$.xorWith=bf,$.zip=Jf,$.zipObject=Qf,$.zipObjectDeep=$f,$.zipWith=jf,$.entries=jh,$.entriesIn=kh,$.extend=Jh,$.extendWith=ua,uo($,$),$.add=Jc,$.attempt=el,$.camelCase=kd,$.capitalize=qh,$.ceil=Qc,$.clamp=Qd,$.clone=Wv,$.cloneDeep=Kv,$.cloneDeepWith=Zv,$.cloneWith=Hv,$.conformsTo=bv,$.deburr=_h,$.defaultTo=Pc,$.divide=$c,$.endsWith=qd,$.eq=_e,$.escape=_d,$.escapeRegExp=tc,$.every=ov,$.find=lv,$.findIndex=Ah,$.findKey=Ed,$.findLast=uv,$.findLastIndex=Rh,$.findLastKey=Cd,$.floor=jc,$.forEach=Ih,$.forEachRight=Dh,$.forIn=Ad,$.forInRight=Rd,$.forOwn=Pd,$.forOwnRight=Md,$.get=so,$.gt=Jv,$.gte=Qv,$.has=Fd,$.hasIn=ao,$.head=Mh,$.identity=we,$.includes=pv,$.indexOf=uf,$.inRange=$d,$.invoke=Bd,$.isArguments=Hi,$.isArray=Ut,$.isArrayBuffer=$v,$.isArrayLike=Ge,$.isArrayLikeObject=fe,$.isBoolean=jv,$.isBuffer=Oi,$.isDate=kv,$.isElement=qv,$.isEmpty=_v,$.isEqual=td,$.isEqualWith=ed,$.isError=ro,$.isFinite=id,$.isFunction=gi,$.isInteger=zh,$.isLength=ha,$.isMap=Vh,$.isMatch=rd,$.isMatchWith=nd,$.isNaN=sd,$.isNative=ad,$.isNil=hd,$.isNull=od,$.isNumber=Wh,$.isObject=oe,$.isObjectLike=ue,$.isPlainObject=gn,$.isRegExp=no,$.isSafeInteger=ld,$.isSet=Hh,$.isString=la,$.isSymbol=ze,$.isTypedArray=mr,$.isUndefined=ud,$.isWeakMap=fd,$.isWeakSet=vd,$.join=pf,$.kebabCase=ec,$.last=be,$.lastIndexOf=gf,$.lowerCase=ic,$.lowerFirst=rc,$.lt=dd,$.lte=cd,$.max=kc,$.maxBy=qc,$.mean=_c,$.meanBy=tp,$.min=ep,$.minBy=ip,$.stubArray=vo,$.stubFalse=co,$.stubObject=Vc,$.stubString=Wc,$.stubTrue=Hc,$.multiply=rp,$.nth=mf,$.noConflict=Bc,$.noop=fo,$.now=sa,$.pad=nc,$.padEnd=sc,$.padStart=ac,$.parseInt=oc,$.random=jd,$.reduce=Tv,$.reduceRight=Sv,$.repeat=hc,$.replace=lc,$.result=zd,$.round=np,$.runInContext=nt,$.sample=Cv,$.size=Pv,$.snakeCase=uc,$.some=Mv,$.sortedIndex=Af,$.sortedIndexBy=Rf,$.sortedIndexOf=Pf,$.sortedLastIndex=Mf,$.sortedLastIndexBy=Lf,$.sortedLastIndexOf=Of,$.startCase=vc,$.startsWith=dc,$.subtract=sp,$.sum=ap,$.sumBy=op,$.template=cc,$.times=Kc,$.toFinite=mi,$.toInteger=Vt,$.toLength=Zh,$.toLower=pc,$.toNumber=Je,$.toSafeInteger=pd,$.toString=te,$.toUpper=gc,$.trim=mc,$.trimEnd=xc,$.trimStart=yc,$.truncate=Tc,$.unescape=Sc,$.uniqueId=bc,$.upperCase=Ec,$.upperFirst=oo,$.each=Ih,$.eachRight=Dh,$.first=Mh,uo($,function(){var S={};return ri($,function(A,L){at.call($.prototype,L)||(S[L]=A)}),S}(),{chain:!1}),$.VERSION=d,Me(["bind","bindKey","curry","curryRight","partial","partialRight"],function(S){$[S].placeholder=$}),Me(["drop","take"],function(S,A){Jt.prototype[S]=function(L){L=L===e?1:ce(Vt(L),0);var Y=this.__filtered__&&!A?new Jt(this):this.clone();return Y.__filtered__?Y.__takeCount__=Te(L,Y.__takeCount__):Y.__views__.push({size:Te(L,X),type:S+(Y.__dir__<0?"Right":"")}),Y},Jt.prototype[S+"Right"]=function(L){return this.reverse()[S](L).reverse()}}),Me(["filter","map","takeWhile"],function(S,A){var L=A+1,Y=L==H||L==Q;Jt.prototype[S]=function(K){var k=this.clone();return k.__iteratees__.push({iteratee:Dt(K,3),type:L}),k.__filtered__=k.__filtered__||Y,k}}),Me(["head","last"],function(S,A){var L="take"+(A?"Right":"");Jt.prototype[S]=function(){return this[L](1).value()[0]}}),Me(["initial","tail"],function(S,A){var L="drop"+(A?"":"Right");Jt.prototype[S]=function(){return this.__filtered__?new Jt(this):this[L](1)}}),Jt.prototype.compact=function(){return this.filter(we)},Jt.prototype.find=function(S){return this.filter(S).head()},Jt.prototype.findLast=function(S){return this.reverse().find(S)},Jt.prototype.invokeMap=Ht(function(S,A){return typeof S=="function"?new Jt(this):this.map(function(L){return un(L,S,A)})}),Jt.prototype.reject=function(S){return this.filter(oa(Dt(S)))},Jt.prototype.slice=function(S,A){S=Vt(S);var L=this;return L.__filtered__&&(S>0||A<0)?new Jt(L):(S<0?L=L.takeRight(-S):S&&(L=L.drop(S)),A!==e&&(A=Vt(A),L=A<0?L.dropRight(-A):L.take(A-S)),L)},Jt.prototype.takeRightWhile=function(S){return this.reverse().takeWhile(S).reverse()},Jt.prototype.toArray=function(){return this.take(X)},ri(Jt.prototype,function(S,A){var L=/^(?:filter|find|map|reject)|While$/.test(A),Y=/^(?:head|last)$/.test(A),K=$[Y?"take"+(A=="last"?"Right":""):A],k=Y||/^find/.test(A);!K||($.prototype[A]=function(){var tt=this.__wrapped__,rt=Y?[1]:arguments,ot=tt instanceof Jt,pt=rt[0],gt=ot||Ut(tt),yt=function(Zt){var jt=K.apply($,ke([Zt],rt));return Y&&Ct?jt[0]:jt};gt&&L&&typeof pt=="function"&&pt.length!=1&&(ot=gt=!1);var Ct=this.__chain__,Mt=!!this.__actions__.length,Gt=k&&!Ct,Wt=ot&&!Mt;if(!k&&gt){tt=Wt?tt:new Jt(this);var Nt=S.apply(tt,rt);return Nt.__actions__.push({func:ra,args:[yt],thisArg:e}),new He(Nt,Ct)}return Gt&&Wt?S.apply(this,rt):(Nt=this.thru(yt),Gt?Y?Nt.value()[0]:Nt.value():Nt)})}),Me(["pop","push","shift","sort","splice","unshift"],function(S){var A=j[S],L=/^(?:push|sort|unshift)$/.test(S)?"tap":"thru",Y=/^(?:pop|shift)$/.test(S);$.prototype[S]=function(){var K=arguments;if(Y&&!this.__chain__){var k=this.value();return A.apply(Ut(k)?k:[],K)}return this[L](function(tt){return A.apply(Ut(tt)?tt:[],K)})}}),ri(Jt.prototype,function(S,A){var L=$[A];if(L){var Y=L.name+"";at.call(vr,Y)||(vr[Y]=[]),vr[Y].push({name:A,func:L})}}),vr[js(e,m).name]=[{name:"wrapper",func:e}],Jt.prototype.clone=Tl,Jt.prototype.reverse=Sl,Jt.prototype.value=El,$.prototype.at=qf,$.prototype.chain=_f,$.prototype.commit=tv,$.prototype.next=ev,$.prototype.plant=rv,$.prototype.reverse=nv,$.prototype.toJSON=$.prototype.valueOf=$.prototype.value=sv,$.prototype.first=$.prototype.head,rn&&($.prototype[rn]=iv),$},hr=ya();de._=hr,t=function(){return hr}.call(p,C,p,Ot),t!==e&&(Ot.exports=t)}).call(this)},260:function(Ot){(function(C,t){Ot.exports=t()})(this,function(){return function(p){var C={};function t(e){if(C[e])return C[e].exports;var d=C[e]={i:e,l:!1,exports:{}};return p[e].call(d.exports,d,d.exports,t),d.l=!0,d.exports}return t.m=p,t.c=C,t.d=function(e,d,o){t.o(e,d)||Object.defineProperty(e,d,{enumerable:!0,get:o})},t.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,d){if(d&1&&(e=t(e)),d&8||d&4&&typeof e=="object"&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),d&2&&typeof e!="string")for(var a in e)t.d(o,a,function(s){return e[s]}.bind(null,a));return o},t.n=function(e){var d=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(d,"a",d),d},t.o=function(e,d){return Object.prototype.hasOwnProperty.call(e,d)},t.p="",t(t.s=1528)}([function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}function e(i,r,l){var n=l?i[r]:Object.getOwnPropertyDescriptor(i,r);return!l&&n.value&&typeof n.value=="object"&&(n=n.value),n&&t(n)?(typeof n.enumerable=="undefined"&&(n.enumerable=!0),typeof n.configurable=="undefined"&&(n.configurable=!0),n):!1}function d(i,r){var l=Object.getOwnPropertyDescriptor(i,r);return l?(l.value&&typeof l.value=="object"&&(l=l.value),l.configurable===!1):!1}function o(i,r,l,n){for(var h in r)if(!!r.hasOwnProperty(h)){var u=e(r,h,l);if(u!==!1){var v=n||i;if(d(v.prototype,h)){if(s.ignoreFinals)continue;throw new Error("cannot override final property '"+h+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(i.prototype,h,u)}else i.prototype[h]=r[h]}}function a(i,r){if(!!r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++)o(i,r[l].prototype||r[l])}}function s(i){i||(i={});var r,l;if(i.initialize){if(typeof i.initialize!="function")throw new Error("initialize must be a function");r=i.initialize,delete i.initialize}else if(i.Extends){var n=i.Extends;r=function(){n.apply(this,arguments)}}else r=function(){};i.Extends?(r.prototype=Object.create(i.Extends.prototype),r.prototype.constructor=r,l=i.Extends,delete i.Extends):r.prototype.constructor=r;var h=null;return i.Mixins&&(h=i.Mixins,delete i.Mixins),a(r,h),o(r,i,!0,l),r}s.extend=o,s.mixin=a,s.ignoreFinals=!1,p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=typeof e;return!e||a==="number"||a==="string"?o:e.hasOwnProperty(d)&&e[d]!==void 0?e[d]:o};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(124),o=new e({initialize:function(s,i){this.x=0,this.y=0,typeof s=="object"?(this.x=s.x||0,this.y=s.y||0):(i===void 0&&(i=s),this.x=s||0,this.y=i||0)},clone:function(){return new o(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,s){return s===void 0&&(s=a),this.x=a,this.y=s,this},setTo:function(a,s){return this.set(a,s)},setToPolar:function(a,s){return s==null&&(s=1),this.x=Math.cos(a)*s,this.y=Math.sin(a)*s,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,s){return d(this.x,a.x,s)&&d(this.y,a.y,s)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var s=a.x-this.x,i=a.y-this.y;return Math.sqrt(s*s+i*i)},distanceSq:function(a){var s=a.x-this.x,i=a.y-this.y;return s*s+i*i},length:function(){var a=this.x,s=this.y;return Math.sqrt(a*a+s*s)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,s=this.y;return a*a+s*s},normalize:function(){var a=this.x,s=this.y,i=a*a+s*s;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=s*i),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,s){s===void 0&&(s=0);var i=this.x,r=this.y;return this.x=i+s*(a.x-i),this.y=r+s*(a.y-r),this},transformMat3:function(a){var s=this.x,i=this.y,r=a.val;return this.x=r[0]*s+r[3]*i+r[6],this.y=r[1]*s+r[4]*i+r[7],this},transformMat4:function(a){var s=this.x,i=this.y,r=a.val;return this.x=r[0]*s+r[4]*i+r[12],this.y=r[1]*s+r[5]*i+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var s=this.length();return s&&s>a&&this.scale(a/s),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var s=Math.cos(a),i=Math.sin(a);return this.set(s*this.x-i*this.y,i*this.x+s*this.y)}});o.ZERO=new o,o.RIGHT=new o(1,0),o.LEFT=new o(-1,0),o.UP=new o(0,-1),o.DOWN=new o(0,1),o.ONE=new o(1,1),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(56),o=new e({initialize:function(s,i){s===void 0&&(s=0),i===void 0&&(i=s),this.type=d.POINT,this.x=s,this.y=i},setTo:function(a,s){return a===void 0&&(a=0),s===void 0&&(s=a),this.x=a,this.y=s,this}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(24),o=t(20),a=new e({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},existing:function(s){return(s.renderCanvas||s.renderWebGL)&&this.displayList.add(s),s.preUpdate&&this.updateList.add(s),s},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(s,i){a.prototype.hasOwnProperty(s)||(a.prototype[s]=i)},a.remove=function(s){a.prototype.hasOwnProperty(s)&&delete a.prototype[s]},d.register("GameObjectFactory",a,"add"),p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(!e||typeof e=="number")return o;if(e.hasOwnProperty(d))return e[d];if(d.indexOf(".")!==-1){for(var a=d.split("."),s=e,i=o,r=0;r<a.length;r++)if(s.hasOwnProperty(a[r]))i=s[a[r]],s=s[a[r]];else{i=o;break}return i}else return o};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}return!0};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={install:function(d){for(var o in t)d[o]=t[o]},register:function(d,o){t[d]=o},destroy:function(){t={}}};p.exports=e},function(p,C,t){"use strict";var e=Object.prototype.hasOwnProperty,d="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(d=!1));function a(l,n,h){this.fn=l,this.context=n,this.once=h||!1}function s(l,n,h,u,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var f=new a(h,u||l,v),c=d?d+n:n;return l._events[c]?l._events[c].fn?l._events[c]=[l._events[c],f]:l._events[c].push(f):(l._events[c]=f,l._eventsCount++),l}function i(l,n){--l._eventsCount===0?l._events=new o:delete l._events[n]}function r(){this._events=new o,this._eventsCount=0}r.prototype.eventNames=function(){var n=[],h,u;if(this._eventsCount===0)return n;for(u in h=this._events)e.call(h,u)&&n.push(d?u.slice(1):u);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(h)):n},r.prototype.listeners=function(n){var h=d?d+n:n,u=this._events[h];if(!u)return[];if(u.fn)return[u.fn];for(var v=0,f=u.length,c=new Array(f);v<f;v++)c[v]=u[v].fn;return c},r.prototype.listenerCount=function(n){var h=d?d+n:n,u=this._events[h];return u?u.fn?1:u.length:0},r.prototype.emit=function(n,h,u,v,f,c){var g=d?d+n:n;if(!this._events[g])return!1;var m=this._events[g],x=arguments.length,y,T;if(m.fn){switch(m.once&&this.removeListener(n,m.fn,void 0,!0),x){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,u),!0;case 4:return m.fn.call(m.context,h,u,v),!0;case 5:return m.fn.call(m.context,h,u,v,f),!0;case 6:return m.fn.call(m.context,h,u,v,f,c),!0}for(T=1,y=new Array(x-1);T<x;T++)y[T-1]=arguments[T];m.fn.apply(m.context,y)}else{var E=m.length,R;for(T=0;T<E;T++)switch(m[T].once&&this.removeListener(n,m[T].fn,void 0,!0),x){case 1:m[T].fn.call(m[T].context);break;case 2:m[T].fn.call(m[T].context,h);break;case 3:m[T].fn.call(m[T].context,h,u);break;case 4:m[T].fn.call(m[T].context,h,u,v);break;default:if(!y)for(R=1,y=new Array(x-1);R<x;R++)y[R-1]=arguments[R];m[T].fn.apply(m[T].context,y)}}return!0},r.prototype.on=function(n,h,u){return s(this,n,h,u,!1)},r.prototype.once=function(n,h,u){return s(this,n,h,u,!0)},r.prototype.removeListener=function(n,h,u,v){var f=d?d+n:n;if(!this._events[f])return this;if(!h)return i(this,f),this;var c=this._events[f];if(c.fn)c.fn===h&&(!v||c.once)&&(!u||c.context===u)&&i(this,f);else{for(var g=0,m=[],x=c.length;g<x;g++)(c[g].fn!==h||v&&!c[g].once||u&&c[g].context!==u)&&m.push(c[g]);m.length?this._events[f]=m.length===1?m[0]:m:i(this,f)}return this},r.prototype.removeAllListeners=function(n){var h;return n?(h=d?d+n:n,this._events[h]&&i(this,h)):(this._events=new o,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=d,r.EventEmitter=r,p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(57),o=t(171),a=t(306),s=t(56),i=t(47),r=t(174),l=new e({initialize:function(h,u,v,f){h===void 0&&(h=0),u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=0),this.type=s.RECTANGLE,this.x=h,this.y=u,this.width=v,this.height=f},contains:function(n,h){return d(this,n,h)},getPoint:function(n,h){return o(this,n,h)},getPoints:function(n,h,u){return a(this,n,h,u)},getRandomPoint:function(n){return r(this,n)},setTo:function(n,h,u,v){return this.x=n,this.y=h,this.width=u,this.height=v,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(n,h){return h===void 0&&(h=n),this.x=n,this.y=h,this},setSize:function(n,h){return h===void 0&&(h=n),this.width=n,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(n){return n===void 0&&(n=new i),n.setTo(this.x,this.y,this.right,this.y),n},getLineB:function(n){return n===void 0&&(n=new i),n.setTo(this.right,this.y,this.right,this.bottom),n},getLineC:function(n){return n===void 0&&(n=new i),n.setTo(this.right,this.bottom,this.x,this.bottom),n},getLineD:function(n){return n===void 0&&(n=new i),n.setTo(this.x,this.bottom,this.x,this.y),n},left:{get:function(){return this.x},set:function(n){n>=this.right?this.width=0:this.width=this.right-n,this.x=n}},right:{get:function(){return this.x+this.width},set:function(n){n<=this.x?this.width=0:this.width=n-this.x}},top:{get:function(){return this.y},set:function(n){n>=this.bottom?this.height=0:this.height=this.bottom-n,this.y=n}},bottom:{get:function(){return this.y+this.height},set:function(n){n<=this.y?this.height=0:this.height=n-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(n){this.x=n-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(n){this.y=n-this.height/2}}});p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Alpha:t(607),AlphaSingle:t(303),BlendMode:t(304),ComputedSize:t(608),Crop:t(609),Depth:t(305),Flip:t(610),GetBounds:t(611),Mask:t(309),Origin:t(632),PathFollower:t(633),Pipeline:t(167),ScrollFactor:t(312),Size:t(634),Texture:t(635),TextureCrop:t(636),Tint:t(637),ToJSON:t(176),Transform:t(313),TransformMatrix:t(25),Visible:t(314)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e){for(var d="",o=0;o<e;++o)o>0&&(d+=`
else `),o<e-1&&(d+="if(test == "+o+".0){}");return d}p.exports={getTintFromFloats:function(e,d,o,a){var s=(e*255|0)&255,i=(d*255|0)&255,r=(o*255|0)&255,l=(a*255|0)&255;return(l<<24|s<<16|i<<8|r)>>>0},getTintAppendFloatAlpha:function(e,d){var o=(d*255|0)&255;return(o<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,d){var o=(e>>16|0)&255,a=(e>>8|0)&255,s=(e|0)&255,i=(d*255|0)&255;return(i<<24|s<<16|a<<8|o)>>>0},getFloatsFromUintRGB:function(e){var d=(e>>16|0)&255,o=(e>>8|0)&255,a=(e|0)&255;return[d/255,o/255,a/255]},checkShaderMax:function(e,d){(!d||d===-1)&&(d=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));for(var o=e.createShader(e.FRAGMENT_SHADER),a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);;){var s=a.replace(/%forloop%/gi,t(d));if(e.shaderSource(o,s),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))d=d/2|0;else break}return d},parseFragmentShaderMaxTextures:function(e,d){if(!e)return"";for(var o="",a=0;a<d;a++)a>0&&(o+=`
	else `),a<d-1&&(o+="if (outTexId < "+a+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+a+"], outTexCoord);",o+=`
	}`;return e=e.replace(/%count%/gi,d.toString()),e.replace(/%forloop%/gi,o)}}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(193),d=t(6),o=function(a,s,i){var r=d(a,s,null);if(r===null)return i;if(Array.isArray(r))return e.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return e.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return e.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(s);return r};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(176),o=t(101),a=t(9),s=t(75),i=t(20),r=new e({Extends:a,initialize:function(n,h){a.call(this),this.scene=n,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this),n.sys.queueDepthSort()},setActive:function(l){return this.active=l,this},setName:function(l){return this.name=l,this},setState:function(l){return this.state=l,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(l,n){return this.data||(this.data=new o(this)),this.data.set(l,n),this},incData:function(l,n){return this.data||(this.data=new o(this)),this.data.inc(l,n),this},toggleData:function(l){return this.data||(this.data=new o(this)),this.data.toggle(l),this},getData:function(l){return this.data||(this.data=new o(this)),this.data.get(l)},setInteractive:function(l,n,h){return this.scene.sys.input.enable(this,l,n,h),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return d(this)},willRender:function(l){return!(r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&l.id)},getIndexList:function(){for(var l=this,n=this.parentContainer,h=[];n&&(h.unshift(n.getIndex(l)),l=n,n.parentContainer);)n=n.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(l)):h.unshift(this.scene.sys.displayList.getIndex(l)),h},addToDisplayList:function(l){return l===void 0&&(l=this.scene.sys.displayList),this.displayList&&this.displayList!==l&&this.removeFromDisplayList(),l.exists(this)||(this.displayList=l,l.add(this,!0),l.queueDepthSort(),this.emit(s.ADDED_TO_SCENE,this,this.scene),l.events.emit(i.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var l=this.displayList||this.scene.sys.displayList;return l.exists(this)&&(l.remove(this,!0),l.queueDepthSort(),this.displayList=null,this.emit(s.REMOVED_FROM_SCENE,this,this.scene),l.events.emit(i.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(l){!this.scene||this.ignoreDestroy||(l===void 0&&(l=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(s.DESTROY,this,l),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(24),o=t(20),a=new e({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(s,i){a.prototype.hasOwnProperty(s)||(a.prototype[s]=i)},a.remove=function(s){a.prototype.hasOwnProperty(s)&&delete a.prototype[s]},d.register("GameObjectCreator",a,"make"),p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(7),d=function(){var o,a,s,i,r,l,n=arguments[0]||{},h=1,u=arguments.length,v=!1;for(typeof n=="boolean"&&(v=n,n=arguments[1]||{},h=2),u===h&&(n=this,--h);h<u;h++)if((o=arguments[h])!=null)for(a in o)s=n[a],i=o[a],n!==i&&(v&&i&&(e(i)||(r=Array.isArray(i)))?(r?(r=!1,l=s&&Array.isArray(s)?s:[]):l=s&&e(s)?s:{},n[a]=d(v,l,i)):i!==void 0&&(n[a]=i));return n};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return Math.max(d,Math.min(o,e))};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),d=new e,o=new e,a=new e,s={camera:d,sprite:o,calc:a},i=function(r,l,n){var h=d,u=o,v=a;return u.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),h.copyFrom(l.matrix),n?(h.multiplyWithOffset(n,-l.scrollX*r.scrollFactorX,-l.scrollY*r.scrollFactorY),u.e=r.x,u.f=r.y):(u.e-=l.scrollX*r.scrollFactorX,u.f-=l.scrollY*r.scrollFactorY),h.multiply(u,v),s};p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(656),BOOT:t(657),CREATE:t(658),DESTROY:t(659),PAUSE:t(660),POST_UPDATE:t(661),PRE_RENDER:t(662),PRE_UPDATE:t(663),READY:t(664),REMOVED_FROM_SCENE:t(665),RENDER:t(666),RESUME:t(667),SHUTDOWN:t(668),SLEEP:t(669),START:t(670),TRANSITION_COMPLETE:t(671),TRANSITION_INIT:t(672),TRANSITION_OUT:t(673),TRANSITION_START:t(674),TRANSITION_WAKE:t(675),UPDATE:t(676),WAKE:t(677)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BLUR:t(612),BOOT:t(613),CONTEXT_LOST:t(614),CONTEXT_RESTORED:t(615),DESTROY:t(616),FOCUS:t(617),HIDDEN:t(618),PAUSE:t(619),POST_RENDER:t(620),POST_STEP:t(621),PRE_RENDER:t(622),PRE_STEP:t(623),READY:t(624),RESUME:t(625),STEP:t(626),VISIBLE:t(627)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(95),a=t(2),s=t(155),i=t(240),r=t(517),l=t(156),n=new e({initialize:function(u,v){this.loader=u,this.cache=a(v,"cache",!1),this.type=a(v,"type",!1),this.key=a(v,"key",!1);var f=this.key;if(u.prefix&&u.prefix!==""&&(this.key=u.prefix+f),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var c=a(v,"url");c===void 0?c=u.path+f+"."+a(v,"extension",""):typeof c=="string"&&!c.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)&&(c=u.path+c),this.url=c,this.src="",this.xhrSettings=l(a(v,"responseType",void 0)),a(v,"xhrSettings",!1)&&(this.xhrSettings=i(this.xhrSettings,a(v,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?d.FILE_POPULATED:d.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(v,"config",{}),this.multiFile,this.linkFile},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===d.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=d.FILE_LOADING,this.src=s(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(h,u){var v=h.responseURL&&(h.responseURL.indexOf("file://")===0||h.responseURL.indexOf("capacitor://")===0),f=v&&u.target.status===0,c=!(u.target&&u.target.status!==200)||f;h.readyState===4&&h.status>=400&&h.status<=599&&(c=!1),this.state=d.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,c)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(o.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=d.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=d.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=d.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(h){h===void 0&&(h=this.data);var u=this.key,v=this.type;this.loader.emit(o.FILE_COMPLETE,u,v,h),this.loader.emit(o.FILE_KEY_COMPLETE+v+"-"+u,u,v,h),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});n.createObjectURL=function(h,u,v){if(typeof URL=="function")h.src=URL.createObjectURL(u);else{var f=new FileReader;f.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(u.type||v)+";base64,"+f.result.split(",")[1]},f.onerror=h.onerror,f.readAsDataURL(u)}},n.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},p.exports=n},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={},d={};d.register=function(o,a,s,i){i===void 0&&(i=!1),t[o]={plugin:a,mapping:s,custom:i}},d.registerCustom=function(o,a,s,i){e[o]={plugin:a,mapping:s,data:i}},d.hasCore=function(o){return t.hasOwnProperty(o)},d.hasCustom=function(o){return e.hasOwnProperty(o)},d.getCore=function(o){return t[o]},d.getCustom=function(o){return e[o]},d.getCustomClass=function(o){return e.hasOwnProperty(o)?e[o].plugin:null},d.remove=function(o){t.hasOwnProperty(o)&&delete t[o]},d.removeCustom=function(o){e.hasOwnProperty(o)&&delete e[o]},d.destroyCorePlugins=function(){for(var o in t)t.hasOwnProperty(o)&&delete t[o]},d.destroyCustomPlugins=function(){for(var o in e)e.hasOwnProperty(o)&&delete e[o]},p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(14),o=t(3),a=new e({initialize:function(i,r,l,n,h,u){i===void 0&&(i=1),r===void 0&&(r=0),l===void 0&&(l=0),n===void 0&&(n=1),h===void 0&&(h=0),u===void 0&&(u=0),this.matrix=new Float32Array([i,r,l,n,h,u,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(s){this.matrix[0]=s}},b:{get:function(){return this.matrix[1]},set:function(s){this.matrix[1]=s}},c:{get:function(){return this.matrix[2]},set:function(s){this.matrix[2]=s}},d:{get:function(){return this.matrix[3]},set:function(s){this.matrix[3]=s}},e:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},f:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},tx:{get:function(){return this.matrix[4]},set:function(s){this.matrix[4]=s}},ty:{get:function(){return this.matrix[5]},set:function(s){this.matrix[5]=s}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var s=this.matrix,i=s[0],r=s[1],l=s[2],n=s[3];return i||r?r>0?Math.acos(i/this.scaleX):-Math.acos(i/this.scaleX):l||n?d.TAU-(n>0?Math.acos(-l/this.scaleY):-Math.acos(l/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var s=this.matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s[4]=0,s[5]=0,this},translate:function(s,i){var r=this.matrix;return r[4]=r[0]*s+r[2]*i+r[4],r[5]=r[1]*s+r[3]*i+r[5],this},scale:function(s,i){var r=this.matrix;return r[0]*=s,r[1]*=s,r[2]*=i,r[3]*=i,this},rotate:function(s){var i=Math.sin(s),r=Math.cos(s),l=this.matrix,n=l[0],h=l[1],u=l[2],v=l[3];return l[0]=n*r+u*i,l[1]=h*r+v*i,l[2]=n*-i+u*r,l[3]=h*-i+v*r,this},multiply:function(s,i){var r=this.matrix,l=s.matrix,n=r[0],h=r[1],u=r[2],v=r[3],f=r[4],c=r[5],g=l[0],m=l[1],x=l[2],y=l[3],T=l[4],E=l[5],R=i===void 0?this:i;return R.a=g*n+m*u,R.b=g*h+m*v,R.c=x*n+y*u,R.d=x*h+y*v,R.e=T*n+E*u+f,R.f=T*h+E*v+c,R},multiplyWithOffset:function(s,i,r){var l=this.matrix,n=s.matrix,h=l[0],u=l[1],v=l[2],f=l[3],c=l[4],g=l[5],m=i*h+r*v+c,x=i*u+r*f+g,y=n[0],T=n[1],E=n[2],R=n[3],M=n[4],P=n[5];return l[0]=y*h+T*v,l[1]=y*u+T*f,l[2]=E*h+R*v,l[3]=E*u+R*f,l[4]=M*h+P*v+m,l[5]=M*u+P*f+x,this},transform:function(s,i,r,l,n,h){var u=this.matrix,v=u[0],f=u[1],c=u[2],g=u[3],m=u[4],x=u[5];return u[0]=s*v+i*c,u[1]=s*f+i*g,u[2]=r*v+l*c,u[3]=r*f+l*g,u[4]=n*v+h*c+m,u[5]=n*f+h*g+x,this},transformPoint:function(s,i,r){r===void 0&&(r={x:0,y:0});var l=this.matrix,n=l[0],h=l[1],u=l[2],v=l[3],f=l[4],c=l[5];return r.x=s*n+i*u+f,r.y=s*h+i*v+c,r},invert:function(){var s=this.matrix,i=s[0],r=s[1],l=s[2],n=s[3],h=s[4],u=s[5],v=i*n-r*l;return s[0]=n/v,s[1]=-r/v,s[2]=-l/v,s[3]=i/v,s[4]=(l*u-n*h)/v,s[5]=-(i*u-r*h)/v,this},copyFrom:function(s){var i=this.matrix;return i[0]=s.a,i[1]=s.b,i[2]=s.c,i[3]=s.d,i[4]=s.e,i[5]=s.f,this},copyFromArray:function(s){var i=this.matrix;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],this},copyToContext:function(s){var i=this.matrix;return s.transform(i[0],i[1],i[2],i[3],i[4],i[5]),s},setToContext:function(s){var i=this.matrix;return s.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),s},copyToArray:function(s){var i=this.matrix;return s===void 0?s=[i[0],i[1],i[2],i[3],i[4],i[5]]:(s[0]=i[0],s[1]=i[1],s[2]=i[2],s[3]=i[3],s[4]=i[4],s[5]=i[5]),s},setTransform:function(s,i,r,l,n,h){var u=this.matrix;return u[0]=s,u[1]=i,u[2]=r,u[3]=l,u[4]=n,u[5]=h,this},decomposeMatrix:function(){var s=this.decomposedMatrix,i=this.matrix,r=i[0],l=i[1],n=i[2],h=i[3],u=r*h-l*n;if(s.translateX=i[4],s.translateY=i[5],r||l){var v=Math.sqrt(r*r+l*l);s.rotation=l>0?Math.acos(r/v):-Math.acos(r/v),s.scaleX=v,s.scaleY=u/v}else if(n||h){var f=Math.sqrt(n*n+h*h);s.rotation=Math.PI*.5-(h>0?Math.acos(-n/f):-Math.acos(n/f)),s.scaleX=u/f,s.scaleY=f}else s.rotation=0,s.scaleX=0,s.scaleY=0;return s},applyITRS:function(s,i,r,l,n){var h=this.matrix,u=Math.sin(r),v=Math.cos(r);return h[4]=s,h[5]=i,h[0]=v*l,h[1]=u*l,h[2]=-u*n,h[3]=v*n,this},applyInverse:function(s,i,r){r===void 0&&(r=new o);var l=this.matrix,n=l[0],h=l[1],u=l[2],v=l[3],f=l[4],c=l[5],g=1/(n*v+u*-h);return r.x=v*g*s+-u*g*i+(c*u-f*v)*g,r.y=n*g*i+-h*g*s+(-c*n+f*h)*g,r},getX:function(s,i){return s*this.a+i*this.c+this.e},getY:function(s,i){return s*this.b+i*this.d+this.f},getXRound:function(s,i,r){var l=this.getX(s,i);return r&&(l=Math.round(l)),l},getYRound:function(s,i,r){var l=this.getY(s,i);return r&&(l=Math.round(l)),l},getCSSMatrix:function(){var s=this.matrix;return"matrix("+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),d=function(o,a,s,i,r,l){o===void 0&&(o=0),a===void 0&&(a=0),s===void 0&&(s=l.width),i===void 0&&(i=l.height),r||(r={});var n=e(r,"isNotEmpty",!1),h=e(r,"isColliding",!1),u=e(r,"hasInterestingFace",!1);o<0&&(s+=o,o=0),a<0&&(i+=a,a=0),o+s>l.width&&(s=Math.max(l.width-o,0)),a+i>l.height&&(i=Math.max(l.height-a,0));for(var v=[],f=a;f<a+i;f++)for(var c=o;c<o+s;c++){var g=l.data[f][c];if(g!==null){if(n&&g.index===-1||h&&!g.collides||u&&!g.hasInterestingFace)continue;v.push(g)}}return v};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s,i){a===void 0&&(a=0),s===void 0&&(s=0),i===void 0&&(i=1);var r,l=0,n=e.length;if(i===1)for(r=s;r<n;r++)e[r][d]=o+l*a,l++;else for(r=s;r>=0;r--)e[r][d]=o+l*a,l++;return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),d=t(13),o=function(a,s,i){s.x=d(i,"x",0),s.y=d(i,"y",0),s.depth=d(i,"depth",0),s.flipX=d(i,"flipX",!1),s.flipY=d(i,"flipY",!1);var r=d(i,"scale",null);typeof r=="number"?s.setScale(r):r!==null&&(s.scaleX=d(r,"x",1),s.scaleY=d(r,"y",1));var l=d(i,"scrollFactor",null);typeof l=="number"?s.setScrollFactor(l):l!==null&&(s.scrollFactorX=d(l,"x",1),s.scrollFactorY=d(l,"y",1)),s.rotation=d(i,"rotation",0);var n=d(i,"angle",null);n!==null&&(s.angle=n),s.alpha=d(i,"alpha",1);var h=d(i,"origin",null);if(typeof h=="number")s.setOrigin(h);else if(h!==null){var u=d(h,"x",.5),v=d(h,"y",.5);s.setOrigin(u,v)}s.blendMode=d(i,"blendMode",e.NORMAL),s.visible=d(i,"visible",!0);var f=d(i,"add",!0);return f&&a.sys.displayList.add(s),s.preUpdate&&a.sys.updateList.add(s),s};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=function(o,a,s,i,r){var l=i.alpha*s.alpha;if(l<=0)return!1;var n=e(s,i,r).calc;return a.globalCompositeOperation=o.blendModes[s.blendMode],a.globalAlpha=l,a.save(),n.setToContext(a),a.imageSmoothingEnabled=!(!o.antialias||s.frame&&s.frame.source.scaleMode),!0};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),d=t(192),o=[],a=!1,s=function(){var i=function(g,m,x,y,T){m===void 0&&(m=1),x===void 0&&(x=1),y===void 0&&(y=e.CANVAS),T===void 0&&(T=!1);var E,R=n(y);return R===null?(R={parent:g,canvas:document.createElement("canvas"),type:y},y===e.CANVAS&&o.push(R),E=R.canvas):(R.parent=g,E=R.canvas),T&&(R.parent=E),E.width=m,E.height=x,a&&y===e.CANVAS&&d.disable(E.getContext("2d")),E},r=function(g,m,x){return i(g,m,x,e.CANVAS)},l=function(g,m,x){return i(g,m,x,e.WEBGL)},n=function(g){if(g===void 0&&(g=e.CANVAS),g===e.WEBGL)return null;for(var m=0;m<o.length;m++){var x=o[m];if(!x.parent&&x.type===g)return x}return null},h=function(g){var m=g instanceof HTMLCanvasElement;o.forEach(function(x){(m&&x.canvas===g||!m&&x.parent===g)&&(x.parent=null,x.canvas.width=1,x.canvas.height=1)})},u=function(){var g=0;return o.forEach(function(m){m.parent&&g++}),g},v=function(){return o.length-u()},f=function(){a=!0},c=function(){a=!1};return{create2D:r,create:i,createWebGL:l,disableSmoothing:f,enableSmoothing:c,first:n,free:v,pool:o,remove:h,total:u}};p.exports=s()},function(p,C){var t={};p.exports=t,function(){t._nextId=0,t._seed=0,t._nowStartTime=+new Date,t.extend=function(d,o){var a,s,i;typeof o=="boolean"?(a=2,i=o):(a=1,i=!0);for(var r=a;r<arguments.length;r++){var l=arguments[r];if(l)for(var n in l)i&&l[n]&&l[n].constructor===Object&&(!d[n]||d[n].constructor===Object)?(d[n]=d[n]||{},t.extend(d[n],i,l[n])):d[n]=l[n]}return d},t.clone=function(d,o){return t.extend({},o,d)},t.keys=function(d){if(Object.keys)return Object.keys(d);var o=[];for(var a in d)o.push(a);return o},t.values=function(d){var o=[];if(Object.keys){for(var a=Object.keys(d),s=0;s<a.length;s++)o.push(d[a[s]]);return o}for(var i in d)o.push(d[i]);return o},t.get=function(d,o,a,s){o=o.split(".").slice(a,s);for(var i=0;i<o.length;i+=1)d=d[o[i]];return d},t.set=function(d,o,a,s,i){var r=o.split(".").slice(s,i);return t.get(d,o,0,-1)[r[r.length-1]]=a,a},t.shuffle=function(d){for(var o=d.length-1;o>0;o--){var a=Math.floor(t.random()*(o+1)),s=d[o];d[o]=d[a],d[a]=s}return d},t.choose=function(d){return d[Math.floor(t.random()*d.length)]},t.isElement=function(d){return typeof HTMLElement!="undefined"?d instanceof HTMLElement:!!(d&&d.nodeType&&d.nodeName)},t.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},t.isFunction=function(d){return typeof d=="function"},t.isPlainObject=function(d){return typeof d=="object"&&d.constructor===Object},t.isString=function(d){return Object.prototype.toString.call(d)==="[object String]"},t.clamp=function(d,o,a){return d<o?o:d>a?a:d},t.sign=function(d){return d<0?-1:1},t.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-t._nowStartTime},t.random=function(d,o){return d=typeof d!="undefined"?d:0,o=typeof o!="undefined"?o:1,d+e()*(o-d)};var e=function(){return t._seed=(t._seed*9301+49297)%233280,t._seed/233280};t.colorToNumber=function(d){return d=d.replace("#",""),d.length==3&&(d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2)),parseInt(d,16)},t.logLevel=1,t.log=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.info=function(){console&&t.logLevel>0&&t.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.warn=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.nextId=function(){return t._nextId++},t.indexOf=function(d,o){if(d.indexOf)return d.indexOf(o);for(var a=0;a<d.length;a++)if(d[a]===o)return a;return-1},t.map=function(d,o){if(d.map)return d.map(o);for(var a=[],s=0;s<d.length;s+=1)a.push(o(d[s]));return a},t.topologicalSort=function(d){var o=[],a=[],s=[];for(var i in d)!a[i]&&!s[i]&&t._topologicalSort(i,a,s,d,o);return o},t._topologicalSort=function(d,o,a,s,i){var r=s[d]||[];a[d]=!0;for(var l=0;l<r.length;l+=1){var n=r[l];a[n]||o[n]||t._topologicalSort(n,o,a,s,i)}a[d]=!1,o[d]=!0,i.push(d)},t.chain=function(){for(var d=[],o=0;o<arguments.length;o+=1){var a=arguments[o];a._chained?d.push.apply(d,a._chained):d.push(a)}var s=function(){for(var i,r=new Array(arguments.length),l=0,n=arguments.length;l<n;l++)r[l]=arguments[l];for(l=0;l<d.length;l+=1){var h=d[l].apply(i,r);typeof h!="undefined"&&(i=h)}return i};return s._chained=d,s},t.chainPathBefore=function(d,o,a){return t.set(d,o,t.chain(a,t.get(d,o)))},t.chainPathAfter=function(d,o,a){return t.set(d,o,t.chain(t.get(d,o),a))}}()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={VERSION:"3.55.2",BlendModes:t(35),ScaleModes:t(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(15),a=t(47),s=new e({Extends:o,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.ScrollFactor,d.Transform,d.Visible],initialize:function(r,l,n){l===void 0&&(l="Shape"),o.call(this,r,l),this.geom=n,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(i,r){return r===void 0&&(r=1),i===void 0?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=r,this.isFilled=!0),this},setStrokeStyle:function(i,r,l){return l===void 0&&(l=1),i===void 0?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=r,this.strokeAlpha=l,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},setSize:function(i,r){return this.width=i,this.height=r,this},setDisplaySize:function(i,r){return this.displayWidth=i,this.displayHeight=r,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}}});p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),d=function(o){return o*e.DEG_TO_RAD};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DESTROY:t(743),FADE_IN_COMPLETE:t(744),FADE_IN_START:t(745),FADE_OUT_COMPLETE:t(746),FADE_OUT_START:t(747),FLASH_COMPLETE:t(748),FLASH_START:t(749),FOLLOW_UPDATE:t(750),PAN_COMPLETE:t(751),PAN_START:t(752),POST_RENDER:t(753),PRE_RENDER:t(754),ROTATE_COMPLETE:t(755),ROTATE_START:t(756),SHAKE_COMPLETE:t(757),SHAKE_START:t(758),ZOOM_COMPLETE:t(759),ZOOM_START:t(760)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(103),o=t(328),a=t(188),s=t(329),i=new e({initialize:function(l,n,h,u){l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(l,n,h,u)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(r,l,n,h,u){return h===void 0&&(h=255),u===void 0&&(u=!0),this._locked=!0,this.red=r,this.green=l,this.blue=n,this.alpha=h,this._locked=!1,this.update(u)},setGLTo:function(r,l,n,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=r,this.greenGL=l,this.blueGL=n,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(r){return this._locked=!0,this.red=r.r,this.green=r.g,this.blue=r.b,r.hasOwnProperty("a")&&(this.alpha=r.a),this._locked=!1,this.update(!0)},setFromHSV:function(r,l,n){return a(r,l,n,this)},update:function(r){if(r===void 0&&(r=!1),this._locked)return this;var l=this.r,n=this.g,h=this.b,u=this.a;return this._color=d(l,n,h),this._color32=o(l,n,h,u),this._rgba="rgba("+l+","+n+","+h+","+u/255+")",r&&s(l,n,h,this),this},updateHSV:function(){var r=this.r,l=this.g,n=this.b;return s(r,l,n,this),this},clone:function(){return new i(this.r,this.g,this.b,this.a)},gray:function(r){return this.setTo(r,r,r)},random:function(r,l){r===void 0&&(r=0),l===void 0&&(l=255);var n=Math.floor(r+Math.random()*(l-r)),h=Math.floor(r+Math.random()*(l-r)),u=Math.floor(r+Math.random()*(l-r));return this.setTo(n,h,u)},randomGray:function(r,l){r===void 0&&(r=0),l===void 0&&(l=255);var n=Math.floor(r+Math.random()*(l-r));return this.setTo(n,n,n)},saturate:function(r){return this.s+=r/100,this},desaturate:function(r){return this.s-=r/100,this},lighten:function(r){return this.v+=r/100,this},darken:function(r){return this.v-=r/100,this},brighten:function(r){var l=this.r,n=this.g,h=this.b;return l=Math.max(0,Math.min(255,l-Math.round(255*-(r/100)))),n=Math.max(0,Math.min(255,n-Math.round(255*-(r/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(r/100)))),this.setTo(l,n,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(r){this.gl[0]=Math.min(Math.abs(r),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(r){this.gl[1]=Math.min(Math.abs(r),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(r){this.gl[2]=Math.min(Math.abs(r),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(r){this.gl[3]=Math.min(Math.abs(r),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(r){r=Math.floor(Math.abs(r)),this.r=Math.min(r,255),this.gl[0]=r/255,this.update(!0)}},green:{get:function(){return this.g},set:function(r){r=Math.floor(Math.abs(r)),this.g=Math.min(r,255),this.gl[1]=r/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(r){r=Math.floor(Math.abs(r)),this.b=Math.min(r,255),this.gl[2]=r/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(r){r=Math.floor(Math.abs(r)),this.a=Math.min(r,255),this.gl[3]=r/255,this.update()}},h:{get:function(){return this._h},set:function(r){this._h=r,a(r,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(r){this._s=r,a(this._h,r,this._v,this)}},v:{get:function(){return this._v},set:function(r){this._v=r,a(this._h,this._s,r,this)}}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s,i){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=s||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(o){return this.x=Math.min(this.x,o.x),this.y=Math.min(this.y,o.y),this.z=Math.min(this.z,o.z),this},max:function(o){return this.x=Math.max(this.x,o.x),this.y=Math.max(this.y,o.y),this.z=Math.max(this.z,o.z),this},clone:function(){return new d(this.x,this.y,this.z)},addVectors:function(o,a){return this.x=o.x+a.x,this.y=o.y+a.y,this.z=o.z+a.z,this},crossVectors:function(o,a){var s=o.x,i=o.y,r=o.z,l=a.x,n=a.y,h=a.z;return this.x=i*h-r*n,this.y=r*l-s*h,this.z=s*n-i*l,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this},set:function(o,a,s){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0):(this.x=o||0,this.y=a||0,this.z=s||0),this},setFromMatrixPosition:function(o){return this.fromArray(o.val,12)},setFromMatrixColumn:function(o,a){return this.fromArray(o.val,a*4)},fromArray:function(o,a){return a===void 0&&(a=0),this.x=o[a],this.y=o[a+1],this.z=o[a+2],this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this},addScalar:function(o){return this.x+=o,this.y+=o,this.z+=o,this},addScale:function(o,a){return this.x+=o.x*a,this.y+=o.y*a,this.z+=o.z*a||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this},scale:function(o){return isFinite(o)?(this.x*=o,this.y*=o,this.z*=o):(this.x=0,this.y=0,this.z=0),this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(o){var a=o.x-this.x,s=o.y-this.y,i=o.z-this.z||0;return Math.sqrt(a*a+s*s+i*i)},distanceSq:function(o){var a=o.x-this.x,s=o.y-this.y,i=o.z-this.z||0;return a*a+s*s+i*i},length:function(){var o=this.x,a=this.y,s=this.z;return Math.sqrt(o*o+a*a+s*s)},lengthSq:function(){var o=this.x,a=this.y,s=this.z;return o*o+a*a+s*s},normalize:function(){var o=this.x,a=this.y,s=this.z,i=o*o+a*a+s*s;return i>0&&(i=1/Math.sqrt(i),this.x=o*i,this.y=a*i,this.z=s*i),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z},cross:function(o){var a=this.x,s=this.y,i=this.z,r=o.x,l=o.y,n=o.z;return this.x=s*n-i*l,this.y=i*r-a*n,this.z=a*l-s*r,this},lerp:function(o,a){a===void 0&&(a=0);var s=this.x,i=this.y,r=this.z;return this.x=s+a*(o.x-s),this.y=i+a*(o.y-i),this.z=r+a*(o.z-r),this},applyMatrix3:function(o){var a=this.x,s=this.y,i=this.z,r=o.val;return this.x=r[0]*a+r[3]*s+r[6]*i,this.y=r[1]*a+r[4]*s+r[7]*i,this.z=r[2]*a+r[5]*s+r[8]*i,this},applyMatrix4:function(o){var a=this.x,s=this.y,i=this.z,r=o.val,l=1/(r[3]*a+r[7]*s+r[11]*i+r[15]);return this.x=(r[0]*a+r[4]*s+r[8]*i+r[12])*l,this.y=(r[1]*a+r[5]*s+r[9]*i+r[13])*l,this.z=(r[2]*a+r[6]*s+r[10]*i+r[14])*l,this},transformMat3:function(o){var a=this.x,s=this.y,i=this.z,r=o.val;return this.x=a*r[0]+s*r[3]+i*r[6],this.y=a*r[1]+s*r[4]+i*r[7],this.z=a*r[2]+s*r[5]+i*r[8],this},transformMat4:function(o){var a=this.x,s=this.y,i=this.z,r=o.val;return this.x=r[0]*a+r[4]*s+r[8]*i+r[12],this.y=r[1]*a+r[5]*s+r[9]*i+r[13],this.z=r[2]*a+r[6]*s+r[10]*i+r[14],this},transformCoordinates:function(o){var a=this.x,s=this.y,i=this.z,r=o.val,l=a*r[0]+s*r[4]+i*r[8]+r[12],n=a*r[1]+s*r[5]+i*r[9]+r[13],h=a*r[2]+s*r[6]+i*r[10]+r[14],u=a*r[3]+s*r[7]+i*r[11]+r[15];return this.x=l/u,this.y=n/u,this.z=h/u,this},transformQuat:function(o){var a=this.x,s=this.y,i=this.z,r=o.x,l=o.y,n=o.z,h=o.w,u=h*a+l*i-n*s,v=h*s+n*a-r*i,f=h*i+r*s-l*a,c=-r*a-l*s-n*i;return this.x=u*h+c*-r+v*-n-f*-l,this.y=v*h+c*-l+f*-r-u*-n,this.z=f*h+c*-n+u*-l-v*-r,this},project:function(o){var a=this.x,s=this.y,i=this.z,r=o.val,l=r[0],n=r[1],h=r[2],u=r[3],v=r[4],f=r[5],c=r[6],g=r[7],m=r[8],x=r[9],y=r[10],T=r[11],E=r[12],R=r[13],M=r[14],P=r[15],O=1/(a*u+s*g+i*T+P);return this.x=(a*l+s*v+i*m+E)*O,this.y=(a*n+s*f+i*x+R)*O,this.z=(a*h+s*c+i*y+M)*O,this},projectViewMatrix:function(o,a){return this.applyMatrix4(o).applyMatrix4(a)},unprojectViewMatrix:function(o,a){return this.applyMatrix4(o).applyMatrix4(a)},unproject:function(o,a){var s=o.x,i=o.y,r=o.z,l=o.w,n=this.x-s,h=l-this.y-1-i,u=this.z;return this.x=2*n/r-1,this.y=2*h/l-1,this.z=2*u-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});d.ZERO=new d,d.RIGHT=new d(1,0,0),d.LEFT=new d(-1,0,0),d.UP=new d(0,-1,0),d.DOWN=new d(0,1,0),d.FORWARD=new d(0,0,1),d.BACK=new d(0,0,-1),d.ONE=new d(1,1,1),p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(p,C,t){var e={};p.exports=e;var d=t(64),o=t(83),a=t(165),s=t(32),i=t(84),r=t(271);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(n){var h={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!n.hasOwnProperty("position")&&n.hasOwnProperty("vertices")?n.position=d.centre(n.vertices):n.hasOwnProperty("vertices")||(h.vertices=d.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var u=s.extend(h,n);return l(u,n),u.setOnCollideWith=function(v,f){return f?this.onCollideWith[v.id]=f:delete this.onCollideWith[v.id],this},u},e.nextGroup=function(n){return n?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var l=function(n,h){h=h||{},e.set(n,{bounds:n.bounds||i.create(n.vertices),positionPrev:n.positionPrev||o.clone(n.position),anglePrev:n.anglePrev||n.angle,vertices:n.vertices,parts:n.parts||[n],isStatic:n.isStatic,isSleeping:n.isSleeping,parent:n.parent||n});var u=n.bounds;if(d.rotate(n.vertices,n.angle,n.position),r.rotate(n.axes,n.angle),i.update(u,n.vertices,n.velocity),e.set(n,{axes:h.axes||n.axes,area:h.area||n.area,mass:h.mass||n.mass,inertia:h.inertia||n.inertia}),n.parts.length===1){var v=n.centerOfMass,f=n.centerOffset,c=u.max.x-u.min.x,g=u.max.y-u.min.y;v.x=-(u.min.x-n.position.x)/c,v.y=-(u.min.y-n.position.y)/g,f.x=c*v.x,f.y=g*v.y}};e.set=function(n,h,u){var v;typeof h=="string"&&(v=h,h={},h[v]=u);for(v in h)if(!!Object.prototype.hasOwnProperty.call(h,v))switch(u=h[v],v){case"isStatic":e.setStatic(n,u);break;case"isSleeping":a.set(n,u);break;case"mass":e.setMass(n,u);break;case"density":e.setDensity(n,u);break;case"inertia":e.setInertia(n,u);break;case"vertices":e.setVertices(n,u);break;case"position":e.setPosition(n,u);break;case"angle":e.setAngle(n,u);break;case"velocity":e.setVelocity(n,u);break;case"angularVelocity":e.setAngularVelocity(n,u);break;case"parts":e.setParts(n,u);break;case"centre":e.setCentre(n,u);break;default:n[v]=u}},e.setStatic=function(n,h){for(var u=0;u<n.parts.length;u++){var v=n.parts[u];v.isStatic=h,h?(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia},v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null)}},e.setMass=function(n,h){var u=n.inertia/(n.mass/6);n.inertia=u*(h/6),n.inverseInertia=1/n.inertia,n.mass=h,n.inverseMass=1/n.mass,n.density=n.mass/n.area},e.setDensity=function(n,h){e.setMass(n,h*n.area),n.density=h},e.setInertia=function(n,h){n.inertia=h,n.inverseInertia=1/n.inertia},e.setVertices=function(n,h){h[0].body===n?n.vertices=h:n.vertices=d.create(h,n),n.axes=r.fromVertices(n.vertices),n.area=d.area(n.vertices),e.setMass(n,n.density*n.area);var u=d.centre(n.vertices);d.translate(n.vertices,u,-1),e.setInertia(n,e._inertiaScale*d.inertia(n.vertices,n.mass)),d.translate(n.vertices,n.position),i.update(n.bounds,n.vertices,n.velocity)},e.setParts=function(n,h,u){var v;for(h=h.slice(0),n.parts.length=0,n.parts.push(n),n.parent=n,v=0;v<h.length;v++){var f=h[v];f!==n&&(f.parent=n,n.parts.push(f))}if(n.parts.length!==1){if(u=typeof u!="undefined"?u:!0,u){var c=[];for(v=0;v<h.length;v++)c=c.concat(h[v].vertices);d.clockwiseSort(c);var g=d.hull(c),m=d.centre(g);e.setVertices(n,g),d.translate(n.vertices,m)}var x=e._totalProperties(n),y=x.centre.x,T=x.centre.y,E=n.bounds,R=n.centerOfMass,M=n.centerOffset;i.update(E,n.vertices,n.velocity),R.x=-(E.min.x-y)/(E.max.x-E.min.x),R.y=-(E.min.y-T)/(E.max.y-E.min.y),M.x=y,M.y=T,n.area=x.area,n.parent=n,n.position.x=y,n.position.y=T,n.positionPrev.x=y,n.positionPrev.y=T,e.setMass(n,x.mass),e.setInertia(n,x.inertia),e.setPosition(n,x.centre)}},e.setCentre=function(n,h,u){u?(n.positionPrev.x+=h.x,n.positionPrev.y+=h.y,n.position.x+=h.x,n.position.y+=h.y):(n.positionPrev.x=h.x-(n.position.x-n.positionPrev.x),n.positionPrev.y=h.y-(n.position.y-n.positionPrev.y),n.position.x=h.x,n.position.y=h.y)},e.setPosition=function(n,h){var u=o.sub(h,n.position);n.positionPrev.x+=u.x,n.positionPrev.y+=u.y;for(var v=0;v<n.parts.length;v++){var f=n.parts[v];f.position.x+=u.x,f.position.y+=u.y,d.translate(f.vertices,u),i.update(f.bounds,f.vertices,n.velocity)}},e.setAngle=function(n,h){var u=h-n.angle;n.anglePrev+=u;for(var v=0;v<n.parts.length;v++){var f=n.parts[v];f.angle+=u,d.rotate(f.vertices,u,n.position),r.rotate(f.axes,u),i.update(f.bounds,f.vertices,n.velocity),v>0&&o.rotateAbout(f.position,u,n.position,f.position)}},e.setVelocity=function(n,h){n.positionPrev.x=n.position.x-h.x,n.positionPrev.y=n.position.y-h.y,n.velocity.x=h.x,n.velocity.y=h.y,n.speed=o.magnitude(n.velocity)},e.setAngularVelocity=function(n,h){n.anglePrev=n.angle-h,n.angularVelocity=h,n.angularSpeed=Math.abs(n.angularVelocity)},e.translate=function(n,h){e.setPosition(n,o.add(n.position,h))},e.rotate=function(n,h,u){if(!u)e.setAngle(n,n.angle+h);else{var v=Math.cos(h),f=Math.sin(h),c=n.position.x-u.x,g=n.position.y-u.y;e.setPosition(n,{x:u.x+(c*v-g*f),y:u.y+(c*f+g*v)}),e.setAngle(n,n.angle+h)}},e.scale=function(n,h,u,v){var f=0,c=0;v=v||n.position;for(var g=0;g<n.parts.length;g++){var m=n.parts[g];m.scale.x=h,m.scale.y=u,d.scale(m.vertices,h,u,v),m.axes=r.fromVertices(m.vertices),m.area=d.area(m.vertices),e.setMass(m,n.density*m.area),d.translate(m.vertices,{x:-m.position.x,y:-m.position.y}),e.setInertia(m,e._inertiaScale*d.inertia(m.vertices,m.mass)),d.translate(m.vertices,{x:m.position.x,y:m.position.y}),g>0&&(f+=m.area,c+=m.inertia),m.position.x=v.x+(m.position.x-v.x)*h,m.position.y=v.y+(m.position.y-v.y)*u,i.update(m.bounds,m.vertices,n.velocity)}n.parts.length>1&&(n.area=f,n.isStatic||(e.setMass(n,n.density*f),e.setInertia(n,c))),n.circleRadius&&(h===u?n.circleRadius*=h:n.circleRadius=null)},e.update=function(n,h,u,v){var f=Math.pow(h*u*n.timeScale,2),c=1-n.frictionAir*u*n.timeScale,g=n.position.x-n.positionPrev.x,m=n.position.y-n.positionPrev.y;n.velocity.x=g*c*v+n.force.x/n.mass*f,n.velocity.y=m*c*v+n.force.y/n.mass*f,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.position.x+=n.velocity.x,n.position.y+=n.velocity.y,n.angularVelocity=(n.angle-n.anglePrev)*c*v+n.torque/n.inertia*f,n.anglePrev=n.angle,n.angle+=n.angularVelocity,n.speed=o.magnitude(n.velocity),n.angularSpeed=Math.abs(n.angularVelocity);for(var x=0;x<n.parts.length;x++){var y=n.parts[x];d.translate(y.vertices,n.velocity),x>0&&(y.position.x+=n.velocity.x,y.position.y+=n.velocity.y),n.angularVelocity!==0&&(d.rotate(y.vertices,n.angularVelocity,n.position),r.rotate(y.axes,n.angularVelocity),x>0&&o.rotateAbout(y.position,n.angularVelocity,n.position,y.position)),i.update(y.bounds,y.vertices,n.velocity)}},e.applyForce=function(n,h,u){n.force.x+=u.x,n.force.y+=u.y;var v={x:h.x-n.position.x,y:h.y-n.position.y};n.torque+=v.x*u.y-v.y*u.x},e._totalProperties=function(n){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},u=n.parts.length===1?0:1;u<n.parts.length;u++){var v=n.parts[u],f=v.mass!==1/0?v.mass:1;h.mass+=f,h.area+=v.area,h.inertia+=v.inertia,h.centre=o.add(h.centre,o.mult(v.position,f))}return h.centre=o.div(h.centre,h.mass),h}})()},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y+e.height-e.height*e.originY};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x+e.width-e.width*e.originX};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s,i){a===void 0&&(a=0),s===void 0&&(s=0),i===void 0&&(i=1);var r,l=0,n=e.length;if(i===1)for(r=s;r<n;r++)e[r][d]+=o+l*a,l++;else for(r=s;r>=0;r--)e[r][d]+=o+l*a,l++;return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(307),o=t(172),a=t(56),s=t(173),i=t(3),r=new e({initialize:function(n,h,u,v){n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=0),v===void 0&&(v=0),this.type=a.LINE,this.x1=n,this.y1=h,this.x2=u,this.y2=v},getPoint:function(l,n){return d(this,l,n)},getPoints:function(l,n,h){return o(this,l,n,h)},getRandomPoint:function(l){return s(this,l)},setTo:function(l,n,h,u){return l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=0),this.x1=l,this.y1=n,this.x2=h,this.y2=u,this},getPointA:function(l){return l===void 0&&(l=new i),l.set(this.x1,this.y1),l},getPointB:function(l){return l===void 0&&(l=new i),l.set(this.x2,this.y2),l},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(l){this.x1<=this.x2?this.x1=l:this.x2=l}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(l){this.x1>this.x2?this.x1=l:this.x2=l}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(l){this.y1<=this.y2?this.y1=l:this.y2=l}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(l){this.y1>this.y2?this.y1=l:this.y2=l}}});p.exports=r},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=o||d.fillColor,i=a||d.fillAlpha,r=(s&16711680)>>>16,l=(s&65280)>>>8,n=s&255;e.fillStyle="rgba("+r+","+l+","+n+","+i+")"};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s,i,r){var l=[];r.forEach(function(h){h&&l.push(h)}),this.loader=a,this.type=s,this.key=i,this.multiKeyIndex=a.multiKeyIndex++,this.files=l,this.complete=!1,this.pending=l.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var n=0;n<l.length;n++)l[n].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(o){return this.files.push(o),o.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(o){var a=this.files.indexOf(o);a!==-1&&this.pending--},onFileFailed:function(o){var a=this.files.indexOf(o);a!==-1&&this.failed++}});p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=e-o,i=d-a;return Math.sqrt(s*s+i*i)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BOOT:t(922),DESTROY:t(923),DRAG_END:t(924),DRAG_ENTER:t(925),DRAG:t(926),DRAG_LEAVE:t(927),DRAG_OVER:t(928),DRAG_START:t(929),DROP:t(930),GAME_OUT:t(931),GAME_OVER:t(932),GAMEOBJECT_DOWN:t(933),GAMEOBJECT_DRAG_END:t(934),GAMEOBJECT_DRAG_ENTER:t(935),GAMEOBJECT_DRAG:t(936),GAMEOBJECT_DRAG_LEAVE:t(937),GAMEOBJECT_DRAG_OVER:t(938),GAMEOBJECT_DRAG_START:t(939),GAMEOBJECT_DROP:t(940),GAMEOBJECT_MOVE:t(941),GAMEOBJECT_OUT:t(942),GAMEOBJECT_OVER:t(943),GAMEOBJECT_POINTER_DOWN:t(944),GAMEOBJECT_POINTER_MOVE:t(945),GAMEOBJECT_POINTER_OUT:t(946),GAMEOBJECT_POINTER_OVER:t(947),GAMEOBJECT_POINTER_UP:t(948),GAMEOBJECT_POINTER_WHEEL:t(949),GAMEOBJECT_UP:t(950),GAMEOBJECT_WHEEL:t(951),MANAGER_BOOT:t(952),MANAGER_PROCESS:t(953),MANAGER_UPDATE:t(954),POINTER_DOWN:t(955),POINTER_DOWN_OUTSIDE:t(956),POINTER_MOVE:t(957),POINTER_OUT:t(958),POINTER_OVER:t(959),POINTER_UP:t(960),POINTER_UP_OUTSIDE:t(961),POINTER_WHEEL:t(962),POINTERLOCK_CHANGE:t(963),PRE_UPDATE:t(964),SHUTDOWN:t(965),START:t(966),UPDATE:t(967)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.y=d+e.height*e.originY,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x=d+e.width*e.originX,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x=d-e.width+e.width*e.originX,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.y=d-e.height+e.height*e.originY,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e.width<=0||e.height<=0?!1:e.x<=d&&e.x+e.width>=d&&e.y<=o&&e.y+e.height>=o};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(175),o=t(9),a=t(374),s=t(2),i=t(69),r=t(91),l=t(141),n=t(12),h=t(375),u=new e({Extends:o,initialize:function(f){o.call(this);var c=f.game,g=c.renderer,m=g.gl;this.name=s(f,"name","WebGLPipeline"),this.game=c,this.renderer=g,this.manager,this.gl=m,this.view=c.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=s(f,"topology",m.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=s(f,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=f,this.glReset=!1},boot:function(){var v,f=this.gl,c=this.config,g=this.renderer;this.isPostFX||(this.projectionMatrix=new i().identity());var m=this.renderTargets,x=s(c,"renderTarget",!1);typeof x=="boolean"&&x&&(x=1);var y=g.width,T=g.height;if(typeof x=="number")for(v=0;v<x;v++)m.push(new l(g,y,T,1,0,!0));else if(Array.isArray(x))for(v=0;v<x.length;v++){var E=s(x[v],"scale",1),R=s(x[v],"minFilter",0),M=s(x[v],"autoClear",1);m.push(new l(g,y,T,E,R,M))}m.length&&(this.currentRenderTarget=m[0]),this.setShadersFromConfig(c);var P=this.shaders,O=0;for(v=0;v<P.length;v++)P[v].vertexSize>O&&(O=P[v].vertexSize);var I=s(c,"batchSize",g.config.batchSize);this.vertexCapacity=I*6;var B=new ArrayBuffer(this.vertexCapacity*O);this.vertexData=B,this.bytes=new Uint8Array(B),this.vertexViewF32=new Float32Array(B),this.vertexViewU32=new Uint32Array(B);var w=s(c,"vertices",null);for(w?(this.vertexViewF32.set(w),this.vertexBuffer=g.createVertexBuffer(B,f.STATIC_DRAW)):this.vertexBuffer=g.createVertexBuffer(B.byteLength,f.DYNAMIC_DRAW),this.setVertexBuffer(),v=P.length-1;v>=0;v--)P[v].rebind();this.hasBooted=!0,g.on(r.RESIZE,this.resize,this),g.on(r.PRE_RENDER,this.onPreRender,this),g.on(r.RENDER,this.onRender,this),g.on(r.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(v,f){var c=this.renderer;if(v!==this.currentShader||c.currentProgram!==this.currentShader.program){this.flush(),c.resetTextures();var g=this.setVertexBuffer();g&&!f&&(f=!0),v.bind(f,!1),this.currentShader=v}return this},getShaderByName:function(v){for(var f=this.shaders,c=0;c<f.length;c++)if(f[c].name===v)return f[c]},setShadersFromConfig:function(v){var f,c=this.shaders,g=this.renderer;for(f=0;f<c.length;f++)c[f].destroy();var m="vertShader",x="fragShader",y="attributes",T=s(v,m,null),E=n.parseFragmentShaderMaxTextures(s(v,x,null),g.maxTextures),R=s(v,y,null),M=s(v,"shaders",[]),P=M.length;if(P===0)T&&E&&(this.shaders=[new h(this,"default",T,E,d(R))]);else{var O=[];for(f=0;f<P;f++){var I=M[f],B=s(I,"name","default"),w=s(I,m,T),z=n.parseFragmentShaderMaxTextures(s(I,x,E),g.maxTextures),H=s(I,y,R);w&&z&&O.push(new h(this,B,w,z,d(H)))}this.shaders=O}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(v,f){return f===void 0&&(f=v.frame),this.currentUnit=this.renderer.setTextureSource(f.source),this.currentUnit},shouldFlush:function(v){return v===void 0&&(v=0),this.vertexCount+v>this.vertexCapacity},resize:function(v,f){(v!==this.width||f!==this.height)&&this.flush(),this.width=v,this.height=f;for(var c=this.renderTargets,g=0;g<c.length;g++)c[g].resize(v,f);return this.setProjectionMatrix(v,f),this.emit(a.RESIZE,v,f,this),this.onResize(v,f),this},setProjectionMatrix:function(v,f){var c=this.projectionMatrix;if(!c)return this;this.projectionWidth=v,this.projectionHeight=f,c.ortho(0,v,f,0,-1e3,1e3);for(var g=this.shaders,m="uProjectionMatrix",x=0;x<g.length;x++){var y=g[x];y.hasUniform(m)&&(y.resetUniform(m),y.setMatrix4fv(m,!1,c.val,y))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var v=this.renderer.projectionWidth,f=this.renderer.projectionHeight;(this.projectionWidth!==v||this.projectionHeight!==f)&&this.setProjectionMatrix(v,f)}},bind:function(v){if(v===void 0&&(v=this.currentShader),this.glReset)return this.rebind(v);var f=this.setVertexBuffer();return v.bind(f),this.currentShader=v,this.emit(a.BIND,this,v),this.onActive(v),this},rebind:function(v){this.setVertexBuffer();for(var f=this.shaders,c=f.length-1;c>=0;c--){var g=f[c].rebind();(!v||g===v)&&(this.currentShader=g)}return this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var v=this.gl,f=this.vertexBuffer;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==f?(v.bindBuffer(v.ARRAY_BUFFER,f),!0):!1},preBatch:function(v){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(v),this},postBatch:function(v){return this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(v){if(v===void 0&&(v=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,v),this.onBeforeFlush(v);var f=this.gl,c=this.vertexCount,g=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),c===this.vertexCapacity?f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.DYNAMIC_DRAW):f.bufferSubData(f.ARRAY_BUFFER,0,this.bytes.subarray(0,c*g)),f.drawArrays(this.topology,0,c)),this.vertexCount=0,this.emit(a.AFTER_FLUSH,this,v),this.onAfterFlush(v)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(v,f,c,g,m,x,y){var T=this.vertexViewF32,E=this.vertexViewU32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++R]=v,T[++R]=f,T[++R]=c,T[++R]=g,T[++R]=m,T[++R]=x,E[++R]=y,this.vertexCount++},batchQuad:function(v,f,c,g,m,x,y,T,E,R,M,P,O,I,B,w,z,H,b,Q){Q===void 0&&(Q=this.currentUnit);var D=!1;return this.shouldFlush(6)&&(this.flush(),D=!0,Q=this.setTexture2D(b)),this.batchVert(f,c,R,M,Q,H,I),this.batchVert(g,m,R,O,Q,H,w),this.batchVert(x,y,P,O,Q,H,z),this.batchVert(f,c,R,M,Q,H,I),this.batchVert(x,y,P,O,Q,H,z),this.batchVert(T,E,P,M,Q,H,B),this.onBatch(v),D},batchTri:function(v,f,c,g,m,x,y,T,E,R,M,P,O,I,B,w,z){z===void 0&&(z=this.currentUnit);var H=!1;return this.shouldFlush(3)&&(this.flush(),H=!0,z=this.setTexture2D(w)),this.batchVert(f,c,T,E,z,B,P),this.batchVert(g,m,T,M,z,B,O),this.batchVert(x,y,R,M,z,B,I),this.onBatch(v),H},drawFillRect:function(v,f,c,g,m,x,y,T){y===void 0&&(y=this.renderer.whiteTexture.glTexture),T===void 0&&(T=!0),v=Math.floor(v),f=Math.floor(f);var E=Math.floor(v+c),R=Math.floor(f+g),M=this.setTexture2D(y),P=n.getTintAppendFloatAlphaAndSwap(m,x),O=0,I=0,B=1,w=1;T&&(I=1,w=0),this.batchQuad(null,v,f,v,R,E,R,E,f,O,I,B,w,P,P,P,P,0,y,M)},setTexture2D:function(v){return v===void 0&&(v=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(v),this.currentUnit},bindTexture:function(v,f){f===void 0&&(f=0);var c=this.gl;return c.activeTexture(c.TEXTURE0+f),c.bindTexture(c.TEXTURE_2D,v),this},bindRenderTarget:function(v,f){return this.bindTexture(v.texture,f)},setTime:function(v){return this.set1f(v,this.game.loop.getDuration()),this},set1f:function(v,f,c){return c===void 0&&(c=this.currentShader),c.set1f(v,f),this},set2f:function(v,f,c,g){return g===void 0&&(g=this.currentShader),g.set2f(v,f,c),this},set3f:function(v,f,c,g,m){return m===void 0&&(m=this.currentShader),m.set3f(v,f,c,g),this},set4f:function(v,f,c,g,m,x){return x===void 0&&(x=this.currentShader),x.set4f(v,f,c,g,m),this},set1fv:function(v,f,c){return c===void 0&&(c=this.currentShader),c.set1fv(v,f),this},set2fv:function(v,f,c){return c===void 0&&(c=this.currentShader),c.set2fv(v,f),this},set3fv:function(v,f,c){return c===void 0&&(c=this.currentShader),c.set3fv(v,f),this},set4fv:function(v,f,c){return c===void 0&&(c=this.currentShader),c.set4fv(v,f),this},set1iv:function(v,f,c){return c===void 0&&(c=this.currentShader),c.set1iv(v,f),this},set2iv:function(v,f,c){return c===void 0&&(c=this.currentShader),c.set2iv(v,f),this},set3iv:function(v,f,c){return c===void 0&&(c=this.currentShader),c.set3iv(v,f),this},set4iv:function(v,f,c){return c===void 0&&(c=this.currentShader),c.set4iv(v,f),this},set1i:function(v,f,c){return c===void 0&&(c=this.currentShader),c.set1i(v,f),this},set2i:function(v,f,c,g){return g===void 0&&(g=this.currentShader),g.set2i(v,f,c),this},set3i:function(v,f,c,g,m){return m===void 0&&(m=this.currentShader),m.set3i(v,f,c,g),this},set4i:function(v,f,c,g,m,x){return x===void 0&&(x=this.currentShader),x.set4i(v,f,c,g,m),this},setMatrix2fv:function(v,f,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix2fv(v,f,c),this},setMatrix3fv:function(v,f,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix3fv(v,f,c),this},setMatrix4fv:function(v,f,c,g){return g===void 0&&(g=this.currentShader),g.setMatrix4fv(v,f,c),this},destroy:function(){this.emit(a.DESTROY,this);var v,f=this.shaders;for(v=0;v<f.length;v++)f[v].destroy();var c=this.renderTargets;for(v=0;v<c.length;v++)c[v].destroy();this.gl.deleteBuffer(this.vertexBuffer);var g=this.renderer;return g.off(r.RESIZE,this.resize,this),g.off(r.PRE_RENDER,this.onPreRender,this),g.off(r.RENDER,this.onRender,this),g.off(r.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});p.exports=u},function(p,C,t){"use strict";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function e(F,G,N){N=N||2;var X=G&&G.length,V=X?G[0]*N:F.length,W=d(F,0,V,N,!0),Z=[];if(!W||W.next===W.prev)return Z;var et,it,ht,vt,lt,xt,st;if(X&&(W=n(F,G,W,N)),F.length>80*N){et=ht=F[0],it=vt=F[1];for(var mt=N;mt<V;mt+=N)lt=F[mt],xt=F[mt+1],lt<et&&(et=lt),xt<it&&(it=xt),lt>ht&&(ht=lt),xt>vt&&(vt=xt);st=Math.max(ht-et,vt-it),st=st!==0?1/st:0}return a(W,Z,N,et,it,st),Z}function d(F,G,N,X,V){var W,Z;if(V===D(F,G,N,X)>0)for(W=G;W<N;W+=X)Z=H(W,F[W],F[W+1],Z);else for(W=N-X;W>=G;W-=X)Z=H(W,F[W],F[W+1],Z);return Z&&R(Z,Z.next)&&(b(Z),Z=Z.next),Z}function o(F,G){if(!F)return F;G||(G=F);var N=F,X;do if(X=!1,!N.steiner&&(R(N,N.next)||E(N.prev,N,N.next)===0)){if(b(N),N=G=N.prev,N===N.next)break;X=!0}else N=N.next;while(X||N!==G);return G}function a(F,G,N,X,V,W,Z){if(!!F){!Z&&W&&c(F,X,V,W);for(var et=F,it,ht;F.prev!==F.next;){if(it=F.prev,ht=F.next,W?i(F,X,V,W):s(F)){G.push(it.i/N),G.push(F.i/N),G.push(ht.i/N),b(F),F=ht.next,et=ht.next;continue}if(F=ht,F===et){Z?Z===1?(F=r(o(F),G,N),a(F,G,N,X,V,W,2)):Z===2&&l(F,G,N,X,V,W):a(o(F),G,N,X,V,W,1);break}}}}function s(F){var G=F.prev,N=F,X=F.next;if(E(G,N,X)>=0)return!1;for(var V=F.next.next;V!==F.prev;){if(y(G.x,G.y,N.x,N.y,X.x,X.y,V.x,V.y)&&E(V.prev,V,V.next)>=0)return!1;V=V.next}return!0}function i(F,G,N,X){var V=F.prev,W=F,Z=F.next;if(E(V,W,Z)>=0)return!1;for(var et=V.x<W.x?V.x<Z.x?V.x:Z.x:W.x<Z.x?W.x:Z.x,it=V.y<W.y?V.y<Z.y?V.y:Z.y:W.y<Z.y?W.y:Z.y,ht=V.x>W.x?V.x>Z.x?V.x:Z.x:W.x>Z.x?W.x:Z.x,vt=V.y>W.y?V.y>Z.y?V.y:Z.y:W.y>Z.y?W.y:Z.y,lt=m(et,it,G,N,X),xt=m(ht,vt,G,N,X),st=F.prevZ,mt=F.nextZ;st&&st.z>=lt&&mt&&mt.z<=xt;){if(st!==F.prev&&st!==F.next&&y(V.x,V.y,W.x,W.y,Z.x,Z.y,st.x,st.y)&&E(st.prev,st,st.next)>=0||(st=st.prevZ,mt!==F.prev&&mt!==F.next&&y(V.x,V.y,W.x,W.y,Z.x,Z.y,mt.x,mt.y)&&E(mt.prev,mt,mt.next)>=0))return!1;mt=mt.nextZ}for(;st&&st.z>=lt;){if(st!==F.prev&&st!==F.next&&y(V.x,V.y,W.x,W.y,Z.x,Z.y,st.x,st.y)&&E(st.prev,st,st.next)>=0)return!1;st=st.prevZ}for(;mt&&mt.z<=xt;){if(mt!==F.prev&&mt!==F.next&&y(V.x,V.y,W.x,W.y,Z.x,Z.y,mt.x,mt.y)&&E(mt.prev,mt,mt.next)>=0)return!1;mt=mt.nextZ}return!0}function r(F,G,N){var X=F;do{var V=X.prev,W=X.next.next;!R(V,W)&&M(V,X,X.next,W)&&B(V,W)&&B(W,V)&&(G.push(V.i/N),G.push(X.i/N),G.push(W.i/N),b(X),b(X.next),X=F=W),X=X.next}while(X!==F);return o(X)}function l(F,G,N,X,V,W){var Z=F;do{for(var et=Z.next.next;et!==Z.prev;){if(Z.i!==et.i&&T(Z,et)){var it=z(Z,et);Z=o(Z,Z.next),it=o(it,it.next),a(Z,G,N,X,V,W),a(it,G,N,X,V,W);return}et=et.next}Z=Z.next}while(Z!==F)}function n(F,G,N,X){var V=[],W,Z,et,it,ht;for(W=0,Z=G.length;W<Z;W++)et=G[W]*X,it=W<Z-1?G[W+1]*X:F.length,ht=d(F,et,it,X,!1),ht===ht.next&&(ht.steiner=!0),V.push(x(ht));for(V.sort(h),W=0;W<V.length;W++)u(V[W],N),N=o(N,N.next);return N}function h(F,G){return F.x-G.x}function u(F,G){if(G=v(F,G),G){var N=z(G,F);o(G,G.next),o(N,N.next)}}function v(F,G){var N=G,X=F.x,V=F.y,W=-1/0,Z;do{if(V<=N.y&&V>=N.next.y&&N.next.y!==N.y){var et=N.x+(V-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(et<=X&&et>W){if(W=et,et===X){if(V===N.y)return N;if(V===N.next.y)return N.next}Z=N.x<N.next.x?N:N.next}}N=N.next}while(N!==G);if(!Z)return null;if(X===W)return Z;var it=Z,ht=Z.x,vt=Z.y,lt=1/0,xt;N=Z;do X>=N.x&&N.x>=ht&&X!==N.x&&y(V<vt?X:W,V,ht,vt,V<vt?W:X,V,N.x,N.y)&&(xt=Math.abs(V-N.y)/(X-N.x),B(N,F)&&(xt<lt||xt===lt&&(N.x>Z.x||N.x===Z.x&&f(Z,N)))&&(Z=N,lt=xt)),N=N.next;while(N!==it);return Z}function f(F,G){return E(F.prev,F,G.prev)<0&&E(G.next,F,F.next)<0}function c(F,G,N,X){var V=F;do V.z===null&&(V.z=m(V.x,V.y,G,N,X)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==F);V.prevZ.nextZ=null,V.prevZ=null,g(V)}function g(F){var G,N,X,V,W,Z,et,it,ht=1;do{for(N=F,F=null,W=null,Z=0;N;){for(Z++,X=N,et=0,G=0;G<ht&&(et++,X=X.nextZ,!!X);G++);for(it=ht;et>0||it>0&&X;)et!==0&&(it===0||!X||N.z<=X.z)?(V=N,N=N.nextZ,et--):(V=X,X=X.nextZ,it--),W?W.nextZ=V:F=V,V.prevZ=W,W=V;N=X}W.nextZ=null,ht*=2}while(Z>1);return F}function m(F,G,N,X,V){return F=32767*(F-N)*V,G=32767*(G-X)*V,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,F|G<<1}function x(F){var G=F,N=F;do(G.x<N.x||G.x===N.x&&G.y<N.y)&&(N=G),G=G.next;while(G!==F);return N}function y(F,G,N,X,V,W,Z,et){return(V-Z)*(G-et)-(F-Z)*(W-et)>=0&&(F-Z)*(X-et)-(N-Z)*(G-et)>=0&&(N-Z)*(W-et)-(V-Z)*(X-et)>=0}function T(F,G){return F.next.i!==G.i&&F.prev.i!==G.i&&!I(F,G)&&(B(F,G)&&B(G,F)&&w(F,G)&&(E(F.prev,F,G.prev)||E(F,G.prev,G))||R(F,G)&&E(F.prev,F,F.next)>0&&E(G.prev,G,G.next)>0)}function E(F,G,N){return(G.y-F.y)*(N.x-G.x)-(G.x-F.x)*(N.y-G.y)}function R(F,G){return F.x===G.x&&F.y===G.y}function M(F,G,N,X){var V=O(E(F,G,N)),W=O(E(F,G,X)),Z=O(E(N,X,F)),et=O(E(N,X,G));return!!(V!==W&&Z!==et||V===0&&P(F,N,G)||W===0&&P(F,X,G)||Z===0&&P(N,F,X)||et===0&&P(N,G,X))}function P(F,G,N){return G.x<=Math.max(F.x,N.x)&&G.x>=Math.min(F.x,N.x)&&G.y<=Math.max(F.y,N.y)&&G.y>=Math.min(F.y,N.y)}function O(F){return F>0?1:F<0?-1:0}function I(F,G){var N=F;do{if(N.i!==F.i&&N.next.i!==F.i&&N.i!==G.i&&N.next.i!==G.i&&M(N,N.next,F,G))return!0;N=N.next}while(N!==F);return!1}function B(F,G){return E(F.prev,F,F.next)<0?E(F,G,F.next)>=0&&E(F,F.prev,G)>=0:E(F,G,F.prev)<0||E(F,F.next,G)<0}function w(F,G){var N=F,X=!1,V=(F.x+G.x)/2,W=(F.y+G.y)/2;do N.y>W!=N.next.y>W&&N.next.y!==N.y&&V<(N.next.x-N.x)*(W-N.y)/(N.next.y-N.y)+N.x&&(X=!X),N=N.next;while(N!==F);return X}function z(F,G){var N=new Q(F.i,F.x,F.y),X=new Q(G.i,G.x,G.y),V=F.next,W=G.prev;return F.next=G,G.prev=F,N.next=V,V.prev=N,X.next=N,N.prev=X,W.next=X,X.prev=W,X}function H(F,G,N,X){var V=new Q(F,G,N);return X?(V.next=X.next,V.prev=X,X.next.prev=V,X.next=V):(V.prev=V,V.next=V),V}function b(F){F.next.prev=F.prev,F.prev.next=F.next,F.prevZ&&(F.prevZ.nextZ=F.nextZ),F.nextZ&&(F.nextZ.prevZ=F.prevZ)}function Q(F,G,N){this.i=F,this.x=G,this.y=N,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.deviation=function(F,G,N,X){var V=G&&G.length,W=V?G[0]*N:F.length,Z=Math.abs(D(F,0,W,N));if(V)for(var et=0,it=G.length;et<it;et++){var ht=G[et]*N,vt=et<it-1?G[et+1]*N:F.length;Z-=Math.abs(D(F,ht,vt,N))}var lt=0;for(et=0;et<X.length;et+=3){var xt=X[et]*N,st=X[et+1]*N,mt=X[et+2]*N;lt+=Math.abs((F[xt]-F[mt])*(F[st+1]-F[xt+1])-(F[xt]-F[st])*(F[mt+1]-F[xt+1]))}return Z===0&&lt===0?0:Math.abs((lt-Z)/Z)};function D(F,G,N,X){for(var V=0,W=G,Z=N-X;W<N;W+=X)V+=(F[Z]-F[W])*(F[W+1]+F[Z+1]),Z=W;return V}e.flatten=function(F){for(var G=F[0][0].length,N={vertices:[],holes:[],dimensions:G},X=0,V=0;V<F.length;V++){for(var W=0;W<F[V].length;W++)for(var Z=0;Z<G;Z++)N.vertices.push(F[V][W][Z]);V>0&&(X+=F[V-1].length,N.holes.push(X))}return N},p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=o||d.strokeColor,i=a||d.strokeAlpha,r=(s&16711680)>>>16,l=(s&65280)>>>8,n=s&255;e.strokeStyle="rgba("+r+","+l+","+n+","+i+")",e.lineWidth=d.lineWidth};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(6),r=t(7),l=new e({Extends:o,initialize:function(h,u,v,f,c){var g="json";if(r(u)){var m=u;u=s(m,"key"),v=s(m,"url"),f=s(m,"xhrSettings"),g=s(m,"extension",g),c=s(m,"dataKey",c)}var x={type:"json",cache:h.cacheManager.json,extension:g,responseType:"text",key:u,url:v,xhrSettings:f,config:c};o.call(this,h,x),r(v)&&(c?this.data=i(v,c):this.data=v,this.state=d.FILE_POPULATED)},onProcess:function(){if(this.state!==d.FILE_POPULATED){this.state=d.FILE_PROCESSING;try{var n=JSON.parse(this.xhrLoader.responseText)}catch(u){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),u}var h=this.config;typeof h=="string"?this.data=i(n,h,n):this.data=n}this.onProcessComplete()}});a.register("json",function(n,h,u,v){if(Array.isArray(n))for(var f=0;f<n.length;f++)this.addFile(new l(this,n[f]));else this.addFile(new l(this,n,h,v,u));return this}),p.exports=l},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),d=t(26),o=function(a,s,i,r,l){for(var n=null,h=null,u=null,v=null,f=d(a,s,i,r,null,l),c=0;c<f.length;c++){var g=f[c];g&&(g.collides?(n=e(g.x,g.y-1,!0,l),h=e(g.x,g.y+1,!0,l),u=e(g.x-1,g.y,!0,l),v=e(g.x+1,g.y,!0,l),g.faceTop=!(n&&n.collides),g.faceBottom=!(h&&h.collides),g.faceLeft=!(u&&u.collides),g.faceRight=!(v&&v.collides)):g.resetFaces())}};p.exports=o},function(p,C,t){var e={};p.exports=e;var d=t(83),o=t(32);(function(){e.create=function(a,s){for(var i=[],r=0;r<a.length;r++){var l=a[r],n={x:l.x,y:l.y,index:r,body:s,isInternal:!1,contact:null,offset:null};n.contact={vertex:n,normalImpulse:0,tangentImpulse:0},i.push(n)}return i},e.fromPath=function(a,s){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,r=[];return a.replace(i,function(l,n,h){r.push({x:parseFloat(n),y:parseFloat(h)})}),e.create(r,s)},e.centre=function(a){for(var s=e.area(a,!0),i={x:0,y:0},r,l,n,h=0;h<a.length;h++)n=(h+1)%a.length,r=d.cross(a[h],a[n]),l=d.mult(d.add(a[h],a[n]),r),i=d.add(i,l);return d.div(i,6*s)},e.mean=function(a){for(var s={x:0,y:0},i=0;i<a.length;i++)s.x+=a[i].x,s.y+=a[i].y;return d.div(s,a.length)},e.area=function(a,s){for(var i=0,r=a.length-1,l=0;l<a.length;l++)i+=(a[r].x-a[l].x)*(a[r].y+a[l].y),r=l;return s?i/2:Math.abs(i)/2},e.inertia=function(a,s){for(var i=0,r=0,l=a,n,h,u=0;u<l.length;u++)h=(u+1)%l.length,n=Math.abs(d.cross(l[h],l[u])),i+=n*(d.dot(l[h],l[h])+d.dot(l[h],l[u])+d.dot(l[u],l[u])),r+=n;return s/6*(i/r)},e.translate=function(a,s,i){var r;if(i)for(r=0;r<a.length;r++)a[r].x+=s.x*i,a[r].y+=s.y*i;else for(r=0;r<a.length;r++)a[r].x+=s.x,a[r].y+=s.y;return a},e.rotate=function(a,s,i){if(s!==0){for(var r=Math.cos(s),l=Math.sin(s),n=0;n<a.length;n++){var h=a[n],u=h.x-i.x,v=h.y-i.y;h.x=i.x+(u*r-v*l),h.y=i.y+(u*l+v*r)}return a}},e.contains=function(a,s){for(var i=0;i<a.length;i++){var r=a[i],l=a[(i+1)%a.length];if((s.x-r.x)*(l.y-r.y)+(s.y-r.y)*(r.x-l.x)>0)return!1}return!0},e.scale=function(a,s,i,r){if(s===1&&i===1)return a;r=r||e.centre(a);for(var l,n,h=0;h<a.length;h++)l=a[h],n=d.sub(l,r),a[h].x=r.x+n.x*s,a[h].y=r.y+n.y*i;return a},e.chamfer=function(a,s,i,r,l){typeof s=="number"?s=[s]:s=s||[8],i=typeof i!="undefined"?i:-1,r=r||2,l=l||14;for(var n=[],h=0;h<a.length;h++){var u=a[h-1>=0?h-1:a.length-1],v=a[h],f=a[(h+1)%a.length],c=s[h<s.length?h:s.length-1];if(c===0){n.push(v);continue}var g=d.normalise({x:v.y-u.y,y:u.x-v.x}),m=d.normalise({x:f.y-v.y,y:v.x-f.x}),x=Math.sqrt(2*Math.pow(c,2)),y=d.mult(o.clone(g),c),T=d.normalise(d.mult(d.add(g,m),.5)),E=d.sub(v,d.mult(T,x)),R=i;i===-1&&(R=Math.pow(c,.32)*1.75),R=o.clamp(R,r,l),R%2===1&&(R+=1);for(var M=Math.acos(d.dot(g,m)),P=M/R,O=0;O<R;O++)n.push(d.add(d.rotate(y,P*O),E))}return n},e.clockwiseSort=function(a){var s=e.mean(a);return a.sort(function(i,r){return d.angle(s,i)-d.angle(s,r)}),a},e.isConvex=function(a){var s=0,i=a.length,r,l,n,h;if(i<3)return null;for(r=0;r<i;r++)if(l=(r+1)%i,n=(r+2)%i,h=(a[l].x-a[r].x)*(a[n].y-a[l].y),h-=(a[l].y-a[r].y)*(a[n].x-a[l].x),h<0?s|=1:h>0&&(s|=2),s===3)return!1;return s!==0?!0:null},e.hull=function(a){var s=[],i=[],r,l;for(a=a.slice(0),a.sort(function(n,h){var u=n.x-h.x;return u!==0?u:n.y-h.y}),l=0;l<a.length;l+=1){for(r=a[l];i.length>=2&&d.cross3(i[i.length-2],i[i.length-1],r)<=0;)i.pop();i.push(r)}for(l=a.length-1;l>=0;l-=1){for(r=a[l];s.length>=2&&d.cross3(s[s.length-2],s[s.length-1],r)<=0;)s.pop();s.push(r)}return s.pop(),i.pop(),s.concat(i)}})()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(66),o=t(300),a=t(301),s=t(56),i=t(170),r=new e({initialize:function(n,h,u){n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=0),this.type=s.CIRCLE,this.x=n,this.y=h,this._radius=u,this._diameter=u*2},contains:function(l,n){return d(this,l,n)},getPoint:function(l,n){return o(this,l,n)},getPoints:function(l,n,h){return a(this,l,n,h)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,n,h){return this.x=l,this.y=n,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(l,n){return n===void 0&&(n=l),this.x=l,this.y=n,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this._diameter=l*2}},diameter:{get:function(){return this._diameter},set:function(l){this._diameter=l,this._radius=l*.5}},left:{get:function(){return this.x-this._radius},set:function(l){this.x=l+this._radius}},right:{get:function(){return this.x+this._radius},set:function(l){this.x=l-this._radius}},top:{get:function(){return this.y-this._radius},set:function(l){this.y=l+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(l){this.y=l-this._radius}}});p.exports=r},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(e.radius>0&&d>=e.left&&d<=e.right&&o>=e.top&&o<=e.bottom){var a=(e.x-d)*(e.x-d),s=(e.y-o)*(e.y-o);return a+s<=e.radius*e.radius}else return!1};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=o-d;return d+((e-d)%a+a)%a};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(39),o=1e-6,a=new e({initialize:function(u){this.val=new Float32Array(16),u?this.copy(u):this.identity()},clone:function(){return new a(this)},set:function(h){return this.copy(h)},setValues:function(h,u,v,f,c,g,m,x,y,T,E,R,M,P,O,I){var B=this.val;return B[0]=h,B[1]=u,B[2]=v,B[3]=f,B[4]=c,B[5]=g,B[6]=m,B[7]=x,B[8]=y,B[9]=T,B[10]=E,B[11]=R,B[12]=M,B[13]=P,B[14]=O,B[15]=I,this},copy:function(h){var u=h.val;return this.setValues(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,u,v){var f=s.fromQuat(v),c=f.val,g=u.x,m=u.y,x=u.z;return this.setValues(c[0]*g,c[1]*g,c[2]*g,0,c[4]*m,c[5]*m,c[6]*m,0,c[8]*x,c[9]*x,c[10]*x,0,h.x,h.y,h.z,1)},xyz:function(h,u,v){this.identity();var f=this.val;return f[12]=h,f[13]=u,f[14]=v,this},scaling:function(h,u,v){this.zero();var f=this.val;return f[0]=h,f[5]=u,f[10]=v,f[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,u=h[1],v=h[2],f=h[3],c=h[6],g=h[7],m=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=u,h[6]=h[9],h[7]=h[13],h[8]=v,h[9]=c,h[11]=h[14],h[12]=f,h[13]=g,h[14]=m,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,u=h[0],v=h[1],f=h[2],c=h[3],g=h[4],m=h[5],x=h[6],y=h[7],T=h[8],E=h[9],R=h[10],M=h[11],P=h[12],O=h[13],I=h[14],B=h[15],w=u*m-v*g,z=u*x-f*g,H=u*y-c*g,b=v*x-f*m,Q=v*y-c*m,D=f*y-c*x,F=T*O-E*P,G=T*I-R*P,N=T*B-M*P,X=E*I-R*O,V=E*B-M*O,W=R*B-M*I,Z=w*W-z*V+H*X+b*N-Q*G+D*F;return Z?(Z=1/Z,this.setValues((m*W-x*V+y*X)*Z,(f*V-v*W-c*X)*Z,(O*D-I*Q+B*b)*Z,(R*Q-E*D-M*b)*Z,(x*N-g*W-y*G)*Z,(u*W-f*N+c*G)*Z,(I*H-P*D-B*z)*Z,(T*D-R*H+M*z)*Z,(g*V-m*N+y*F)*Z,(v*N-u*V-c*F)*Z,(P*Q-O*H+B*w)*Z,(E*H-T*Q-M*w)*Z,(m*G-g*X-x*F)*Z,(u*X-v*G+f*F)*Z,(O*z-P*b-I*w)*Z,(T*b-E*z+R*w)*Z)):this},adjoint:function(){var h=this.val,u=h[0],v=h[1],f=h[2],c=h[3],g=h[4],m=h[5],x=h[6],y=h[7],T=h[8],E=h[9],R=h[10],M=h[11],P=h[12],O=h[13],I=h[14],B=h[15];return this.setValues(m*(R*B-M*I)-E*(x*B-y*I)+O*(x*M-y*R),-(v*(R*B-M*I)-E*(f*B-c*I)+O*(f*M-c*R)),v*(x*B-y*I)-m*(f*B-c*I)+O*(f*y-c*x),-(v*(x*M-y*R)-m*(f*M-c*R)+E*(f*y-c*x)),-(g*(R*B-M*I)-T*(x*B-y*I)+P*(x*M-y*R)),u*(R*B-M*I)-T*(f*B-c*I)+P*(f*M-c*R),-(u*(x*B-y*I)-g*(f*B-c*I)+P*(f*y-c*x)),u*(x*M-y*R)-g*(f*M-c*R)+T*(f*y-c*x),g*(E*B-M*O)-T*(m*B-y*O)+P*(m*M-y*E),-(u*(E*B-M*O)-T*(v*B-c*O)+P*(v*M-c*E)),u*(m*B-y*O)-g*(v*B-c*O)+P*(v*y-c*m),-(u*(m*M-y*E)-g*(v*M-c*E)+T*(v*y-c*m)),-(g*(E*I-R*O)-T*(m*I-x*O)+P*(m*R-x*E)),u*(E*I-R*O)-T*(v*I-f*O)+P*(v*R-f*E),-(u*(m*I-x*O)-g*(v*I-f*O)+P*(v*x-f*m)),u*(m*R-x*E)-g*(v*R-f*E)+T*(v*x-f*m))},determinant:function(){var h=this.val,u=h[0],v=h[1],f=h[2],c=h[3],g=h[4],m=h[5],x=h[6],y=h[7],T=h[8],E=h[9],R=h[10],M=h[11],P=h[12],O=h[13],I=h[14],B=h[15],w=u*m-v*g,z=u*x-f*g,H=u*y-c*g,b=v*x-f*m,Q=v*y-c*m,D=f*y-c*x,F=T*O-E*P,G=T*I-R*P,N=T*B-M*P,X=E*I-R*O,V=E*B-M*O,W=R*B-M*I;return w*W-z*V+H*X+b*N-Q*G+D*F},multiply:function(h){var u=this.val,v=u[0],f=u[1],c=u[2],g=u[3],m=u[4],x=u[5],y=u[6],T=u[7],E=u[8],R=u[9],M=u[10],P=u[11],O=u[12],I=u[13],B=u[14],w=u[15],z=h.val,H=z[0],b=z[1],Q=z[2],D=z[3];return u[0]=H*v+b*m+Q*E+D*O,u[1]=H*f+b*x+Q*R+D*I,u[2]=H*c+b*y+Q*M+D*B,u[3]=H*g+b*T+Q*P+D*w,H=z[4],b=z[5],Q=z[6],D=z[7],u[4]=H*v+b*m+Q*E+D*O,u[5]=H*f+b*x+Q*R+D*I,u[6]=H*c+b*y+Q*M+D*B,u[7]=H*g+b*T+Q*P+D*w,H=z[8],b=z[9],Q=z[10],D=z[11],u[8]=H*v+b*m+Q*E+D*O,u[9]=H*f+b*x+Q*R+D*I,u[10]=H*c+b*y+Q*M+D*B,u[11]=H*g+b*T+Q*P+D*w,H=z[12],b=z[13],Q=z[14],D=z[15],u[12]=H*v+b*m+Q*E+D*O,u[13]=H*f+b*x+Q*R+D*I,u[14]=H*c+b*y+Q*M+D*B,u[15]=H*g+b*T+Q*P+D*w,this},multiplyLocal:function(h){var u=this.val,v=h.val;return this.setValues(u[0]*v[0]+u[1]*v[4]+u[2]*v[8]+u[3]*v[12],u[0]*v[1]+u[1]*v[5]+u[2]*v[9]+u[3]*v[13],u[0]*v[2]+u[1]*v[6]+u[2]*v[10]+u[3]*v[14],u[0]*v[3]+u[1]*v[7]+u[2]*v[11]+u[3]*v[15],u[4]*v[0]+u[5]*v[4]+u[6]*v[8]+u[7]*v[12],u[4]*v[1]+u[5]*v[5]+u[6]*v[9]+u[7]*v[13],u[4]*v[2]+u[5]*v[6]+u[6]*v[10]+u[7]*v[14],u[4]*v[3]+u[5]*v[7]+u[6]*v[11]+u[7]*v[15],u[8]*v[0]+u[9]*v[4]+u[10]*v[8]+u[11]*v[12],u[8]*v[1]+u[9]*v[5]+u[10]*v[9]+u[11]*v[13],u[8]*v[2]+u[9]*v[6]+u[10]*v[10]+u[11]*v[14],u[8]*v[3]+u[9]*v[7]+u[10]*v[11]+u[11]*v[15],u[12]*v[0]+u[13]*v[4]+u[14]*v[8]+u[15]*v[12],u[12]*v[1]+u[13]*v[5]+u[14]*v[9]+u[15]*v[13],u[12]*v[2]+u[13]*v[6]+u[14]*v[10]+u[15]*v[14],u[12]*v[3]+u[13]*v[7]+u[14]*v[11]+u[15]*v[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,u){var v=h.val,f=u.val,c=v[0],g=v[4],m=v[8],x=v[12],y=v[1],T=v[5],E=v[9],R=v[13],M=v[2],P=v[6],O=v[10],I=v[14],B=v[3],w=v[7],z=v[11],H=v[15],b=f[0],Q=f[4],D=f[8],F=f[12],G=f[1],N=f[5],X=f[9],V=f[13],W=f[2],Z=f[6],et=f[10],it=f[14],ht=f[3],vt=f[7],lt=f[11],xt=f[15];return this.setValues(c*b+g*G+m*W+x*ht,y*b+T*G+E*W+R*ht,M*b+P*G+O*W+I*ht,B*b+w*G+z*W+H*ht,c*Q+g*N+m*Z+x*vt,y*Q+T*N+E*Z+R*vt,M*Q+P*N+O*Z+I*vt,B*Q+w*N+z*Z+H*vt,c*D+g*X+m*et+x*lt,y*D+T*X+E*et+R*lt,M*D+P*X+O*et+I*lt,B*D+w*X+z*et+H*lt,c*F+g*V+m*it+x*xt,y*F+T*V+E*it+R*xt,M*F+P*V+O*it+I*xt,B*F+w*V+z*it+H*xt)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,u,v){var f=this.val;return f[12]=f[0]*h+f[4]*u+f[8]*v+f[12],f[13]=f[1]*h+f[5]*u+f[9]*v+f[13],f[14]=f[2]*h+f[6]*u+f[10]*v+f[14],f[15]=f[3]*h+f[7]*u+f[11]*v+f[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,u,v){var f=this.val;return f[0]=f[0]*h,f[1]=f[1]*h,f[2]=f[2]*h,f[3]=f[3]*h,f[4]=f[4]*u,f[5]=f[5]*u,f[6]=f[6]*u,f[7]=f[7]*u,f[8]=f[8]*v,f[9]=f[9]*v,f[10]=f[10]*v,f[11]=f[11]*v,this},makeRotationAxis:function(h,u){var v=Math.cos(u),f=Math.sin(u),c=1-v,g=h.x,m=h.y,x=h.z,y=c*g,T=c*m;return this.setValues(y*g+v,y*m-f*x,y*x+f*m,0,y*m+f*x,T*m+v,T*x-f*g,0,y*x-f*m,T*x+f*g,c*x*x+v,0,0,0,0,1)},rotate:function(h,u){var v=this.val,f=u.x,c=u.y,g=u.z,m=Math.sqrt(f*f+c*c+g*g);if(Math.abs(m)<o)return this;m=1/m,f*=m,c*=m,g*=m;var x=Math.sin(h),y=Math.cos(h),T=1-y,E=v[0],R=v[1],M=v[2],P=v[3],O=v[4],I=v[5],B=v[6],w=v[7],z=v[8],H=v[9],b=v[10],Q=v[11],D=v[12],F=v[13],G=v[14],N=v[15],X=f*f*T+y,V=c*f*T+g*x,W=g*f*T-c*x,Z=f*c*T-g*x,et=c*c*T+y,it=g*c*T+f*x,ht=f*g*T+c*x,vt=c*g*T-f*x,lt=g*g*T+y;return this.setValues(E*X+O*V+z*W,R*X+I*V+H*W,M*X+B*V+b*W,P*X+w*V+Q*W,E*Z+O*et+z*it,R*Z+I*et+H*it,M*Z+B*et+b*it,P*Z+w*et+Q*it,E*ht+O*vt+z*lt,R*ht+I*vt+H*lt,M*ht+B*vt+b*lt,P*ht+w*vt+Q*lt,D,F,G,N)},rotateX:function(h){var u=this.val,v=Math.sin(h),f=Math.cos(h),c=u[4],g=u[5],m=u[6],x=u[7],y=u[8],T=u[9],E=u[10],R=u[11];return u[4]=c*f+y*v,u[5]=g*f+T*v,u[6]=m*f+E*v,u[7]=x*f+R*v,u[8]=y*f-c*v,u[9]=T*f-g*v,u[10]=E*f-m*v,u[11]=R*f-x*v,this},rotateY:function(h){var u=this.val,v=Math.sin(h),f=Math.cos(h),c=u[0],g=u[1],m=u[2],x=u[3],y=u[8],T=u[9],E=u[10],R=u[11];return u[0]=c*f-y*v,u[1]=g*f-T*v,u[2]=m*f-E*v,u[3]=x*f-R*v,u[8]=c*v+y*f,u[9]=g*v+T*f,u[10]=m*v+E*f,u[11]=x*v+R*f,this},rotateZ:function(h){var u=this.val,v=Math.sin(h),f=Math.cos(h),c=u[0],g=u[1],m=u[2],x=u[3],y=u[4],T=u[5],E=u[6],R=u[7];return u[0]=c*f+y*v,u[1]=g*f+T*v,u[2]=m*f+E*v,u[3]=x*f+R*v,u[4]=y*f-c*v,u[5]=T*f-g*v,u[6]=E*f-m*v,u[7]=R*f-x*v,this},fromRotationTranslation:function(h,u){var v=h.x,f=h.y,c=h.z,g=h.w,m=v+v,x=f+f,y=c+c,T=v*m,E=v*x,R=v*y,M=f*x,P=f*y,O=c*y,I=g*m,B=g*x,w=g*y;return this.setValues(1-(M+O),E+w,R-B,0,E-w,1-(T+O),P+I,0,R+B,P-I,1-(T+M),0,u.x,u.y,u.z,1)},fromQuat:function(h){var u=h.x,v=h.y,f=h.z,c=h.w,g=u+u,m=v+v,x=f+f,y=u*g,T=u*m,E=u*x,R=v*m,M=v*x,P=f*x,O=c*g,I=c*m,B=c*x;return this.setValues(1-(R+P),T+B,E-I,0,T-B,1-(y+P),M+O,0,E+I,M-O,1-(y+R),0,0,0,0,1)},frustum:function(h,u,v,f,c,g){var m=1/(u-h),x=1/(f-v),y=1/(c-g);return this.setValues(c*2*m,0,0,0,0,c*2*x,0,0,(u+h)*m,(f+v)*x,(g+c)*y,-1,0,0,g*c*2*y,0)},perspective:function(h,u,v,f){var c=1/Math.tan(h/2),g=1/(v-f);return this.setValues(c/u,0,0,0,0,c,0,0,0,0,(f+v)*g,-1,0,0,2*f*v*g,0)},perspectiveLH:function(h,u,v,f){return this.setValues(2*v/h,0,0,0,0,2*v/u,0,0,0,0,-f/(v-f),1,0,0,v*f/(v-f),0)},ortho:function(h,u,v,f,c,g){var m=h-u,x=v-f,y=c-g;return m=m===0?m:1/m,x=x===0?x:1/x,y=y===0?y:1/y,this.setValues(-2*m,0,0,0,0,-2*x,0,0,0,0,2*y,0,(h+u)*m,(f+v)*x,(g+c)*y,1)},lookAtRH:function(h,u,v){var f=this.val;return n.subVectors(h,u),n.getLengthSquared()===0&&(n.z=1),n.normalize(),r.crossVectors(v,n),r.getLengthSquared()===0&&(Math.abs(v.z)===1?n.x+=1e-4:n.z+=1e-4,n.normalize(),r.crossVectors(v,n)),r.normalize(),l.crossVectors(n,r),f[0]=r.x,f[1]=r.y,f[2]=r.z,f[4]=l.x,f[5]=l.y,f[6]=l.z,f[8]=n.x,f[9]=n.y,f[10]=n.z,this},lookAt:function(h,u,v){var f=h.x,c=h.y,g=h.z,m=v.x,x=v.y,y=v.z,T=u.x,E=u.y,R=u.z;if(Math.abs(f-T)<o&&Math.abs(c-E)<o&&Math.abs(g-R)<o)return this.identity();var M=f-T,P=c-E,O=g-R,I=1/Math.sqrt(M*M+P*P+O*O);M*=I,P*=I,O*=I;var B=x*O-y*P,w=y*M-m*O,z=m*P-x*M;I=Math.sqrt(B*B+w*w+z*z),I?(I=1/I,B*=I,w*=I,z*=I):(B=0,w=0,z=0);var H=P*z-O*w,b=O*B-M*z,Q=M*w-P*B;return I=Math.sqrt(H*H+b*b+Q*Q),I?(I=1/I,H*=I,b*=I,Q*=I):(H=0,b=0,Q=0),this.setValues(B,H,M,0,w,b,P,0,z,Q,O,0,-(B*f+w*c+z*g),-(H*f+b*c+Q*g),-(M*f+P*c+O*g),1)},yawPitchRoll:function(h,u,v){this.zero(),s.zero(),i.zero();var f=this.val,c=s.val,g=i.val,m=Math.sin(v),x=Math.cos(v);return f[10]=1,f[15]=1,f[0]=x,f[1]=m,f[4]=-m,f[5]=x,m=Math.sin(u),x=Math.cos(u),c[0]=1,c[15]=1,c[5]=x,c[10]=x,c[9]=-m,c[6]=m,m=Math.sin(h),x=Math.cos(h),g[5]=1,g[15]=1,g[0]=x,g[2]=-m,g[8]=m,g[10]=x,this.multiplyLocal(s),this.multiplyLocal(i),this},setWorldMatrix:function(h,u,v,f,c){return this.yawPitchRoll(h.y,h.x,h.z),s.scaling(v.x,v.y,v.z),i.xyz(u.x,u.y,u.z),this.multiplyLocal(s),this.multiplyLocal(i),f&&this.multiplyLocal(f),c&&this.multiplyLocal(c),this},multiplyToMat4:function(h,u){var v=this.val,f=h.val,c=v[0],g=v[1],m=v[2],x=v[3],y=v[4],T=v[5],E=v[6],R=v[7],M=v[8],P=v[9],O=v[10],I=v[11],B=v[12],w=v[13],z=v[14],H=v[15],b=f[0],Q=f[1],D=f[2],F=f[3],G=f[4],N=f[5],X=f[6],V=f[7],W=f[8],Z=f[9],et=f[10],it=f[11],ht=f[12],vt=f[13],lt=f[14],xt=f[15];return u.setValues(b*c+Q*y+D*M+F*B,Q*g+Q*T+D*P+F*w,D*m+Q*E+D*O+F*z,F*x+Q*R+D*I+F*H,G*c+N*y+X*M+V*B,G*g+N*T+X*P+V*w,G*m+N*E+X*O+V*z,G*x+N*R+X*I+V*H,W*c+Z*y+et*M+it*B,W*g+Z*T+et*P+it*w,W*m+Z*E+et*O+it*z,W*x+Z*R+et*I+it*H,ht*c+vt*y+lt*M+xt*B,ht*g+vt*T+lt*P+xt*w,ht*m+vt*E+lt*O+xt*z,ht*x+vt*R+lt*I+xt*H)},fromRotationXYTranslation:function(h,u,v){var f=u.x,c=u.y,g=u.z,m=Math.sin(h.x),x=Math.cos(h.x),y=Math.sin(h.y),T=Math.cos(h.y),E=f,R=c,M=g,P=-m,O=0-P*y,I=0-x*y,B=P*T,w=x*T;return v||(E=T*f+y*g,R=O*f+x*c+B*g,M=I*f+m*c+w*g),this.setValues(T,O,I,0,0,x,m,0,y,B,w,0,E,R,M,1)},getMaxScaleOnAxis:function(){var h=this.val,u=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],v=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],f=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(u,v,f))}}),s=new a,i=new a,r=new d,l=new d,n=new d;p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COMPLETE:t(987),DECODED:t(988),DECODED_ALL:t(989),DESTROY:t(990),DETUNE:t(991),GLOBAL_DETUNE:t(992),GLOBAL_MUTE:t(993),GLOBAL_RATE:t(994),GLOBAL_VOLUME:t(995),LOOP:t(996),LOOPED:t(997),MUTE:t(998),PAN:t(999),PAUSE_ALL:t(1e3),PAUSE:t(1001),PLAY:t(1002),RATE:t(1003),RESUME_ALL:t(1004),RESUME:t(1005),SEEK:t(1006),STOP_ALL:t(1007),STOP:t(1008),UNLOCKED:t(1009),VOLUME:t(1010)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function l(n,h,u,v,f){var c="png",g;if(i(h)){var m=h;h=s(m,"key"),u=s(m,"url"),g=s(m,"normalMap"),v=s(m,"xhrSettings"),c=s(m,"extension",c),f=s(m,"frameConfig")}Array.isArray(u)&&(g=u[1],u=u[0]);var x={type:"image",cache:n.textureManager,extension:c,responseType:"blob",key:h,url:u,xhrSettings:v,config:f};if(o.call(this,n,x),g){var y=new l(n,this.key,g,v,f);y.type="normalMap",this.setLink(y),n.addFile(y)}},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var l=this;this.data.onload=function(){o.revokeObjectURL(l.data),l.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(l.data),l.onProcessError()},o.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var l,n=this.linkFile;n&&n.state===d.FILE_COMPLETE?(this.type==="image"?l=this.cache.addImage(this.key,this.data,n.data):l=this.cache.addImage(n.key,n.data,this.data),this.pendingDestroy(l),n.pendingDestroy(l)):n||(l=this.cache.addImage(this.key,this.data),this.pendingDestroy(l))}});a.register("image",function(l,n,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,n,h));return this}),p.exports=r},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),d=t(0),o=t(11),a=t(15),s=t(1065),i=new d({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,s],initialize:function(l,n,h,u,v){a.call(this,l,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(u,v),this.setPosition(n,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,l){this.anims.update(r,l)},play:function(r,l){return this.anims.play(r,l)},playReverse:function(r,l){return this.anims.playReverse(r,l)},playAfterDelay:function(r,l){return this.anims.playAfterDelay(r,l)},playAfterRepeat:function(r,l){return this.anims.playAfterRepeat(r,l)},chain:function(r){return this.anims.chain(r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(r){return this.anims.stopAfterDelay(r)},stopAfterRepeat:function(r){return this.anims.stopAfterRepeat(r)},stopOnFrame:function(r){return this.anims.stopOnFrame(r)},toJSON:function(){return o.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});p.exports=i},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){if(!(d>=e.length)){for(var o=e.length-1,a=e[d],s=d;s<o;s++)e[s]=e[s+1];return e.length=o,a}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADDED_TO_SCENE:t(643),DESTROY:t(644),REMOVED_FROM_SCENE:t(645),VIDEO_COMPLETE:t(646),VIDEO_CREATED:t(647),VIDEO_ERROR:t(648),VIDEO_LOOP:t(649),VIDEO_PLAY:t(650),VIDEO_SEEKED:t(651),VIDEO_SEEKING:t(652),VIDEO_STOP:t(653),VIDEO_TIMEOUT:t(654),VIDEO_UNLOCKED:t(655)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){return o===void 0&&(o=0),d===0?e:(e-=o,e=d*Math.floor(e/d),a?(o+e)/d:o+e)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d={};for(var o in e)Array.isArray(e[o])?d[o]=e[o].slice(0):d[o]=e[o];return d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=e.length;if(d<0||d>s||d>=o||o>s||d+o>s){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a,s){return String(a).localeCompare(s)}function e(a,s){var i=a.length;if(i<=1)return a;for(var r=new Array(i),l=1;l<i;l*=2){d(a,s,l,r);var n=a;a=r,r=n}return a}function d(a,s,i,r){var l=a.length,n=0,h=i*2,u,v,f,c,g;for(u=0;u<l;u+=h)for(v=u+i,f=v+i,v>l&&(v=l),f>l&&(f=l),c=u,g=v;;)if(c<v&&g<f)s(a[c],a[g])<=0?r[n++]=a[c++]:r[n++]=a[g++];else if(c<v)r[n++]=a[c++];else if(g<f)r[n++]=a[g++];else break}var o=function(a,s){s===void 0&&(s=t);var i=e(a,s);return i!==a&&d(i,null,a.length,a),a};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(134),d=t(205),o=function(a,s){var i=e.Power0;if(typeof a=="string")if(e.hasOwnProperty(a))i=e[a];else{var r="";a.indexOf(".")&&(r=a.substr(a.indexOf(".")+1),r.toLowerCase()==="in"?r="easeIn":r.toLowerCase()==="out"?r="easeOut":r.toLowerCase()==="inout"&&(r="easeInOut")),a=d(a.substr(0,a.indexOf(".")+1)+r),e.hasOwnProperty(a)&&(i=e[a])}else typeof a=="function"?i=a:Array.isArray(a)&&a.length;if(!s)return i;var l=s.slice(0);return l.unshift(0),function(n){return l[0]=n,i.apply(this,l)}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),d=function(o,a,s,i,r){var l=o.strokeTint,n=e.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*s);l.TL=n,l.TR=n,l.BL=n,l.BR=n;var h=a.pathData,u=h.length-1,v=a.lineWidth,f=v/2,c=h[0]-i,g=h[1]-r;a.closePath||(u-=2);for(var m=2;m<u;m+=2){var x=h[m]-i,y=h[m+1]-r;o.batchLine(c,g,x,y,f,f,v,m-2,a.closePath?m===u-1:!1),c=x,g=y}};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(115),o=t(476),a=t(477),s=t(56),i=t(47),r=t(181),l=new e({initialize:function(h,u,v,f,c,g){h===void 0&&(h=0),u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),this.type=s.TRIANGLE,this.x1=h,this.y1=u,this.x2=v,this.y2=f,this.x3=c,this.y3=g},contains:function(n,h){return d(this,n,h)},getPoint:function(n,h){return o(this,n,h)},getPoints:function(n,h,u){return a(this,n,h,u)},getRandomPoint:function(n){return r(this,n)},setTo:function(n,h,u,v,f,c){return n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=0),c===void 0&&(c=0),this.x1=n,this.y1=h,this.x2=u,this.y2=v,this.x3=f,this.y3=c,this},getLineA:function(n){return n===void 0&&(n=new i),n.setTo(this.x1,this.y1,this.x2,this.y2),n},getLineB:function(n){return n===void 0&&(n=new i),n.setTo(this.x2,this.y2,this.x3,this.y3),n},getLineC:function(n){return n===void 0&&(n=new i),n.setTo(this.x3,this.y3,this.x1,this.y1),n},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(n){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-n:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-n:h=this.x3-n,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(n){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-n:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-n:h=this.x3-n,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(n){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-n:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-n:h=this.y3-n,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(n){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-n:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-n:h=this.y3-n,this.y1-=h,this.y2-=h,this.y3-=h}}});p.exports=l},function(p,C){var t={};p.exports=t,function(){t.create=function(e,d){return{x:e||0,y:d||0}},t.clone=function(e){return{x:e.x,y:e.y}},t.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},t.rotate=function(e,d,o){var a=Math.cos(d),s=Math.sin(d);o||(o={});var i=e.x*a-e.y*s;return o.y=e.x*s+e.y*a,o.x=i,o},t.rotateAbout=function(e,d,o,a){var s=Math.cos(d),i=Math.sin(d);a||(a={});var r=o.x+((e.x-o.x)*s-(e.y-o.y)*i);return a.y=o.y+((e.x-o.x)*i+(e.y-o.y)*s),a.x=r,a},t.normalise=function(e){var d=t.magnitude(e);return d===0?{x:0,y:0}:{x:e.x/d,y:e.y/d}},t.dot=function(e,d){return e.x*d.x+e.y*d.y},t.cross=function(e,d){return e.x*d.y-e.y*d.x},t.cross3=function(e,d,o){return(d.x-e.x)*(o.y-e.y)-(d.y-e.y)*(o.x-e.x)},t.add=function(e,d,o){return o||(o={}),o.x=e.x+d.x,o.y=e.y+d.y,o},t.sub=function(e,d,o){return o||(o={}),o.x=e.x-d.x,o.y=e.y-d.y,o},t.mult=function(e,d){return{x:e.x*d,y:e.y*d}},t.div=function(e,d){return{x:e.x/d,y:e.y/d}},t.perp=function(e,d){return d=d===!0?-1:1,{x:d*-e.y,y:d*e.x}},t.neg=function(e){return{x:-e.x,y:-e.y}},t.angle=function(e,d){return Math.atan2(d.y-e.y,d.x-e.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]}()},function(p,C){var t={};p.exports=t,function(){t.create=function(e){var d={min:{x:0,y:0},max:{x:0,y:0}};return e&&t.update(d,e),d},t.update=function(e,d,o){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var a=0;a<d.length;a++){var s=d[a];s.x>e.max.x&&(e.max.x=s.x),s.x<e.min.x&&(e.min.x=s.x),s.y>e.max.y&&(e.max.y=s.y),s.y<e.min.y&&(e.min.y=s.y)}o&&(o.x>0?e.max.x+=o.x:e.min.x+=o.x,o.y>0?e.max.y+=o.y:e.min.y+=o.y)},t.contains=function(e,d){return d.x>=e.min.x&&d.x<=e.max.x&&d.y>=e.min.y&&d.y<=e.max.y},t.overlaps=function(e,d){return e.min.x<=d.max.x&&e.max.x>=d.min.x&&e.max.y>=d.min.y&&e.min.y<=d.max.y},t.translate=function(e,d){e.min.x+=d.x,e.max.x+=d.x,e.min.y+=d.y,e.max.y+=d.y},t.shift=function(e,d){var o=e.max.x-e.min.x,a=e.max.y-e.min.y;e.min.x=d.x,e.max.x=d.x+o,e.min.y=d.y,e.max.y=d.y+a}}()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),d=t(0),o=t(11),a=t(502),s=new d({Mixins:[o.Alpha,o.Flip,o.Visible],initialize:function(r,l,n,h,u,v,f,c){this.layer=r,this.index=l,this.x=n,this.y=h,this.width=u,this.height=v,this.right,this.bottom,this.baseWidth=f!==void 0?f:u,this.baseHeight=c!==void 0?c:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(i,r){return!(i<this.pixelX||r<this.pixelY||i>this.right||r>this.bottom)},copy:function(i){return this.index=i.index,this.alpha=i.alpha,this.properties=i.properties,this.visible=i.visible,this.setFlip(i.flipX,i.flipY),this.tint=i.tint,this.rotation=i.rotation,this.collideUp=i.collideUp,this.collideDown=i.collideDown,this.collideLeft=i.collideLeft,this.collideRight=i.collideRight,this.collisionCallback=i.collisionCallback,this.collisionCallbackContext=i.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(i){var r=this.tilemapLayer;return r?r.tileToWorldX(this.x,i):this.x*this.baseWidth},getRight:function(i){var r=this.tilemapLayer;return r?this.getLeft(i)+this.width*r.scaleX:this.getLeft(i)+this.width},getTop:function(i){var r=this.tilemapLayer;return r?r.tileToWorldY(this.y,i)-(this.height-this.baseHeight)*r.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(i){var r=this.tilemapLayer;return r?this.getTop(i)+this.height*r.scaleY:this.getTop(i)+this.height},getBounds:function(i,r){return r===void 0&&(r=new a),r.x=this.getLeft(),r.y=this.getTop(),r.width=this.getRight()-r.x,r.height=this.getBottom()-r.y,r},getCenterX:function(i){return(this.getLeft(i)+this.getRight(i))/2},getCenterY:function(i){return(this.getTop(i)+this.getBottom(i))/2},intersects:function(i,r,l,n){return!(l<=this.pixelX||n<=this.pixelY||i>=this.right||r>=this.bottom)},isInteresting:function(i,r){return i&&r?this.canCollide||this.hasInterestingFace:i?this.collides:r?this.hasInterestingFace:!1},resetCollision:function(i){if(i===void 0&&(i=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,i){var r=this.tilemapLayer;r&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(i,r,l,n,h){if(r===void 0&&(r=i),l===void 0&&(l=i),n===void 0&&(n=i),h===void 0&&(h=!0),this.collideLeft=i,this.collideRight=r,this.collideUp=l,this.collideDown=n,this.faceLeft=i,this.faceRight=r,this.faceTop=l,this.faceBottom=n,h){var u=this.tilemapLayer;u&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(i,r){return i===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=i,this.collisionCallbackContext=r),this},setSize:function(i,r,l,n){return i!==void 0&&(this.width=i),r!==void 0&&(this.height=r),l!==void 0&&(this.baseWidth=l),n!==void 0&&(this.baseHeight=n),this.updatePixelXY(),this},updatePixelXY:function(){var i=this.layer.orientation;if(i===e.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(i===e.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(i===e.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(i===e.HEXAGONAL){var r=this.layer.hexSideLength,l=(this.baseHeight-r)/2+r;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*l}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var i=this.layer.tilemapLayer;if(i){var r=i.gidMap[this.index];if(r)return r}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var i=this.tilemapLayer;return i?i.tilemap:null}}});p.exports=s},function(p,C,t){var e={};p.exports=e;var d=t(64),o=t(32),a=t(41),s=t(84),i=t(83),r=t(1393);(function(){e.rectangle=function(l,n,h,u,v){v=v||{};var f={label:"Rectangle Body",position:{x:l,y:n},vertices:d.fromPath("L 0 0 L "+h+" 0 L "+h+" "+u+" L 0 "+u)};if(v.chamfer){var c=v.chamfer;f.vertices=d.chamfer(f.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete v.chamfer}return a.create(o.extend({},f,v))},e.trapezoid=function(l,n,h,u,v,f){f=f||{},v*=.5;var c=(1-v*2)*h,g=h*v,m=g+c,x=m+g,y;v<.5?y="L 0 0 L "+g+" "+-u+" L "+m+" "+-u+" L "+x+" 0":y="L 0 0 L "+m+" "+-u+" L "+x+" 0";var T={label:"Trapezoid Body",position:{x:l,y:n},vertices:d.fromPath(y)};if(f.chamfer){var E=f.chamfer;T.vertices=d.chamfer(T.vertices,E.radius,E.quality,E.qualityMin,E.qualityMax),delete f.chamfer}return a.create(o.extend({},T,f))},e.circle=function(l,n,h,u,v){u=u||{};var f={label:"Circle Body",circleRadius:h};v=v||25;var c=Math.ceil(Math.max(10,Math.min(v,h)));return c%2===1&&(c+=1),e.polygon(l,n,c,h,o.extend({},f,u))},e.polygon=function(l,n,h,u,v){if(v=v||{},h<3)return e.circle(l,n,u,v);for(var f=2*Math.PI/h,c="",g=f*.5,m=0;m<h;m+=1){var x=g+m*f,y=Math.cos(x)*u,T=Math.sin(x)*u;c+="L "+y.toFixed(3)+" "+T.toFixed(3)+" "}var E={label:"Polygon Body",position:{x:l,y:n},vertices:d.fromPath(c)};if(v.chamfer){var R=v.chamfer;E.vertices=d.chamfer(E.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete v.chamfer}return a.create(o.extend({},E,v))},e.fromVertices=function(l,n,h,u,v,f,c){var g,m,x,y,T,E,R,M,P;for(u=u||{},m=[],v=typeof v!="undefined"?v:!1,f=typeof f!="undefined"?f:.01,c=typeof c!="undefined"?c:10,r||o.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),o.isArray(h[0])||(h=[h]),M=0;M<h.length;M+=1)if(y=h[M],x=d.isConvex(y),x||!r)x?y=d.clockwiseSort(y):y=d.hull(y),m.push({position:{x:l,y:n},vertices:y});else{var O=y.map(function(z){return[z.x,z.y]});r.makeCCW(O),f!==!1&&r.removeCollinearPoints(O,f);var I=r.quickDecomp(O);for(T=0;T<I.length;T++){var B=I[T],w=B.map(function(z){return{x:z[0],y:z[1]}});c>0&&d.area(w)<c||m.push({position:d.centre(w),vertices:w})}}for(T=0;T<m.length;T++)m[T]=a.create(o.extend(m[T],u));return v&&e.flagCoincidentParts(m,5),m.length>1?(g=a.create(o.extend({parts:m.slice(0)},u)),a.setPosition(g,{x:l,y:n}),g):m[0]},e.flagCoincidentParts=function(l,n){n===void 0&&(n=5);for(var h=0;h<l.length;h++)for(var u=l[h],v=h+1;v<l.length;v++){var f=l[v];if(s.overlaps(u.bounds,f.bounds))for(var c=u.vertices,g=f.vertices,m=0;m<u.vertices.length;m++)for(var x=0;x<f.vertices.length;x++){var y=i.magnitudeSquared(i.sub(c[(m+1)%c.length],g[x])),T=i.magnitudeSquared(i.sub(c[m],g[(x+1)%g.length]));y<n&&T<n&&(c[m].isInternal=!0,g[x].isInternal=!0)}}return l}})()},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX+e.width*.5};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.width*e.originX;return e.x=d+o-e.width*.5,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY+e.height*.5};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.height*e.originY;return e.y=d+o-e.height*.5,e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={POST_RENDER:t(628),PRE_RENDER:t(629),RENDER:t(630),RESIZE:t(631)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),d=function(o,a,s,i){i===void 0&&(i=o);var r;if(!Array.isArray(a))return r=o.indexOf(a),r!==-1?(e(o,r),s&&s.call(i,a),a):null;for(var l=a.length-1,n=[];l>=0;){var h=a[l];r=o.indexOf(h),r!==-1&&(e(o,r),n.push(h),s&&s.call(i,h)),l--}return n};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(199),o=t(10),a=t(3),s=new e({initialize:function(r){this.type=r,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(i,r){return r===void 0&&(r=32),i.strokePoints(this.getPoints(r))},getBounds:function(i,r){i||(i=new o),r===void 0&&(r=16);var l=this.getLength();r>l&&(r=l/2);var n=Math.max(1,Math.round(l/r));return d(this.getSpacedPoints(n),i)},getDistancePoints:function(i){var r=this.getLength(),l=Math.max(1,r/i);return this.getSpacedPoints(l)},getEndPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(1,i)},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],l,n=this.getPoint(0,this._tmpVec2A),h=0;r.push(0);for(var u=1;u<=i;u++)l=this.getPoint(u/i,this._tmpVec2B),h+=l.distance(n),r.push(h),n.copy(l);return this.cacheArcLengths=r,r},getPointAt:function(i,r){var l=this.getUtoTmapping(i);return this.getPoint(l,r)},getPoints:function(i,r,l){l===void 0&&(l=[]),i||(r?i=this.getLength()/r:i=this.defaultDivisions);for(var n=0;n<=i;n++)l.push(this.getPoint(n/i));return l},getRandomPoint:function(i){return i===void 0&&(i=new a),this.getPoint(Math.random(),i)},getSpacedPoints:function(i,r,l){l===void 0&&(l=[]),i||(r?i=this.getLength()/r:i=this.defaultDivisions);for(var n=0;n<=i;n++){var h=this.getUtoTmapping(n/i,null,i);l.push(this.getPoint(h))}return l},getStartPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(0,i)},getTangent:function(i,r){r===void 0&&(r=new a);var l=1e-4,n=i-l,h=i+l;return n<0&&(n=0),h>1&&(h=1),this.getPoint(n,this._tmpVec2A),this.getPoint(h,r),r.subtract(this._tmpVec2A).normalize()},getTangentAt:function(i,r){var l=this.getUtoTmapping(i);return this.getTangent(l,r)},getTFromDistance:function(i,r){return i<=0?0:this.getUtoTmapping(0,i,r)},getUtoTmapping:function(i,r,l){var n=this.getLengths(l),h=0,u=n.length,v;r?v=Math.min(r,n[u-1]):v=i*n[u-1];for(var f=0,c=u-1,g;f<=c;)if(h=Math.floor(f+(c-f)/2),g=n[h]-v,g<0)f=h+1;else if(g>0)c=h-1;else{c=h;break}if(h=c,n[h]===v)return h/(u-1);var m=n[h],x=n[h+1],y=x-m,T=(v-m)/y;return(h+T)/(u-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(968),COMPLETE:t(969),FILE_COMPLETE:t(970),FILE_KEY_COMPLETE:t(971),FILE_LOAD_ERROR:t(972),FILE_LOAD:t(973),FILE_PROGRESS:t(974),POST_PROCESS:t(975),PROGRESS:t(976),START:t(977)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a,s){s===void 0&&(s=new e);var i=o.x1,r=o.y1,l=o.x2,n=o.y2,h=a.x1,u=a.y1,v=a.x2,f=a.y2,c=(v-h)*(r-u)-(f-u)*(i-h),g=(l-i)*(r-u)-(n-r)*(i-h),m=(f-u)*(l-i)-(v-h)*(n-r);if(m===0)return!1;var x=c/m,y=g/m;return x>=0&&x<=1&&y>=0&&y<=1?(s.x=i+x*(l-i),s.y=r+x*(n-r),!0):!1};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=function(o,a,s){return o=e(o,0,1),(s-a)*o+a};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e&&e.hasOwnProperty(d)?e[d]:o};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(315),o=new e({initialize:function(s,i){this.parent=s,this.events=i,i||(this.events=s.events?s.events:s),this.list={},this.values={},this._frozen=!1,!s.hasOwnProperty("sys")&&this.events&&this.events.once(d.DESTROY,this.destroy,this)},get:function(a){var s=this.list;if(Array.isArray(a)){for(var i=[],r=0;r<a.length;r++)i.push(s[a[r]]);return i}else return s[a]},getAll:function(){var a={};for(var s in this.list)this.list.hasOwnProperty(s)&&(a[s]=this.list[s]);return a},query:function(a){var s={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(a)&&(s[i]=this.list[i]);return s},set:function(a,s){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,s);for(var i in a)this.setValue(i,a[i]);return this},inc:function(a,s){if(this._frozen)return this;s===void 0&&(s=1);var i=this.get(a);return i===void 0&&(i=0),this.set(a,i+s),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,s){if(this._frozen)return this;if(this.has(a))this.values[a]=s;else{var i=this,r=this.list,l=this.events,n=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return r[a]},set:function(h){if(!i._frozen){var u=r[a];r[a]=h,l.emit(d.CHANGE_DATA,n,a,h,u),l.emit(d.CHANGE_DATA_KEY+a,n,h,u)}}}),r[a]=s,l.emit(d.SET_DATA,n,a,s)}return this},each:function(a,s){for(var i=[this.parent,null,void 0],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var l in this.list)i[1]=l,i[2]=this.list[l],a.apply(s,i);return this},merge:function(a,s){s===void 0&&(s=!0);for(var i in a)a.hasOwnProperty(i)&&(s||!s&&!this.has(i))&&this.setValue(i,a[i]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var s=0;s<a.length;s++)this.removeValue(a[s]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var s=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(d.REMOVE_DATA,this.parent,a,s)}return this},pop:function(a){var s=void 0;return!this._frozen&&this.has(a)&&(s=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(d.REMOVE_DATA,this.parent,a,s)),s},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(d.CHANGE_DATA),this.events.off(d.SET_DATA),this.events.off(d.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var s in this.list)this.list[s]!==void 0&&a++;return a}}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a){if(this.entries={},this.size=0,Array.isArray(a))for(var s=0;s<a.length;s++)this.set(a[s][0],a[s][1])},set:function(o,a){return this.has(o)||this.size++,this.entries[o]=a,this},get:function(o){if(this.has(o))return this.entries[o]},getArray:function(){var o=[],a=this.entries;for(var s in a)o.push(a[s]);return o},has:function(o){return this.entries.hasOwnProperty(o)},delete:function(o){return this.has(o)&&(delete this.entries[o],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(o){delete this.entries[o]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var o=[],a=this.entries;for(var s in a)o.push(a[s]);return o},dump:function(){var o=this.entries;console.group("Map");for(var a in o)console.log(a,o[a]);console.groupEnd()},each:function(o){var a=this.entries;for(var s in a)if(o(s,a[s])===!1)break;return this},contains:function(o){var a=this.entries;for(var s in a)if(a[s]===o)return!0;return!1},merge:function(o,a){a===void 0&&(a=!1);var s=this.entries,i=o.entries;for(var r in i)s.hasOwnProperty(r)&&a?s[r]=i[r]:this.set(r,i[r]);return this}});p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e<<16|d<<8|o};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ENTER_FULLSCREEN:t(800),FULLSCREEN_FAILED:t(801),FULLSCREEN_UNSUPPORTED:t(802),LEAVE_FULLSCREEN:t(803),ORIENTATION_CHANGE:t(804),RESIZE:t(805)}},function(p,C,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var d={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function o(){if(typeof importScripts=="function")return d;var a=navigator.userAgent;/Windows/.test(a)?d.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(d.iOS=!0,d.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),d.iOSVersion=parseInt(RegExp.$1,10)):d.macOS=!0:/Android/.test(a)?d.android=!0:/Linux/.test(a)?d.linux=!0:/iP[ao]d|iPhone/i.test(a)?(d.iOS=!0,navigator.appVersion.match(/OS (\d+)/),d.iOSVersion=parseInt(RegExp.$1,10),d.iPhone=a.toLowerCase().indexOf("iphone")!==-1,d.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?d.kindle=!0:/CrOS/.test(a)&&(d.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(d.android=!1,d.iOS=!1,d.macOS=!1,d.windows=!0,d.windowsPhone=!0);var s=/Silk/.test(a);return(d.windows||d.macOS||d.linux&&!s||d.chromeOS)&&(d.desktop=!0),(d.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(d.desktop=!1),navigator.standalone&&(d.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(d.cordova=!0),window.ejecta!==void 0&&(d.ejecta=!0)),typeof e!="undefined"&&e.versions&&e.versions.node&&(d.node=!0),d.node&&typeof e.versions=="object"&&(d.nodeWebkit=!!e.versions["node-webkit"],d.electron=!!e.versions.electron),/Crosswalk/.test(a)&&(d.crosswalk=!0),d.pixelRatio=window.devicePixelRatio||1,d}p.exports=o()}).call(this,t(807))},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(861),ERROR:t(862),LOAD:t(863),READY:t(864),REMOVE:t(865)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(59),o=t(2),a=t(878),s=t(879),i=t(25),r=t(12),l=t(107),n=t(58),h=new e({Extends:n,initialize:function(v){var f=v.game.renderer,c=o(v,"fragShader",a);v.fragShader=r.parseFragmentShaderMaxTextures(c,f.maxTextures),v.vertShader=o(v,"vertShader",s),v.attributes=o(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:l.UNSIGNED_BYTE,normalized:!0}]),n.call(this,v),this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){n.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(u,v,f){this.manager.set(this,u);var c=this._tempMatrix1,g=this._tempMatrix2,m=this._tempMatrix3,x=u.frame,y=x.glTexture,T=x.u0,E=x.v0,R=x.u1,M=x.v1,P=x.x,O=x.y,I=x.cutWidth,B=x.cutHeight,w=x.customPivot,z=u.displayOriginX,H=u.displayOriginY,b=-z+P,Q=-H+O;if(u.isCropped){var D=u._crop;(D.flipX!==u.flipX||D.flipY!==u.flipY)&&x.updateCropUVs(D,u.flipX,u.flipY),T=D.u0,E=D.v0,R=D.u1,M=D.v1,I=D.width,B=D.height,P=D.x,O=D.y,b=-z+P,Q=-H+O}var F=1,G=1;u.flipX&&(w||(b+=-x.realWidth+z*2),F=-1),(u.flipY||x.source.isGLTexture&&!y.flipY)&&(w||(Q+=-x.realHeight+H*2),G=-1),g.applyITRS(u.x,u.y,u.rotation,u.scaleX*F,u.scaleY*G),c.copyFrom(v.matrix),f?(c.multiplyWithOffset(f,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),g.e=u.x,g.f=u.y):(g.e-=v.scrollX*u.scrollFactorX,g.f-=v.scrollY*u.scrollFactorY),c.multiply(g,m);var N=b+I,X=Q+B,V=v.roundPixels,W=m.getXRound(b,Q,V),Z=m.getYRound(b,Q,V),et=m.getXRound(b,X,V),it=m.getYRound(b,X,V),ht=m.getXRound(N,X,V),vt=m.getYRound(N,X,V),lt=m.getXRound(N,Q,V),xt=m.getYRound(N,Q,V),st=r.getTintAppendFloatAlpha,mt=v.alpha,wt=st(u.tintTopLeft,mt*u._alphaTL),St=st(u.tintTopRight,mt*u._alphaTR),Rt=st(u.tintBottomLeft,mt*u._alphaBL),Tt=st(u.tintBottomRight,mt*u._alphaBR);this.shouldFlush(6)&&this.flush();var Bt=this.setGameObject(u,x);this.manager.preBatch(u),this.batchQuad(u,W,Z,et,it,ht,vt,lt,xt,T,E,R,M,wt,St,Rt,Tt,u.tintFill,y,Bt),this.manager.postBatch(u)},batchTexture:function(u,v,f,c,g,m,x,y,T,E,R,M,P,O,I,B,w,z,H,b,Q,D,F,G,N,X,V,W,Z,et,it,ht){this.manager.set(this,u);var vt=this._tempMatrix1,lt=this._tempMatrix2,xt=this._tempMatrix3,st=z/f+V,mt=H/c+W,wt=(z+b)/f+V,St=(H+Q)/c+W,Rt=x,Tt=y,Bt=-B,Pt=-w;if(u.isCropped){var Ft=u._crop,ae=Ft.width,Xt=Ft.height;Rt=ae,Tt=Xt,x=ae,y=Xt,z=Ft.x,H=Ft.y;var Qt=z,zt=H;M&&(Qt=b-Ft.x-ae),P&&(zt=Q-Ft.y-Xt),st=Qt/f+V,mt=zt/c+W,wt=(Qt+ae)/f+V,St=(zt+Xt)/c+W,Bt=-B+z,Pt=-w+H}P=P^(!it&&v.isRenderTexture?1:0),M&&(Rt*=-1,Bt+=x),P&&(Tt*=-1,Pt+=y);var Lt=Bt+Rt,ee=Pt+Tt;lt.applyITRS(g,m,R,T,E),vt.copyFrom(Z.matrix),et?(vt.multiplyWithOffset(et,-Z.scrollX*O,-Z.scrollY*I),lt.e=g,lt.f=m):(lt.e-=Z.scrollX*O,lt.f-=Z.scrollY*I),vt.multiply(lt,xt);var se=Z.roundPixels,he=xt.getXRound(Bt,Pt,se),pe=xt.getYRound(Bt,Pt,se),Ee=xt.getXRound(Bt,ee,se),Ce=xt.getYRound(Bt,ee,se),xe=xt.getXRound(Lt,ee,se),Ae=xt.getYRound(Lt,ee,se),Re=xt.getXRound(Lt,Pt,se),yi=xt.getYRound(Lt,Pt,se);ht===void 0&&(ht=this.renderer.setTexture2D(v)),u&&this.manager.preBatch(u),this.batchQuad(u,he,pe,Ee,Ce,xe,Ae,Re,yi,st,mt,wt,St,D,F,G,N,X,v,ht),u&&this.manager.postBatch(u)},batchTextureFrame:function(u,v,f,c,g,m,x){this.manager.set(this);var y=this._tempMatrix1.copyFrom(m),T=this._tempMatrix2,E=v+u.width,R=f+u.height;x?y.multiply(x,T):T=y;var M=T.getX(v,f),P=T.getY(v,f),O=T.getX(v,R),I=T.getY(v,R),B=T.getX(E,R),w=T.getY(E,R),z=T.getX(E,f),H=T.getY(E,f),b=this.renderer.setTextureSource(u.source);c=r.getTintAppendFloatAlpha(c,g),this.batchQuad(null,M,P,O,I,B,w,z,H,u.u0,u.v0,u.u1,u.v1,c,c,c,c,0,u.glTexture,b)},batchFillRect:function(u,v,f,c,g,m){this.renderer.pipelines.set(this);var x=this.calcMatrix;m&&m.multiply(g,x);var y=u+f,T=v+c,E=x.getX(u,v),R=x.getY(u,v),M=x.getX(u,T),P=x.getY(u,T),O=x.getX(y,T),I=x.getY(y,T),B=x.getX(y,v),w=x.getY(y,v),z=this.fillTint;this.batchQuad(null,E,R,M,P,O,I,B,w,0,0,1,1,z.TL,z.TR,z.BL,z.BR,2)},batchFillTriangle:function(u,v,f,c,g,m,x,y){this.renderer.pipelines.set(this);var T=this.calcMatrix;y&&y.multiply(x,T);var E=T.getX(u,v),R=T.getY(u,v),M=T.getX(f,c),P=T.getY(f,c),O=T.getX(g,m),I=T.getY(g,m),B=this.fillTint;this.batchTri(null,E,R,M,P,O,I,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(u,v,f,c,g,m,x,y,T){var E=this.tempTriangle;E[0].x=u,E[0].y=v,E[0].width=x,E[1].x=f,E[1].y=c,E[1].width=x,E[2].x=g,E[2].y=m,E[2].width=x,E[3].x=u,E[3].y=v,E[3].width=x,this.batchStrokePath(E,x,!1,y,T)},batchFillPath:function(u,v,f){this.renderer.pipelines.set(this);var c=this.calcMatrix;f&&f.multiply(v,c);for(var g=u.length,m=this.polygonCache,x,y,T=this.fillTint.TL,E=this.fillTint.TR,R=this.fillTint.BL,M=0;M<g;++M)y=u[M],m.push(y.x,y.y);x=d(m),g=x.length;for(var P=0;P<g;P+=3){var O=x[P+0]*2,I=x[P+1]*2,B=x[P+2]*2,w=m[O+0],z=m[O+1],H=m[I+0],b=m[I+1],Q=m[B+0],D=m[B+1],F=c.getX(w,z),G=c.getY(w,z),N=c.getX(H,b),X=c.getY(H,b),V=c.getX(Q,D),W=c.getY(Q,D);this.batchTri(null,F,G,N,X,V,W,0,0,1,1,T,E,R,2)}m.length=0},batchStrokePath:function(u,v,f,c,g){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var m=u.length-1,x=0;x<m;x++){var y=u[x],T=u[x+1];this.batchLine(y.x,y.y,T.x,T.y,y.width/2,T.width/2,v,x,!f&&x===m-1,c,g)}},batchLine:function(u,v,f,c,g,m,x,y,T,E,R){this.renderer.pipelines.set(this);var M=this.calcMatrix;R&&R.multiply(E,M);var P=f-u,O=c-v,I=Math.sqrt(P*P+O*O),B=g*(c-v)/I,w=g*(u-f)/I,z=m*(c-v)/I,H=m*(u-f)/I,b=f-z,Q=c-H,D=u-B,F=v-w,G=f+z,N=c+H,X=u+B,V=v+w,W=M.getX(b,Q),Z=M.getY(b,Q),et=M.getX(D,F),it=M.getY(D,F),ht=M.getX(G,N),vt=M.getY(G,N),lt=M.getX(X,V),xt=M.getY(X,V),st=this.strokeTint,mt=st.TL,wt=st.TR,St=st.BL,Rt=st.BR;if(this.batchQuad(null,lt,xt,et,it,W,Z,ht,vt,0,0,1,1,mt,wt,St,Rt,2),!(x<=2)){var Tt=this.prevQuad,Bt=this.firstQuad;y>0&&Tt[4]?this.batchQuad(null,lt,xt,et,it,Tt[0],Tt[1],Tt[2],Tt[3],0,0,1,1,mt,wt,St,Rt,2):(Bt[0]=lt,Bt[1]=xt,Bt[2]=et,Bt[3]=it,Bt[4]=1),T&&Bt[4]?this.batchQuad(null,W,Z,ht,vt,Bt[0],Bt[1],Bt[2],Bt[3],0,0,1,1,mt,wt,St,Rt,2):(Tt[0]=W,Tt[1]=Z,Tt[2]=ht,Tt[3]=vt,Tt[4]=1)}}});p.exports=h},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(18),o=t(17),a=new e({initialize:function(i,r,l,n,h,u,v){this.texture=i,this.name=r,this.source=i.source[l],this.sourceIndex=l,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(u,v,n,h)},setSize:function(s,i,r,l){r===void 0&&(r=0),l===void 0&&(l=0),this.cutX=r,this.cutY=l,this.cutWidth=s,this.cutHeight=i,this.width=s,this.height=i,this.halfWidth=Math.floor(s*.5),this.halfHeight=Math.floor(i*.5),this.centerX=Math.floor(s/2),this.centerY=Math.floor(i/2);var n=this.data,h=n.cut;h.x=r,h.y=l,h.w=s,h.h=i,h.r=r+s,h.b=l+i,n.sourceSize.w=s,n.sourceSize.h=i,n.spriteSourceSize.w=s,n.spriteSourceSize.h=i,n.radius=.5*Math.sqrt(s*s+i*i);var u=n.drawImage;return u.x=r,u.y=l,u.width=s,u.height=i,this.updateUVs()},setTrim:function(s,i,r,l,n,h){var u=this.data,v=u.spriteSourceSize;return u.trim=!0,u.sourceSize.w=s,u.sourceSize.h=i,v.x=r,v.y=l,v.w=n,v.h=h,v.r=r+n,v.b=l+h,this.x=r,this.y=l,this.width=n,this.height=h,this.halfWidth=n*.5,this.halfHeight=h*.5,this.centerX=Math.floor(n/2),this.centerY=Math.floor(h/2),this.updateUVs()},setCropUVs:function(s,i,r,l,n,h,u){var v=this.cutX,f=this.cutY,c=this.cutWidth,g=this.cutHeight,m=this.realWidth,x=this.realHeight;i=d(i,0,m),r=d(r,0,x),l=d(l,0,m-i),n=d(n,0,x-r);var y=v+i,T=f+r,E=l,R=n,M=this.data;if(M.trim){var P=M.spriteSourceSize;l=d(l,0,c-i),n=d(n,0,g-r);var O=i+l,I=r+n,B=!(P.r<i||P.b<r||P.x>O||P.y>I);if(B){var w=Math.max(P.x,i),z=Math.max(P.y,r),H=Math.min(P.r,O)-w,b=Math.min(P.b,I)-z;E=H,R=b,h?y=v+(c-(w-P.x)-H):y=v+(w-P.x),u?T=f+(g-(z-P.y)-b):T=f+(z-P.y),i=w,r=z,l=H,n=b}else y=0,T=0,E=0,R=0}else h&&(y=v+(c-i-l)),u&&(T=f+(g-r-n));var Q=this.source.width,D=this.source.height;return s.u0=Math.max(0,y/Q),s.v0=Math.max(0,T/D),s.u1=Math.min(1,(y+E)/Q),s.v1=Math.min(1,(T+R)/D),s.x=i,s.y=r,s.cx=y,s.cy=T,s.cw=E,s.ch=R,s.width=l,s.height=n,s.flipX=h,s.flipY=u,s},updateCropUVs:function(s,i,r){return this.setCropUVs(s,s.x,s.y,s.width,s.height,i,r)},setUVs:function(s,i,r,l,n,h){var u=this.data.drawImage;return u.width=s,u.height=i,this.u0=r,this.v0=l,this.u1=n,this.v1=h,this},updateUVs:function(){var s=this.cutX,i=this.cutY,r=this.cutWidth,l=this.cutHeight,n=this.data.drawImage;n.width=r,n.height=l;var h=this.source.width,u=this.source.height;return this.u0=s/h,this.v0=i/u,this.u1=(s+r)/h,this.v1=(i+l)/u,this},updateUVsInverted:function(){var s=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/s,this.v0=this.cutY/i,this.u1=this.cutX/s,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var s=new a(this.texture,this.name,this.sourceIndex);return s.cutX=this.cutX,s.cutY=this.cutY,s.cutWidth=this.cutWidth,s.cutHeight=this.cutHeight,s.x=this.x,s.y=this.y,s.width=this.width,s.height=this.height,s.halfWidth=this.halfWidth,s.halfHeight=this.halfHeight,s.centerX=this.centerX,s.centerY=this.centerY,s.rotated=this.rotated,s.data=o(!0,s.data,this.data),s.updateUVs(),s},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),d=t(0),o=t(1),a=t(79),s=new d({initialize:function(r){this.parent=r,this.list=[],this.position=0,this.addCallback=o,this.removeCallback=o,this._sortKey=""},add:function(i,r){return r?e.Add(this.list,i):e.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,r,l){return l?e.AddAt(this.list,i,r):e.AddAt(this.list,i,r,0,this.addCallback,this)},getAt:function(i){return this.list[i]},getIndex:function(i){return this.list.indexOf(i)},sort:function(i,r){return i?(r===void 0&&(r=function(l,n){return l[i]-n[i]}),a(this.list,r),this):this},getByName:function(i){return e.GetFirst(this.list,"name",i)},getRandom:function(i,r){return e.GetRandom(this.list,i,r)},getFirst:function(i,r,l,n){return e.GetFirst(this.list,i,r,l,n)},getAll:function(i,r,l,n){return e.GetAll(this.list,i,r,l,n)},count:function(i,r){return e.CountAllMatching(this.list,i,r)},swap:function(i,r){e.Swap(this.list,i,r)},moveTo:function(i,r){return e.MoveTo(this.list,i,r)},moveAbove:function(i,r){return e.MoveAbove(this.list,i,r)},moveBelow:function(i,r){return e.MoveBelow(this.list,i,r)},remove:function(i,r){return r?e.Remove(this.list,i):e.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,r){return r?e.RemoveAt(this.list,i):e.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,r,l){return l?e.RemoveBetween(this.list,i,r):e.RemoveBetween(this.list,i,r,this.removeCallback,this)},removeAll:function(i){for(var r=this.list.length;r--;)this.remove(this.list[r],i);return this},bringToTop:function(i){return e.BringToTop(this.list,i)},sendToBack:function(i){return e.SendToBack(this.list,i)},moveUp:function(i){return e.MoveUp(this.list,i),i},moveDown:function(i){return e.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(i,r){return e.Replace(this.list,i,r)},exists:function(i){return this.list.indexOf(i)>-1},setAll:function(i,r,l,n){return e.SetAll(this.list,i,r,l,n),this},each:function(i,r){for(var l=[null],n=2;n<arguments.length;n++)l.push(arguments[n]);for(n=0;n<this.list.length;n++)l[0]=this.list[n],i.apply(r,l)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(112),o=t(445),a=t(446),s=t(56),i=t(180),r=new e({initialize:function(n,h,u,v){n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=0),v===void 0&&(v=0),this.type=s.ELLIPSE,this.x=n,this.y=h,this.width=u,this.height=v},contains:function(l,n){return d(this,l,n)},getPoint:function(l,n){return o(this,l,n)},getPoints:function(l,n,h){return a(this,l,n,h)},getRandomPoint:function(l){return i(this,l)},setTo:function(l,n,h,u){return this.x=l,this.y=n,this.width=h,this.height=u,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(l,n){return n===void 0&&(n=l),this.x=l,this.y=n,this},setSize:function(l,n){return n===void 0&&(n=l),this.width=l,this.height=n,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(l){this.x=l+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(l){this.y=l+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});p.exports=r},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(e.width<=0||e.height<=0)return!1;var a=(d-e.x)/e.width,s=(o-e.y)/e.height;return a*=a,s*=s,a+s<.25};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(275),d=t(0),o=t(75),a=t(9),s=t(207),i=t(2),r=t(6),l=t(7),n=t(437),h=t(149),u=t(73),v=new d({Extends:a,initialize:function(c,g,m){a.call(this),m?g&&!Array.isArray(g)&&(g=[g]):Array.isArray(g)?l(g[0])&&(m=g,g=null):l(g)&&(m=g,g=null),this.scene=c,this.children=new h,this.isParent=!0,this.type="Group",this.classType=i(m,"classType",u),this.name=i(m,"name",""),this.active=i(m,"active",!0),this.maxSize=i(m,"maxSize",-1),this.defaultKey=i(m,"defaultKey",null),this.defaultFrame=i(m,"defaultFrame",null),this.runChildUpdate=i(m,"runChildUpdate",!1),this.createCallback=i(m,"createCallback",null),this.removeCallback=i(m,"removeCallback",null),this.createMultipleCallback=i(m,"createMultipleCallback",null),this.internalCreateCallback=i(m,"internalCreateCallback",null),this.internalRemoveCallback=i(m,"internalRemoveCallback",null),g&&this.addMultiple(g),m&&this.createMultiple(m),this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(f,c,g,m,x,y){if(f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=this.defaultKey),m===void 0&&(m=this.defaultFrame),x===void 0&&(x=!0),y===void 0&&(y=!0),this.isFull())return null;var T=new this.classType(this.scene,f,c,g,m);return T.addToDisplayList(this.scene.sys.displayList),T.addToUpdateList(),T.visible=x,T.setActive(y),this.add(T),T},createMultiple:function(f){if(this.isFull())return[];Array.isArray(f)||(f=[f]);var c=[];if(f[0].key)for(var g=0;g<f.length;g++){var m=this.createFromConfig(f[g]);c=c.concat(m)}return c},createFromConfig:function(f){if(this.isFull())return[];this.classType=i(f,"classType",this.classType);var c=i(f,"key",void 0),g=i(f,"frame",null),m=i(f,"visible",!0),x=i(f,"active",!0),y=[];if(c===void 0)return y;Array.isArray(c)||(c=[c]),Array.isArray(g)||(g=[g]);var T=i(f,"repeat",0),E=i(f,"randomKey",!1),R=i(f,"randomFrame",!1),M=i(f,"yoyo",!1),P=i(f,"quantity",!1),O=i(f,"frameQuantity",1),I=i(f,"max",0),B=n(c,g,{max:I,qty:P||O,random:E,randomB:R,repeat:T,yoyo:M});f.createCallback&&(this.createCallback=f.createCallback),f.removeCallback&&(this.removeCallback=f.removeCallback);for(var w=0;w<B.length;w++){var z=this.create(0,0,B[w].a,B[w].b,m,x);if(!z)break;y.push(z)}var H=r(f,"setXY.x",0),b=r(f,"setXY.y",0),Q=r(f,"setXY.stepX",0),D=r(f,"setXY.stepY",0);e.SetXY(y,H,b,Q,D);var F=r(f,"setRotation.value",0),G=r(f,"setRotation.step",0);e.SetRotation(y,F,G);var N=r(f,"setScale.x",1),X=r(f,"setScale.y",N),V=r(f,"setScale.stepX",0),W=r(f,"setScale.stepY",0);e.SetScale(y,N,X,V,W);var Z=r(f,"setOrigin.x",.5),et=r(f,"setOrigin.y",Z),it=r(f,"setOrigin.stepX",0),ht=r(f,"setOrigin.stepY",0);e.SetOrigin(y,Z,et,it,ht);var vt=r(f,"setAlpha.value",1),lt=r(f,"setAlpha.step",0);e.SetAlpha(y,vt,lt);var xt=r(f,"setDepth.value",0),st=r(f,"setDepth.step",0);e.SetDepth(y,xt,st);var mt=r(f,"setScrollFactor.x",1),wt=r(f,"setScrollFactor.y",mt),St=r(f,"setScrollFactor.stepX",0),Rt=r(f,"setScrollFactor.stepY",0);e.SetScrollFactor(y,mt,wt,St,Rt);var Tt=i(f,"hitArea",null),Bt=i(f,"hitAreaCallback",null);Tt&&e.SetHitArea(y,Tt,Bt);var Pt=i(f,"gridAlign",!1);return Pt&&e.GridAlign(y,Pt),this.createMultipleCallback&&this.createMultipleCallback.call(this,y),y},preUpdate:function(f,c){if(!(!this.runChildUpdate||this.children.size===0))for(var g=this.children.entries.slice(),m=0;m<g.length;m++){var x=g[m];x.active&&x.update(f,c)}},add:function(f,c){return c===void 0&&(c=!1),this.isFull()?this:(this.children.set(f),this.internalCreateCallback&&this.internalCreateCallback.call(this,f),this.createCallback&&this.createCallback.call(this,f),c&&(f.addToDisplayList(this.scene.sys.displayList),f.addToUpdateList()),f.on(o.DESTROY,this.remove,this),this)},addMultiple:function(f,c){if(c===void 0&&(c=!1),Array.isArray(f))for(var g=0;g<f.length;g++)this.add(f[g],c);return this},remove:function(f,c,g){return c===void 0&&(c=!1),g===void 0&&(g=!1),this.children.contains(f)?(this.children.delete(f),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,f),this.removeCallback&&this.removeCallback.call(this,f),f.off(o.DESTROY,this.remove,this),g?f.destroy():c&&(f.removeFromDisplayList(),f.removeFromUpdateList()),this):this},clear:function(f,c){f===void 0&&(f=!1),c===void 0&&(c=!1);for(var g=this.children,m=0;m<g.size;m++){var x=g.entries[m];x.off(o.DESTROY,this.remove,this),c?x.destroy():f&&(x.removeFromDisplayList(),x.removeFromUpdateList())}return this.children.clear(),this},contains:function(f){return this.children.contains(f)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(f,c,g,m){return s(this.children.entries,f,c,g,m)},getFirst:function(f,c,g,m,x,y,T){return this.getHandler(!0,1,f,c,g,m,x,y,T)},getFirstNth:function(f,c,g,m,x,y,T,E){return this.getHandler(!0,f,c,g,m,x,y,T,E)},getLast:function(f,c,g,m,x,y,T){return this.getHandler(!1,1,f,c,g,m,x,y,T)},getLastNth:function(f,c,g,m,x,y,T,E){return this.getHandler(!1,f,c,g,m,x,y,T,E)},getHandler:function(f,c,g,m,x,y,T,E,R){g===void 0&&(g=!1),m===void 0&&(m=!1);var M,P,O=0,I=this.children.entries;if(f)for(P=0;P<I.length;P++)if(M=I[P],M.active===g){if(O++,O===c)break}else M=null;else for(P=I.length-1;P>=0;P--)if(M=I[P],M.active===g){if(O++,O===c)break}else M=null;return M?(typeof x=="number"&&(M.x=x),typeof y=="number"&&(M.y=y),M):m?this.create(x,y,T,E,R):null},get:function(f,c,g,m,x){return this.getFirst(!1,!0,f,c,g,m,x)},getFirstAlive:function(f,c,g,m,x,y){return this.getFirst(!0,f,c,g,m,x,y)},getFirstDead:function(f,c,g,m,x,y){return this.getFirst(!1,f,c,g,m,x,y)},playAnimation:function(f,c){return e.PlayAnimation(this.children.entries,f,c),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(f){f===void 0&&(f=!0);for(var c=0,g=0;g<this.children.size;g++)this.children.entries[g].active===f&&c++;return c},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var f=this.getTotalUsed(),c=this.maxSize===-1?999999999999:this.maxSize;return c-f},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},propertyValueSet:function(f,c,g,m,x){return e.PropertyValueSet(this.children.entries,f,c,g,m,x),this},propertyValueInc:function(f,c,g,m,x){return e.PropertyValueInc(this.children.entries,f,c,g,m,x),this},setX:function(f,c){return e.SetX(this.children.entries,f,c),this},setY:function(f,c){return e.SetY(this.children.entries,f,c),this},setXY:function(f,c,g,m){return e.SetXY(this.children.entries,f,c,g,m),this},incX:function(f,c){return e.IncX(this.children.entries,f,c),this},incY:function(f,c){return e.IncY(this.children.entries,f,c),this},incXY:function(f,c,g,m){return e.IncXY(this.children.entries,f,c,g,m),this},shiftPosition:function(f,c,g){return e.ShiftPosition(this.children.entries,f,c,g),this},angle:function(f,c){return e.Angle(this.children.entries,f,c),this},rotate:function(f,c){return e.Rotate(this.children.entries,f,c),this},rotateAround:function(f,c){return e.RotateAround(this.children.entries,f,c),this},rotateAroundDistance:function(f,c,g){return e.RotateAroundDistance(this.children.entries,f,c,g),this},setAlpha:function(f,c){return e.SetAlpha(this.children.entries,f,c),this},setTint:function(f,c,g,m){return e.SetTint(this.children.entries,f,c,g,m),this},setOrigin:function(f,c,g,m){return e.SetOrigin(this.children.entries,f,c,g,m),this},scaleX:function(f,c){return e.ScaleX(this.children.entries,f,c),this},scaleY:function(f,c){return e.ScaleY(this.children.entries,f,c),this},scaleXY:function(f,c,g,m){return e.ScaleXY(this.children.entries,f,c,g,m),this},setDepth:function(f,c){return e.SetDepth(this.children.entries,f,c),this},setBlendMode:function(f){return e.SetBlendMode(this.children.entries,f),this},setHitArea:function(f,c){return e.SetHitArea(this.children.entries,f,c),this},shuffle:function(){return e.Shuffle(this.children.entries),this},kill:function(f){this.children.contains(f)&&f.setActive(!1)},killAndHide:function(f){this.children.contains(f)&&(f.setActive(!1),f.setVisible(!1))},setVisible:function(f,c,g){return e.SetVisible(this.children.entries,f,c,g),this},toggleVisible:function(){return e.ToggleVisible(this.children.entries),this},destroy:function(f,c){f===void 0&&(f=!1),c===void 0&&(c=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(o.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(c,f),this.scene=void 0,this.children=void 0)}});p.exports=v},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),d=function(o,a,s,i,r,l){for(var n=e.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*i),h=s.pathData,u=s.pathIndexes,v=0;v<u.length;v+=3){var f=u[v]*2,c=u[v+1]*2,g=u[v+2]*2,m=h[f+0]-r,x=h[f+1]-l,y=h[c+0]-r,T=h[c+1]-l,E=h[g+0]-r,R=h[g+1]-l,M=a.getX(m,x),P=a.getY(m,x),O=a.getX(y,T),I=a.getY(y,T),B=a.getX(E,R),w=a.getY(E,R);o.batchTri(s,M,P,O,I,B,w,0,0,1,1,n,n,n,2)}};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=e.x3-e.x1,s=e.y3-e.y1,i=e.x2-e.x1,r=e.y2-e.y1,l=d-e.x1,n=o-e.y1,h=a*a+s*s,u=a*i+s*r,v=a*l+s*n,f=i*i+r*r,c=i*l+r*n,g=h*f-u*u,m=g===0?0:1/g,x=(f*v-u*c)*m,y=(h*c-u*v)*m;return x>=0&&y>=0&&x+y<1};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(10),o=t(3);function a(i,r,l,n){var h=i-l,u=r-n,v=h*h+u*u;return Math.sqrt(v)}var s=new e({initialize:function(r,l,n){this.vertex1=r,this.vertex2=l,this.vertex3=n,this.bounds=new d,this._inCenter=new o},getInCenter:function(i){i===void 0&&(i=!0);var r=this.vertex1,l=this.vertex2,n=this.vertex3,h,u,v,f,c,g;i?(h=r.x,u=r.y,v=l.x,f=l.y,c=n.x,g=n.y):(h=r.vx,u=r.vy,v=l.vx,f=l.vy,c=n.vx,g=n.vy);var m=a(c,g,v,f),x=a(h,u,c,g),y=a(v,f,h,u),T=m+x+y;return this._inCenter.set((h*m+v*x+c*y)/T,(u*m+f*x+g*y)/T)},contains:function(i,r,l){var n=this.vertex1,h=this.vertex2,u=this.vertex3,v=n.vx,f=n.vy,c=h.vx,g=h.vy,m=u.vx,x=u.vy;if(l){var y=l.a,T=l.b,E=l.c,R=l.d,M=l.e,P=l.f;v=n.vx*y+n.vy*E+M,f=n.vx*T+n.vy*R+P,c=h.vx*y+h.vy*E+M,g=h.vx*T+h.vy*R+P,m=u.vx*y+u.vy*E+M,x=u.vx*T+u.vy*R+P}var O=m-v,I=x-f,B=c-v,w=g-f,z=i-v,H=r-f,b=O*O+I*I,Q=O*B+I*w,D=O*z+I*H,F=B*B+w*w,G=B*z+w*H,N=b*F-Q*Q,X=N===0?0:1/N,V=(F*D-Q*G)*X,W=(b*G-Q*D)*X;return V>=0&&W>=0&&V+W<1},isCounterClockwise:function(i){var r=this.vertex1,l=this.vertex2,n=this.vertex3,h=(l.vx-r.vx)*(n.vy-r.vy)-(l.vy-r.vy)*(n.vx-r.vx);return i<=0?h>=0:h<0},load:function(i,r,l,n,h){return l=this.vertex1.load(i,r,l,n,h),l=this.vertex2.load(i,r,l,n,h),l=this.vertex3.load(i,r,l,n,h),l},transformCoordinatesLocal:function(i,r,l,n){return this.vertex1.transformCoordinatesLocal(i,r,l,n),this.vertex2.transformCoordinatesLocal(i,r,l,n),this.vertex3.transformCoordinatesLocal(i,r,l,n),this},updateBounds:function(){var i=this.vertex1,r=this.vertex2,l=this.vertex3,n=this.bounds;return n.x=Math.min(i.vx,r.vx,l.vx),n.y=Math.min(i.vy,r.vy,l.vy),n.width=Math.max(i.vx,r.vx,l.vx)-n.x,n.height=Math.max(i.vy,r.vy,l.vy)-n.y,this},isInView:function(i,r,l,n,h,u,v,f,c,g,m){var x=this.vertex1.update(h,u,v,f,c,g,m,n),y=this.vertex2.update(h,u,v,f,c,g,m,n),T=this.vertex3.update(h,u,v,f,c,g,m,n);if(x.ta<=0&&y.ta<=0&&T.ta<=0||r&&!this.isCounterClockwise(l))return!1;var E=this.bounds;E.x=Math.min(x.tx,y.tx,T.tx),E.y=Math.min(x.ty,y.ty,T.ty),E.width=Math.max(x.tx,y.tx,T.tx)-E.x,E.height=Math.max(x.ty,y.ty,T.ty)-E.y;var R=i.x+i.width,M=i.y+i.height;return E.width<=0||E.height<=0||i.width<=0||i.height<=0?!1:!(E.right<i.x||E.bottom<i.y||E.x>R||E.y>M)},translate:function(i,r){r===void 0&&(r=0);var l=this.vertex1,n=this.vertex2,h=this.vertex3;return l.x+=i,l.y+=r,n.x+=i,n.y+=r,h.x+=i,h.y+=r,this},x:{get:function(){return this.getInCenter().x},set:function(i){var r=this.getInCenter();this.translate(i-r.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(i){var r=this.getInCenter();this.translate(0,i-r.y)}},alpha:{get:function(){var i=this.vertex1,r=this.vertex2,l=this.vertex3;return(i.alpha+r.alpha+l.alpha)/3},set:function(i){this.vertex1.alpha=i,this.vertex2.alpha=i,this.vertex3.alpha=i}},depth:{get:function(){var i=this.vertex1,r=this.vertex2,l=this.vertex3;return(i.vz+r.vz+l.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(12),o=t(39),a=new e({Extends:o,initialize:function(i,r,l,n,h,u,v,f,c,g){u===void 0&&(u=16777215),v===void 0&&(v=1),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),o.call(this,i,r,l),this.vx=0,this.vy=0,this.vz=0,this.nx=f,this.ny=c,this.nz=g,this.u=n,this.v=h,this.color=u,this.alpha=v,this.tx=0,this.ty=0,this.ta=0},setUVs:function(s,i){return this.u=s,this.v=i,this},transformCoordinatesLocal:function(s,i,r,l){var n=this.x,h=this.y,u=this.z,v=s.val,f=n*v[0]+h*v[4]+u*v[8]+v[12],c=n*v[1]+h*v[5]+u*v[9]+v[13],g=n*v[2]+h*v[6]+u*v[10]+v[14],m=n*v[3]+h*v[7]+u*v[11]+v[15];this.vx=f/m*i,this.vy=-(c/m)*r,l<=0?this.vz=g/m:this.vz=-(g/m)},update:function(s,i,r,l,n,h,u,v){var f=this.vx*s+this.vy*r+n,c=this.vx*i+this.vy*l+h;return u&&(f=Math.round(f),c=Math.round(c)),this.tx=f,this.ty=c,this.ta=this.alpha*v,this},load:function(s,i,r,l,n){return s[++r]=this.tx,s[++r]=this.ty,s[++r]=this.u,s[++r]=this.v,s[++r]=l,s[++r]=n,i[++r]=d.getTintAppendFloatAlpha(this.color,this.ta),r}});p.exports=a},function(p,C,t){var e={};p.exports=e;var d=t(166),o=t(32),a=t(84),s=t(41);(function(){e.create=function(i){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},i)},e.setModified=function(i,r,l,n){if(d.trigger(i,"compositeModified",i),i.isModified=r,l&&i.parent&&e.setModified(i.parent,r,l,n),n)for(var h=0;h<i.composites.length;h++){var u=i.composites[h];e.setModified(u,r,l,n)}},e.add=function(i,r){var l=[].concat(r);d.trigger(i,"beforeAdd",{object:r});for(var n=0;n<l.length;n++){var h=l[n];switch(h.type){case"body":if(h.parent!==h){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(i,h);break;case"constraint":e.addConstraint(i,h);break;case"composite":e.addComposite(i,h);break;case"mouseConstraint":e.addConstraint(i,h.constraint);break}}return d.trigger(i,"afterAdd",{object:r}),i},e.remove=function(i,r,l){var n=[].concat(r);d.trigger(i,"beforeRemove",{object:r});for(var h=0;h<n.length;h++){var u=n[h];switch(u.type){case"body":e.removeBody(i,u,l);break;case"constraint":e.removeConstraint(i,u,l);break;case"composite":e.removeComposite(i,u,l);break;case"mouseConstraint":e.removeConstraint(i,u.constraint);break}}return d.trigger(i,"afterRemove",{object:r}),i},e.addComposite=function(i,r){return i.composites.push(r),r.parent=i,e.setModified(i,!0,!0,!1),i},e.removeComposite=function(i,r,l){var n=i.composites.indexOf(r);if(n!==-1&&(e.removeCompositeAt(i,n),e.setModified(i,!0,!0,!1)),l)for(var h=0;h<i.composites.length;h++)e.removeComposite(i.composites[h],r,!0);return i},e.removeCompositeAt=function(i,r){return i.composites.splice(r,1),e.setModified(i,!0,!0,!1),i},e.addBody=function(i,r){return i.bodies.push(r),e.setModified(i,!0,!0,!1),i},e.removeBody=function(i,r,l){var n=i.bodies.indexOf(r);if(n!==-1&&(e.removeBodyAt(i,n),e.setModified(i,!0,!0,!1)),l)for(var h=0;h<i.composites.length;h++)e.removeBody(i.composites[h],r,!0);return i},e.removeBodyAt=function(i,r){return i.bodies.splice(r,1),e.setModified(i,!0,!0,!1),i},e.addConstraint=function(i,r){return i.constraints.push(r),e.setModified(i,!0,!0,!1),i},e.removeConstraint=function(i,r,l){var n=i.constraints.indexOf(r);if(n!==-1&&e.removeConstraintAt(i,n),l)for(var h=0;h<i.composites.length;h++)e.removeConstraint(i.composites[h],r,!0);return i},e.removeConstraintAt=function(i,r){return i.constraints.splice(r,1),e.setModified(i,!0,!0,!1),i},e.clear=function(i,r,l){if(l)for(var n=0;n<i.composites.length;n++)e.clear(i.composites[n],r,!0);return r?i.bodies=i.bodies.filter(function(h){return h.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,e.setModified(i,!0,!0,!1),i},e.allBodies=function(i){for(var r=[].concat(i.bodies),l=0;l<i.composites.length;l++)r=r.concat(e.allBodies(i.composites[l]));return r},e.allConstraints=function(i){for(var r=[].concat(i.constraints),l=0;l<i.composites.length;l++)r=r.concat(e.allConstraints(i.composites[l]));return r},e.allComposites=function(i){for(var r=[].concat(i.composites),l=0;l<i.composites.length;l++)r=r.concat(e.allComposites(i.composites[l]));return r},e.get=function(i,r,l){var n,h;switch(l){case"body":n=e.allBodies(i);break;case"constraint":n=e.allConstraints(i);break;case"composite":n=e.allComposites(i).concat(i);break}return n?(h=n.filter(function(u){return u.id.toString()===r.toString()}),h.length===0?null:h[0]):null},e.move=function(i,r,l){return e.remove(i,r),e.add(l,r),i},e.rebase=function(i){for(var r=e.allBodies(i).concat(e.allConstraints(i)).concat(e.allComposites(i)),l=0;l<r.length;l++)r[l].id=o.nextId();return e.setModified(i,!0,!0,!1),i},e.translate=function(i,r,l){for(var n=l?e.allBodies(i):i.bodies,h=0;h<n.length;h++)s.translate(n[h],r);return e.setModified(i,!0,!0,!1),i},e.rotate=function(i,r,l,n){for(var h=Math.cos(r),u=Math.sin(r),v=n?e.allBodies(i):i.bodies,f=0;f<v.length;f++){var c=v[f],g=c.position.x-l.x,m=c.position.y-l.y;s.setPosition(c,{x:l.x+(g*h-m*u),y:l.y+(g*u+m*h)}),s.rotate(c,r)}return e.setModified(i,!0,!0,!1),i},e.scale=function(i,r,l,n,h){for(var u=h?e.allBodies(i):i.bodies,v=0;v<u.length;v++){var f=u[v],c=f.position.x-n.x,g=f.position.y-n.y;s.setPosition(f,{x:n.x+c*r,y:n.y+g*l}),s.scale(f,r,l)}return e.setModified(i,!0,!0,!1),i},e.bounds=function(i){for(var r=e.allBodies(i),l=[],n=0;n<r.length;n+=1){var h=r[n];l.push(h.bounds.min,h.bounds.max)}return a.create(l)}})()},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e>=0&&e<o.width&&d>=0&&d<o.height};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(29),o=t(2),a=new e({initialize:function(i){i===void 0&&(i={}),this.name=o(i,"name","layer"),this.x=o(i,"x",0),this.y=o(i,"y",0),this.width=o(i,"width",0),this.height=o(i,"height",0),this.tileWidth=o(i,"tileWidth",0),this.tileHeight=o(i,"tileHeight",0),this.baseTileWidth=o(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=o(i,"baseTileHeight",this.tileHeight),this.orientation=o(i,"orientation",d.ORTHOGONAL),this.widthInPixels=o(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=o(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=o(i,"alpha",1),this.visible=o(i,"visible",!0),this.properties=o(i,"properties",[]),this.indexes=o(i,"indexes",[]),this.collideIndexes=o(i,"collideIndexes",[]),this.callbacks=o(i,"callbacks",[]),this.bodies=o(i,"bodies",[]),this.data=o(i,"data",[]),this.tilemapLayer=o(i,"tilemapLayer",null),this.hexSideLength=o(i,"hexSideLength",0)}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(29),o=t(2),a=new e({initialize:function(i){i===void 0&&(i={}),this.name=o(i,"name","map"),this.width=o(i,"width",0),this.height=o(i,"height",0),this.infinite=o(i,"infinite",!1),this.tileWidth=o(i,"tileWidth",0),this.tileHeight=o(i,"tileHeight",0),this.widthInPixels=o(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=o(i,"heightInPixels",this.height*this.tileHeight),this.format=o(i,"format",null),this.orientation=o(i,"orientation",d.ORTHOGONAL),this.renderOrder=o(i,"renderOrder","right-down"),this.version=o(i,"version","1"),this.properties=o(i,"properties",{}),this.layers=o(i,"layers",[]),this.images=o(i,"images",[]),this.objects=o(i,"objects",{}),this.collision=o(i,"collision",{}),this.tilesets=o(i,"tilesets",[]),this.imageCollections=o(i,"imageCollections",[]),this.tiles=o(i,"tiles",[]),this.hexSideLength=o(i,"hexSideLength",0)}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s,i,r,l,n,h,u){(i===void 0||i<=0)&&(i=32),(r===void 0||r<=0)&&(r=32),l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h={}),u===void 0&&(u={}),this.name=a,this.firstgid=s,this.tileWidth=i,this.tileHeight=r,this.tileMargin=l,this.tileSpacing=n,this.tileProperties=h,this.tileData=u,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(o){return this.containsTileIndex(o)?this.tileProperties[o-this.firstgid]:null},getTileData:function(o){return this.containsTileIndex(o)?this.tileData[o-this.firstgid]:null},getTileCollisionGroup:function(o){var a=this.getTileData(o);return a&&a.objectgroup?a.objectgroup:null},containsTileIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},getTileTextureCoordinates:function(o){return this.containsTileIndex(o)?this.texCoordinates[o-this.firstgid]:null},setImage:function(o){return this.image=o,this.glTexture=o.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(o,a){return o!==void 0&&(this.tileWidth=o),a!==void 0&&(this.tileHeight=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(o,a){return o!==void 0&&(this.tileMargin=o),a!==void 0&&(this.tileSpacing=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(o,a){var s=(a-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(o-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(s%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),s=Math.floor(s),i=Math.floor(i),this.rows=s,this.columns=i,this.total=s*i,this.texCoordinates.length=0;for(var r=this.tileMargin,l=this.tileMargin,n=0;n<this.rows;n++){for(var h=0;h<this.columns;h++)this.texCoordinates.push({x:r,y:l}),r+=this.tileWidth+this.tileSpacing;r=this.tileMargin,l+=this.tileHeight+this.tileSpacing}return this}});p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return o===void 0&&(o=1e-4),Math.abs(e-d)<o};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(15),a=t(1068),s=new e({Extends:o,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,a],initialize:function(r,l,n,h,u){o.call(this,r,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,u),this.setPosition(l,n),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.hasOwnProperty(d)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),d=function(o,a){var s=e(o);for(var i in a)s.hasOwnProperty(i)||(s[i]=a[i]);return s};p.exports=d},function(p,C,t){var e={};p.exports=e;var d=t(64),o=t(83),a=t(165),s=t(84),i=t(271),r=t(32);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(l){var n=l;n.bodyA&&!n.pointA&&(n.pointA={x:0,y:0}),n.bodyB&&!n.pointB&&(n.pointB={x:0,y:0});var h=n.bodyA?o.add(n.bodyA.position,n.pointA):n.pointA,u=n.bodyB?o.add(n.bodyB.position,n.pointB):n.pointB,v=o.magnitude(o.sub(h,u));n.length=typeof n.length!="undefined"?n.length:v,n.id=n.id||r.nextId(),n.label=n.label||"Constraint",n.type="constraint",n.stiffness=n.stiffness||(n.length>0?1:.7),n.damping=n.damping||0,n.angularStiffness=n.angularStiffness||0,n.angleA=n.bodyA?n.bodyA.angle:n.angleA,n.angleB=n.bodyB?n.bodyB.angle:n.angleB,n.plugin={};var f={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return n.length===0&&n.stiffness>.1?(f.type="pin",f.anchors=!1):n.stiffness<.9&&(f.type="spring"),n.render=r.extend(f,n.render),n},e.preSolveAll=function(l){for(var n=0;n<l.length;n+=1){var h=l[n],u=h.constraintImpulse;h.isStatic||u.x===0&&u.y===0&&u.angle===0||(h.position.x+=u.x,h.position.y+=u.y,h.angle+=u.angle)}},e.solveAll=function(l,n){for(var h=0;h<l.length;h+=1){var u=l[h],v=!u.bodyA||u.bodyA&&u.bodyA.isStatic,f=!u.bodyB||u.bodyB&&u.bodyB.isStatic;(v||f)&&e.solve(l[h],n)}for(h=0;h<l.length;h+=1)u=l[h],v=!u.bodyA||u.bodyA&&u.bodyA.isStatic,f=!u.bodyB||u.bodyB&&u.bodyB.isStatic,!v&&!f&&e.solve(l[h],n)},e.solve=function(l,n){var h=l.bodyA,u=l.bodyB,v=l.pointA,f=l.pointB;if(!(!h&&!u)){h&&!h.isStatic&&(o.rotate(v,h.angle-l.angleA,v),l.angleA=h.angle),u&&!u.isStatic&&(o.rotate(f,u.angle-l.angleB,f),l.angleB=u.angle);var c=v,g=f;if(h&&(c=o.add(h.position,v)),u&&(g=o.add(u.position,f)),!(!c||!g)){var m=o.sub(c,g),x=o.magnitude(m);x<e._minLength&&(x=e._minLength);var y=(x-l.length)/x,T=l.stiffness<1?l.stiffness*n:l.stiffness,E=o.mult(m,y*T),R=(h?h.inverseMass:0)+(u?u.inverseMass:0),M=(h?h.inverseInertia:0)+(u?u.inverseInertia:0),P=R+M,O,I,B,w,z;if(l.damping){var H=o.create();B=o.div(m,x),z=o.sub(u&&o.sub(u.position,u.positionPrev)||H,h&&o.sub(h.position,h.positionPrev)||H),w=o.dot(B,z)}h&&!h.isStatic&&(I=h.inverseMass/R,h.constraintImpulse.x-=E.x*I,h.constraintImpulse.y-=E.y*I,h.position.x-=E.x*I,h.position.y-=E.y*I,l.damping&&(h.positionPrev.x-=l.damping*B.x*w*I,h.positionPrev.y-=l.damping*B.y*w*I),O=o.cross(v,E)/P*e._torqueDampen*h.inverseInertia*(1-l.angularStiffness),h.constraintImpulse.angle-=O,h.angle-=O),u&&!u.isStatic&&(I=u.inverseMass/R,u.constraintImpulse.x+=E.x*I,u.constraintImpulse.y+=E.y*I,u.position.x+=E.x*I,u.position.y+=E.y*I,l.damping&&(u.positionPrev.x+=l.damping*B.x*w*I,u.positionPrev.y+=l.damping*B.y*w*I),O=o.cross(f,E)/P*e._torqueDampen*u.inverseInertia*(1-l.angularStiffness),u.constraintImpulse.angle+=O,u.angle+=O)}}},e.postSolveAll=function(l){for(var n=0;n<l.length;n++){var h=l[n],u=h.constraintImpulse;if(!(h.isStatic||u.x===0&&u.y===0&&u.angle===0)){a.set(h,!1);for(var v=0;v<h.parts.length;v++){var f=h.parts[v];d.translate(f.vertices,u),v>0&&(f.position.x+=u.x,f.position.y+=u.y),u.angle!==0&&(d.rotate(f.vertices,u.angle,h.position),i.rotate(f.axes,u.angle),v>0&&o.rotateAbout(f.position,u.angle,h.position,f.position)),s.update(f.bounds,f.vertices,h.velocity)}u.angle*=e._warming,u.x*=e._warming,u.y*=e._warming}}},e.pointAWorld=function(l){return{x:(l.bodyA?l.bodyA.position.x:0)+l.pointA.x,y:(l.bodyA?l.bodyA.position.y:0)+l.pointA.y}},e.pointBWorld=function(l){return{x:(l.bodyB?l.bodyB.position.x:0)+l.pointB.x,y:(l.bodyB?l.bodyB.position.y:0)+l.pointB.y}}})()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),d=t(65),o=t(66),a=t(0),s=t(11),i=t(15),r=t(10),l=t(57),n=new a({Extends:i,Mixins:[s.Depth,s.GetBounds,s.Origin,s.Transform,s.ScrollFactor,s.Visible],initialize:function(u,v,f,c,g){c===void 0&&(c=1),g===void 0&&(g=c),i.call(this,u,"Zone"),this.setPosition(v,f),this.width=c,this.height=g,this.blendMode=e.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,u,v){v===void 0&&(v=!0),this.width=h,this.height=u,this.updateDisplayOrigin();var f=this.input;return v&&f&&!f.customHitArea&&(f.hitArea.width=h,f.hitArea.height=u),this},setDisplaySize:function(h,u){return this.displayWidth=h,this.displayHeight=u,this},setCircleDropZone:function(h){return this.setDropZone(new d(0,0,h),o)},setRectangleDropZone:function(h,u){return this.setDropZone(new r(0,0,h,u),l)},setDropZone:function(h,u){return h===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(h,u,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,u,v){v.addToRenderList(u)},renderWebGL:function(h,u,v){v.addToRenderList(u)}});p.exports=n},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(e.width+e.height)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var d=e.length-1;d>0;d--){var o=Math.floor(Math.random()*(d+1)),a=e[d];e[d]=e[o],e[o]=a}return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD_ANIMATION:t(724),ANIMATION_COMPLETE:t(725),ANIMATION_COMPLETE_KEY:t(726),ANIMATION_REPEAT:t(727),ANIMATION_RESTART:t(728),ANIMATION_START:t(729),ANIMATION_STOP:t(730),ANIMATION_UPDATE:t(731),PAUSE_ALL:t(732),REMOVE_ANIMATION:t(733),RESUME_ALL:t(734)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(36),a=t(9),s=t(37),i=t(10),r=t(25),l=t(187),n=t(3),h=new e({Extends:a,Mixins:[d.Alpha,d.Visible],initialize:function(v,f,c,g){v===void 0&&(v=0),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new i,this.dirty=!0,this._x=v,this._y=f,this._width=c,this._height=g,this._bounds=new i,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new r,this.transparent=!0,this.backgroundColor=l("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new n(c/2,g/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(u){this.renderList.push(u)},setOrigin:function(u,v){return u===void 0&&(u=.5),v===void 0&&(v=u),this.originX=u,this.originY=v,this},getScroll:function(u,v,f){f===void 0&&(f=new n);var c=this.width*.5,g=this.height*.5;return f.x=u-c,f.y=v-g,this.useBounds&&(f.x=this.clampX(f.x),f.y=this.clampY(f.y)),f},centerOnX:function(u){var v=this.width*.5;return this.midPoint.x=u,this.scrollX=u-v,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(u){var v=this.height*.5;return this.midPoint.y=u,this.scrollY=u-v,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(u,v){return this.centerOnX(u),this.centerOnY(v),this},centerToBounds:function(){if(this.useBounds){var u=this._bounds,v=this.width*.5,f=this.height*.5;this.midPoint.set(u.centerX,u.centerY),this.scrollX=u.centerX-v,this.scrollY=u.centerY-f}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(u){if(this.disableCull)return u;var v=this.matrix.matrix,f=v[0],c=v[1],g=v[2],m=v[3],x=f*m-c*g;if(!x)return u;var y=v[4],T=v[5],E=this.scrollX,R=this.scrollY,M=this.width,P=this.height,O=this.y,I=O+P,B=this.x,w=B+M,z=this.culledObjects,H=u.length;x=1/x,z.length=0;for(var b=0;b<H;++b){var Q=u[b];if(!Q.hasOwnProperty("width")||Q.parentContainer){z.push(Q);continue}var D=Q.width,F=Q.height,G=Q.x-E*Q.scrollFactorX-D*Q.originX,N=Q.y-R*Q.scrollFactorY-F*Q.originY,X=G*f+N*g+y,V=G*c+N*m+T,W=(G+D)*f+(N+F)*g+y,Z=(G+D)*c+(N+F)*m+T;W>B&&X<w&&Z>O&&V<I&&z.push(Q)}return z},getWorldPoint:function(u,v,f){f===void 0&&(f=new n);var c=this.matrix.matrix,g=c[0],m=c[1],x=c[2],y=c[3],T=c[4],E=c[5],R=g*y-m*x;if(!R)return f.x=u,f.y=v,f;R=1/R;var M=y*R,P=-m*R,O=-x*R,I=g*R,B=(x*E-y*T)*R,w=(m*T-g*E)*R,z=Math.cos(this.rotation),H=Math.sin(this.rotation),b=this.zoomX,Q=this.zoomY,D=this.scrollX,F=this.scrollY,G=u+(D*z-F*H)*b,N=v+(D*H+F*z)*Q;return f.x=G*M+N*O+B,f.y=G*P+N*I+w,f},ignore:function(u){var v=this.id;Array.isArray(u)||(u=[u]);for(var f=0;f<u.length;f++){var c=u[f];Array.isArray(c)?this.ignore(c):c.isParent?this.ignore(c.getChildren()):c.cameraFilter|=v}return this},preRender:function(){this.renderList.length=0;var u=this.width,v=this.height,f=u*.5,c=v*.5,g=this.zoomX,m=this.zoomY,x=this.matrix,y=u*this.originX,T=v*this.originY,E=this.scrollX,R=this.scrollY;this.useBounds&&(E=this.clampX(E),R=this.clampY(R)),this.roundPixels&&(y=Math.round(y),T=Math.round(T)),this.scrollX=E,this.scrollY=R;var M=E+f,P=R+c;this.midPoint.set(M,P);var O=u/g,I=v/m;this.worldView.setTo(M-O/2,P-I/2,O,I),x.applyITRS(this.x+y,this.y+T,this.rotation,g,m),x.translate(-y,-T)},clampX:function(u){var v=this._bounds,f=this.displayWidth,c=v.x+(f-this.width)/2,g=Math.max(c,c+v.width-f);return u<c?u=c:u>g&&(u=g),u},clampY:function(u){var v=this._bounds,f=this.displayHeight,c=v.y+(f-this.height)/2,g=Math.max(c,c+v.height-f);return u<c?u=c:u>g&&(u=g),u},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(u){return u===void 0&&(u=0),this.rotation=o(u),this},setBackgroundColor:function(u){return u===void 0&&(u="rgba(0,0,0,0)"),this.backgroundColor=l(u),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(u,v,f,c,g){return g===void 0&&(g=!1),this._bounds.setTo(u,v,f,c),this.dirty=!0,this.useBounds=!0,g?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(u){u===void 0&&(u=new i);var v=this._bounds;return u.setTo(v.x,v.y,v.width,v.height),u},setName:function(u){return u===void 0&&(u=""),this.name=u,this},setPosition:function(u,v){return v===void 0&&(v=u),this.x=u,this.y=v,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setRoundPixels:function(u){return this.roundPixels=u,this},setScene:function(u){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=u;var v=u.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(u,v){return v===void 0&&(v=u),this.scrollX=u,this.scrollY=v,this},setSize:function(u,v){return v===void 0&&(v=u),this.width=u,this.height=v,this},setViewport:function(u,v,f,c){return this.x=u,this.y=v,this.width=f,this.height=c,this},setZoom:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=u),u===0&&(u=.001),v===0&&(v=.001),this.zoomX=u,this.zoomY=v,this},setMask:function(u,v){return v===void 0&&(v=!0),this.mask=u,this._maskCamera=v?this.cameraManager.default:this,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var u={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(u.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),u},update:function(){},updateSystem:function(){if(!!this.scaleManager){var u=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,v=this.sceneManager;u&&!this._customViewport?v.customViewports++:!u&&this._customViewport&&v.customViewports--,this.dirty=!0,this._customViewport=u}},destroy:function(){this.emit(s.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(u){this._x=u,this.updateSystem()}},y:{get:function(){return this._y},set:function(u){this._y=u,this.updateSystem()}},width:{get:function(){return this._width},set:function(u){this._width=u,this.updateSystem()}},height:{get:function(){return this._height},set:function(u){this._height=u,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(u){this._scrollX=u,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(u){this._scrollY=u,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(u){this._zoomX=u,this._zoomY=u,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(u){this._zoomX=u,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(u){this._zoomY=u,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=u,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});p.exports=h},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(334),d=t(335),o=t(336),a=t(337),s=t(338),i=t(339),r=t(340),l=t(341),n=t(342),h=t(343),u=t(344),v=t(345);p.exports={Power0:r,Power1:l.Out,Power2:a.Out,Power3:n.Out,Power4:h.Out,Linear:r,Quad:l.Out,Cubic:a.Out,Quart:n.Out,Quint:h.Out,Sine:u.Out,Expo:i.Out,Circ:o.Out,Elastic:s.Out,Back:e.Out,Bounce:d.Out,Stepped:v,"Quad.easeIn":l.In,"Cubic.easeIn":a.In,"Quart.easeIn":n.In,"Quint.easeIn":h.In,"Sine.easeIn":u.In,"Expo.easeIn":i.In,"Circ.easeIn":o.In,"Elastic.easeIn":s.In,"Back.easeIn":e.In,"Bounce.easeIn":d.In,"Quad.easeOut":l.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":n.Out,"Quint.easeOut":h.Out,"Sine.easeOut":u.Out,"Expo.easeOut":i.Out,"Circ.easeOut":o.Out,"Elastic.easeOut":s.Out,"Back.easeOut":e.Out,"Bounce.easeOut":d.Out,"Quad.easeInOut":l.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":n.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":u.InOut,"Expo.easeInOut":i.InOut,"Circ.easeInOut":o.InOut,"Elastic.easeInOut":s.InOut,"Back.easeInOut":e.InOut,"Bounce.easeInOut":d.InOut}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return(d-e)*o+e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),d={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function o(){var a=navigator.userAgent;return/Edge\/\d+/.test(a)?d.edge=!0:/Chrome\/(\d+)/.test(a)&&!e.windowsPhone?(d.chrome=!0,d.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(a)?(d.firefox=!0,d.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(a)&&e.iOS?d.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(a)?(d.ie=!0,d.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(a)?d.opera=!0:/Safari/.test(a)&&!e.windowsPhone?d.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(d.ie=!0,d.trident=!0,d.tridentVersion=parseInt(RegExp.$1,10),d.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(d.silk=!0),d}p.exports=o()},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return Math.random()*(d-e)+e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e>0&&(e&e-1)===0&&d>0&&(d&d-1)===0};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){return o===void 0&&(o=0),d===0?e:(e-=o,e=d*Math.ceil(e/d),a?(o+e)/d:o+e)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s,i,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=s||0,this.z=i||0,this.w=r||0)},clone:function(){return new d(this.x,this.y,this.z,this.w)},copy:function(o){return this.x=o.x,this.y=o.y,this.z=o.z||0,this.w=o.w||0,this},equals:function(o){return this.x===o.x&&this.y===o.y&&this.z===o.z&&this.w===o.w},set:function(o,a,s,i){return typeof o=="object"?(this.x=o.x||0,this.y=o.y||0,this.z=o.z||0,this.w=o.w||0):(this.x=o||0,this.y=a||0,this.z=s||0,this.w=i||0),this},add:function(o){return this.x+=o.x,this.y+=o.y,this.z+=o.z||0,this.w+=o.w||0,this},subtract:function(o){return this.x-=o.x,this.y-=o.y,this.z-=o.z||0,this.w-=o.w||0,this},scale:function(o){return this.x*=o,this.y*=o,this.z*=o,this.w*=o,this},length:function(){var o=this.x,a=this.y,s=this.z,i=this.w;return Math.sqrt(o*o+a*a+s*s+i*i)},lengthSq:function(){var o=this.x,a=this.y,s=this.z,i=this.w;return o*o+a*a+s*s+i*i},normalize:function(){var o=this.x,a=this.y,s=this.z,i=this.w,r=o*o+a*a+s*s+i*i;return r>0&&(r=1/Math.sqrt(r),this.x=o*r,this.y=a*r,this.z=s*r,this.w=i*r),this},dot:function(o){return this.x*o.x+this.y*o.y+this.z*o.z+this.w*o.w},lerp:function(o,a){a===void 0&&(a=0);var s=this.x,i=this.y,r=this.z,l=this.w;return this.x=s+a*(o.x-s),this.y=i+a*(o.y-i),this.z=r+a*(o.z-r),this.w=l+a*(o.w-l),this},multiply:function(o){return this.x*=o.x,this.y*=o.y,this.z*=o.z||1,this.w*=o.w||1,this},divide:function(o){return this.x/=o.x,this.y/=o.y,this.z/=o.z||1,this.w/=o.w||1,this},distance:function(o){var a=o.x-this.x,s=o.y-this.y,i=o.z-this.z||0,r=o.w-this.w||0;return Math.sqrt(a*a+s*s+i*i+r*r)},distanceSq:function(o){var a=o.x-this.x,s=o.y-this.y,i=o.z-this.z||0,r=o.w-this.w||0;return a*a+s*s+i*i+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(o){var a=this.x,s=this.y,i=this.z,r=this.w,l=o.val;return this.x=l[0]*a+l[4]*s+l[8]*i+l[12]*r,this.y=l[1]*a+l[5]*s+l[9]*i+l[13]*r,this.z=l[2]*a+l[6]*s+l[10]*i+l[14]*r,this.w=l[3]*a+l[7]*s+l[11]*i+l[15]*r,this},transformQuat:function(o){var a=this.x,s=this.y,i=this.z,r=o.x,l=o.y,n=o.z,h=o.w,u=h*a+l*i-n*s,v=h*s+n*a-r*i,f=h*i+r*s-l*a,c=-r*a-l*s-n*i;return this.x=u*h+c*-r+v*-n-f*-l,this.y=v*h+c*-l+f*-r-u*-n,this.z=f*h+c*-n+u*-l-v*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});d.prototype.sub=d.prototype.subtract,d.prototype.mul=d.prototype.multiply,d.prototype.div=d.prototype.divide,d.prototype.dist=d.prototype.distance,d.prototype.distSq=d.prototype.distanceSq,d.prototype.len=d.prototype.length,d.prototype.lenSq=d.prototype.lengthSq,p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(91),o=new e({initialize:function(s,i,r,l,n,h,u){l===void 0&&(l=1),n===void 0&&(n=0),h===void 0&&(h=!0),u===void 0&&(u=!1),this.renderer=s,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=l,this.minFilter=n,this.autoClear=h,this.autoResize=!1,this.resize(i,r),u&&this.setAutoResize(!0)},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(d.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(d.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,s){var i=a*this.scale,r=s*this.scale;if(i!==this.width||r!==this.height){var l=this.renderer;l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),a*=this.scale,s*=this.scale,a=Math.round(a),s=Math.round(s),a<=0&&(a=1),s<=0&&(s=1),this.texture=l.createTextureFromSource(null,a,s,this.minFilter),this.framebuffer=l.createFramebuffer(a,s,this.texture,!1),this.width=a,this.height=s}return this},bind:function(a,s,i){if(a===void 0&&(a=!1),a&&this.renderer.flush(),s&&i&&this.resize(s,i),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),a&&this.adjustViewport(),this.autoClear){var r=this.renderer.gl;r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)}},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(){var a=this.renderer,s=a.gl;a.pushFramebuffer(this.framebuffer),s.disable(s.SCISSOR_TEST),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT),a.popFramebuffer(),a.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var s=this.renderer;return a&&s.flush(),s.popFramebuffer()},destroy:function(){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),a.off(d.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o;if(d)typeof d=="string"?o=document.getElementById(d):typeof d=="object"&&d.nodeType===1&&(o=d);else if(e.parentElement||d===null)return e;return o||(o=document.body),o.appendChild(e),e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(77),o=t(9),a=t(70),s=t(22),i=t(1),r=t(207),l=t(428),n=new e({Extends:o,initialize:function(u){o.call(this),this.game=u,this.jsonCache=u.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,u.events.on(s.BLUR,this.onGameBlur,this),u.events.on(s.FOCUS,this.onGameFocus,this),u.events.on(s.PRE_STEP,this.update,this),u.events.once(s.DESTROY,this.destroy,this)},add:i,addAudioSprite:function(h,u){u===void 0&&(u={});var v=this.add(h,u);v.spritemap=this.jsonCache.get(h).spritemap;for(var f in v.spritemap)if(!!v.spritemap.hasOwnProperty(f)){var c=d(u),g=v.spritemap[f];c.loop=g.hasOwnProperty("loop")?g.loop:!1,v.addMarker({name:f,start:g.start,duration:g.end-g.start,config:c})}return v},get:function(h){return l(this.sounds,"key",h)},getAll:function(h){return r(this.sounds,"key",h)},play:function(h,u){var v=this.add(h);return v.once(a.COMPLETE,v.destroy,v),u?u.name?(v.addMarker(u),v.play(u.name)):v.play(u):v.play()},playAudioSprite:function(h,u,v){var f=this.addAudioSprite(h);return f.once(a.COMPLETE,f.destroy,f),f.play(u,v)},remove:function(h){var u=this.sounds.indexOf(h);return u!==-1?(h.destroy(),this.sounds.splice(u,1),!0):!1},removeAll:function(){this.sounds.forEach(function(h){h.destroy()}),this.sounds.length=0},removeByKey:function(h){for(var u=0,v=this.sounds.length-1;v>=0;v--){var f=this.sounds[v];f.key===h&&(f.destroy(),this.sounds.splice(v,1),u++)}return u},pauseAll:function(){this.forEachActiveSound(function(h){h.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(h){h.resume()}),this.emit(a.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(h){h.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(h){var u=0;return this.getAll(h).forEach(function(v){v.stop()&&u++}),u},unlock:i,onBlur:i,onFocus:i,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(h,u){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(f){f.update(h,u)})},destroy:function(){this.game.events.off(s.BLUR,this.onGameBlur,this),this.game.events.off(s.FOCUS,this.onGameFocus,this),this.game.events.off(s.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(h,u){var v=this;this.sounds.forEach(function(f,c){f&&!f.pendingRemove&&h.call(u||v,f,c,v.sounds)})},setRate:function(h){return this.rate=h,this},rate:{get:function(){return this._rate},set:function(h){this._rate=h,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(a.GLOBAL_RATE,this,h)}},setDetune:function(h){return this.detune=h,this},detune:{get:function(){return this._detune},set:function(h){this._detune=h,this.forEachActiveSound(function(u){u.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,h)}}});p.exports=n},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(9),o=t(70),a=t(17),s=t(1),i=new e({Extends:d,initialize:function(l,n,h){d.call(this),this.manager=l,this.key=n,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(console.error("addMarker "+r.name+" already exists in Sound"),!1):(r=a(!0,{name:"",start:0,duration:this.totalDuration-(r.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},r),this.markers[r.name]=r,!0)},updateMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(this.markers[r.name]=a(!0,this.markers[r.name],r),!0):(console.warn("Audio Marker: "+r.name+" missing in Sound: "+this.key),!1)},removeMarker:function(r){var l=this.markers[r];return l?(this.markers[r]=null,l):null},play:function(r,l){if(r===void 0&&(r=""),typeof r=="object"&&(l=r,r=""),typeof r!="string")return!1;if(!r)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[r])return console.warn("Marker: "+r+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[r],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,l),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:s,calculateRate:function(){var r=1.0005777895065548,l=this.currentConfig.detune+this.manager.detune,n=Math.pow(r,l);this.totalRate=this.currentConfig.rate*this.manager.rate*n},destroy:function(){this.pendingRemove||(this.emit(o.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(209),d=t(435),o=function(a,s){if(s===void 0&&(s=90),!e(a))return null;if(typeof s!="string"&&(s=(s%360+360)%360),s===90||s===-270||s==="rotateLeft")a=d(a),a.reverse();else if(s===-90||s===270||s==="rotateRight")a.reverse(),a=d(a);else if(Math.abs(s)===180||s==="rotate180"){for(var i=0;i<a.length;i++)a[i].reverse();a.reverse()}return a};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(18),o=t(11),a=t(15),s=t(1043),i=t(1044),r=t(212),l=t(10),n=t(1045),h=new e({Extends:a,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Texture,o.Tint,o.Transform,o.Visible,n],initialize:function(v,f,c,g,m,x,y){m===void 0&&(m=""),y===void 0&&(y=0),a.call(this,v,"BitmapText"),this.font=g;var T=this.scene.sys.cache.bitmapFont.get(g);T||console.warn("Invalid BitmapText key: "+g),this.fontData=T.data,this._text="",this._fontSize=x||this.fontData.size,this._letterSpacing=0,this._align=y,this._bounds=s(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=T.fromAtlas,this.setTexture(T.texture,T.frame),this.setPosition(f,c),this.setOrigin(0,0),this.initPipeline(),this.setText(m)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(u){return this._fontSize=u,this._dirty=!0,this},setLetterSpacing:function(u){return u===void 0&&(u=0),this._letterSpacing=u,this._dirty=!0,this},setText:function(u){return!u&&u!==0&&(u=""),Array.isArray(u)&&(u=u.join(`
`)),u!==this.text&&(this._text=u.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(u,v,f,c){return u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=0),c===void 0&&(c=.5),this.dropShadowX=u,this.dropShadowY=v,this.dropShadowColor=f,this.dropShadowAlpha=c,this},setCharacterTint:function(u,v,f,c,g,m,x){u===void 0&&(u=0),v===void 0&&(v=1),f===void 0&&(f=!1),c===void 0&&(c=-1),g===void 0&&(g=c,m=c,x=c);var y=this.text.length;v===-1&&(v=y),u<0&&(u=y+u),u=d(u,0,y-1);for(var T=d(u+v,u,y),E=this.charColors,R=u;R<T;R++){var M=E[R];if(c===-1)E[R]=null;else{var P=f?1:0;M?(M.tintEffect=P,M.tintTL=c,M.tintTR=g,M.tintBL=m,M.tintBR=x):E[R]={tintEffect:P,tintTL:c,tintTR:g,tintBL:m,tintBR:x}}}return this},setWordTint:function(u,v,f,c,g,m,x){v===void 0&&(v=1);for(var y=this.getTextBounds(),T=y.words,E=typeof u=="number",R=0,M=0;M<T.length;M++){var P=T[M];if((E&&M===u||!E&&P.word===u)&&(this.setCharacterTint(P.i,P.word.length,f,c,g,m,x),R++,R===v))return this}return this},getTextBounds:function(u){var v=this._bounds;return(this._dirty||u||this.scaleX!==v.scaleX||this.scaleY!==v.scaleY)&&(s(this,u,!0,v),this._dirty=!1),v},getCharacterAt:function(u,v,f){for(var c=this.getLocalPoint(u,v,null,f),g=this.getTextBounds(),m=g.characters,x=new l,y=0;y<m.length;y++){var T=m[y];if(x.setTo(T.x,T.t,T.r-T.x,T.b),x.contains(c.x,c.y))return T}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(u,v,f){if(v===void 0&&(v=this._fontSize),f===void 0&&(f=this._align),u!==this.font){var c=this.scene.sys.cache.bitmapFont.get(u);c&&(this.font=u,this.fontData=c.data,this._fontSize=v,this._align=f,this.fromAtlas=c.fromAtlas===!0,this.setTexture(c.texture,c.frame),s(this,!1,!0,this._bounds))}return this},setMaxWidth:function(u,v){return this._maxWidth=u,this._dirty=!0,v!==void 0&&(this.wordWrapCharCode=v),this},align:{set:function(u){this._align=u,this._dirty=!0},get:function(){return this._align}},text:{set:function(u){this.setText(u)},get:function(){return this._text}},fontSize:{set:function(u){this._fontSize=u,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(u){this._letterSpacing=u,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(u){this._maxWidth=u,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var u=o.ToJSON(this),v={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return u.data=v,u},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=i,h.ParseXMLBitmapFont=r,p.exports=h},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var s=0;s<a.length;s++)this.set(a[s])},set:function(o){return this.entries.indexOf(o)===-1&&this.entries.push(o),this},get:function(o,a){for(var s=0;s<this.entries.length;s++){var i=this.entries[s];if(i[o]===a)return i}},getArray:function(){return this.entries.slice(0)},delete:function(o){var a=this.entries.indexOf(o);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var o=0;o<this.entries.length;o++){var a=this.entries[o];console.log(a)}console.groupEnd()},each:function(o,a){var s,i=this.entries.slice(),r=i.length;if(a)for(s=0;s<r&&o.call(a,i[s],s)!==!1;s++);else for(s=0;s<r&&o(i[s],s)!==!1;s++);return this},iterate:function(o,a){var s,i=this.entries.length;if(a)for(s=0;s<i&&o.call(a,this.entries[s],s)!==!1;s++);else for(s=0;s<i&&o(this.entries[s],s)!==!1;s++);return this},iterateLocal:function(o){var a,s=[];for(a=1;a<arguments.length;a++)s.push(arguments[a]);var i=this.entries.length;for(a=0;a<i;a++){var r=this.entries[a];r[o].apply(r,s)}return this},clear:function(){return this.entries.length=0,this},contains:function(o){return this.entries.indexOf(o)>-1},union:function(o){var a=new d;return o.entries.forEach(function(s){a.set(s)}),this.entries.forEach(function(s){a.set(s)}),a},intersect:function(o){var a=new d;return this.entries.forEach(function(s){o.contains(s)&&a.set(s)}),a},difference:function(o){var a=new d;return this.entries.forEach(function(s){o.contains(s)||a.set(s)}),a},size:{get:function(){return this.entries.length},set:function(o){return o<this.entries.length?this.entries.length=o:this.entries.length}}});p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(15),a=t(189),s=t(92),i=t(1182),r=new e({Extends:o,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Pipeline,d.ScrollFactor,d.Transform,d.Visible,i],initialize:function(n,h,u,v,f,c,g){v===void 0&&(v=16777215),f===void 0&&(f=128),c===void 0&&(c=1),g===void 0&&(g=.1),o.call(this,n,"PointLight"),this.initPipeline(s.POINTLIGHT_PIPELINE),this.setPosition(h,u),this.color=a(v),this.intensity=c,this.attenuation=g,this.width=f*2,this.height=f*2,this._radius=f},radius:{get:function(){return this._radius},set:function(l){this._radius=l,this.width=l*2,this.height=l*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});p.exports=r},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=d.width/2,a=d.height/2,s=Math.abs(e.x-d.x-o),i=Math.abs(e.y-d.y-a),r=o+e.radius,l=a+e.radius;if(s>r||i>l)return!1;if(s<=o||i<=a)return!0;var n=s-o,h=i-a,u=n*n,v=h*h,f=e.radius*e.radius;return u+v<=f};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.width<=0||e.height<=0||d.width<=0||d.height<=0?!1:!(e.right<d.x||e.bottom<d.y||e.x>d.right||e.y>d.bottom)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),d={},o={};o.register=function(a,s,i,r,l){d[a]={plugin:s,mapping:i,settingsKey:r,configKey:l}},o.getPlugin=function(a){return d[a]},o.install=function(a){var s=a.scene.sys,i=s.settings.input,r=s.game.config;for(var l in d){var n=d[l].plugin,h=d[l].mapping,u=d[l].settingsKey,v=d[l].configKey;e(i,u,r[v])&&(a[h]=new n(a))}},o.remove=function(a){d.hasOwnProperty(a)&&delete d[a]},p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ANY_KEY_DOWN:t(1323),ANY_KEY_UP:t(1324),COMBO_MATCH:t(1325),DOWN:t(1326),KEY_DOWN:t(1327),KEY_UP:t(1328),UP:t(1329)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.url?e.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e.url:d+e.url:!1};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s,i){return e===void 0&&(e=""),d===void 0&&(d=!0),o===void 0&&(o=""),a===void 0&&(a=""),s===void 0&&(s=0),i===void 0&&(i=!1),{responseType:e,async:d,user:o,password:a,timeout:s,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:i}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(243),o=t(73),a=new e({Extends:o,Mixins:[d.Acceleration,d.Angular,d.Bounce,d.Debug,d.Drag,d.Enable,d.Friction,d.Gravity,d.Immovable,d.Mass,d.Pushable,d.Size,d.Velocity],initialize:function(i,r,l,n,h){o.call(this,i,r,l,n,h),this.body=null}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),d=function(o,a,s,i){if(s===void 0&&(s=!1),e(o,a,i)){var r=i.data[a][o]||null;return r?r.index===-1?s?r:null:r:null}else return null};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=e.data,i=e.width,r=e.height,l=e.tilemapLayer,n=Math.max(0,d.left),h=Math.min(i,d.right),u=Math.max(0,d.top),v=Math.min(r,d.bottom),f,c,g;if(o===0)for(c=u;c<v;c++)for(f=n;s[c]&&f<h;f++)g=s[c][f],!(!g||g.index===-1||!g.visible||g.alpha===0)&&a.push(g);else if(o===1)for(c=u;c<v;c++)for(f=h;s[c]&&f>=n;f--)g=s[c][f],!(!g||g.index===-1||!g.visible||g.alpha===0)&&a.push(g);else if(o===2)for(c=v;c>=u;c--)for(f=n;s[c]&&f<h;f++)g=s[c][f],!(!g||g.index===-1||!g.visible||g.alpha===0)&&a.push(g);else if(o===3)for(c=v;c>=u;c--)for(f=h;s[c]&&f>=n;f--)g=s[c][f],!(!g||g.index===-1||!g.visible||g.alpha===0)&&a.push(g);return l.tilesDrawn=a.length,l.tilesTotal=i*r,a};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=o.collideIndexes.indexOf(e);d&&a===-1?o.collideIndexes.push(e):!d&&a!==-1&&o.collideIndexes.splice(a,1)};p.exports=t},function(p,C,t){/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),d=function(o,a,s){if(!a)return{i:0,layers:o.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=a.x+e(a,"startx",0)*o.tilewidth+e(a,"offsetx",0),r=a.y+e(a,"starty",0)*o.tileheight+e(a,"offsety",0);return{i:0,layers:a.layers,name:s.name+a.name+"/",opacity:s.opacity*a.opacity,visible:s.visible&&a.visible,x:s.x+i,y:s.y+r}};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a;if(e.hasOwnProperty(d)){var s=typeof e[d];s==="function"?a=function(i,r,l,n,h,u){return e[d](i,r,l,n,h,u)}:a=function(){return e[d]}}else typeof o=="function"?a=o:a=function(){return o};return a};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),d=t(13),o=t(99),a=t(80),s=t(162),i=t(583),r=t(263),l=t(6),n=t(264),h=t(266),u=t(268),v=function(f,c,g){g===void 0&&(g=e);for(var m=g.targets?g.targets:r(c),x=i(c),y=s(c,"delay",g.delay),T=s(c,"duration",g.duration),E=l(c,"easeParams",g.easeParams),R=a(l(c,"ease",g.ease),E),M=s(c,"hold",g.hold),P=s(c,"repeat",g.repeat),O=s(c,"repeatDelay",g.repeatDelay),I=o(c,"yoyo",g.yoyo),B=o(c,"flipX",g.flipX),w=o(c,"flipY",g.flipY),z=[],H=0;H<x.length;H++)for(var b=x[H].key,Q=x[H].value,D=0;D<m.length;D++){var F=n(b,Q),G=u(m[D],D,b,F.getEnd,F.getStart,F.getActive,a(l(Q,"ease",R),l(Q,"easeParams",E)),s(Q,"delay",y),s(Q,"duration",T),o(Q,"yoyo",I),s(Q,"hold",M),s(Q,"repeat",P),s(Q,"repeatDelay",O),o(Q,"flipX",B),o(Q,"flipY",w));z.push(G)}var N=new h(f,z,m);N.offset=d(c,"offset",null),N.completeDelay=d(c,"completeDelay",0),N.loop=Math.round(d(c,"loop",0)),N.loopDelay=Math.round(d(c,"loopDelay",0)),N.paused=o(c,"paused",!1),N.useFrames=o(c,"useFrames",!1);for(var X=l(c,"callbackScope",N),V=[N,null],W=h.TYPES,Z=0;Z<W.length;Z++){var et=W[Z],it=l(c,et,!1);if(it){var ht=l(c,et+"Scope",X),vt=l(c,et+"Params",[]);N.setCallback(et,it,V.concat(vt),ht)}}return N};p.exports=v},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(102),o=t(2),a=t(132),s=t(185),i=new e({initialize:function(l){this.parent=l,this.animationManager=l.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(r){var l=this.parent;if(r===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,l;Array.isArray(r)||(r=[r]);for(var n=0;n<r.length;n++){var h=r[n];this.nextAnim===null?this.nextAnim=h:this.nextAnimsQueue.push(h)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(r){this.isPlaying&&this.stop();var l=this.animationManager,n=typeof r=="string"?r:o(r,"key",null),h=this.exists(n)?this.get(n):l.get(n);if(!h)console.warn("Missing animation: "+n);else{this.currentAnim=h;var u=h.getTotalFrames(),v=o(r,"frameRate",h.frameRate),f=o(r,"duration",h.duration);h.calculateDuration(this,u,f,v),this.delay=o(r,"delay",h.delay),this.repeat=o(r,"repeat",h.repeat),this.repeatDelay=o(r,"repeatDelay",h.repeatDelay),this.yoyo=o(r,"yoyo",h.yoyo),this.showOnStart=o(r,"showOnStart",h.showOnStart),this.hideOnComplete=o(r,"hideOnComplete",h.hideOnComplete),this.skipMissedFrames=o(r,"skipMissedFrames",h.skipMissedFrames),this.timeScale=o(r,"timeScale",this.timeScale);var c=o(r,"startFrame",0);c>h.getTotalFrames()&&(c=0);var g=h.frames[c];c===0&&!this.forward&&(g=h.getLastFrame()),this.currentFrame=g}return this.parent},pause:function(r){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),r!==void 0&&this.setCurrentFrame(r),this.parent},resume:function(r){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),r!==void 0&&this.setCurrentFrame(r),this.parent},playAfterDelay:function(r,l){if(!this.isPlaying)this.delayCounter=l,this.play(r,!0);else{var n=this.nextAnim,h=this.nextAnimsQueue;n&&h.unshift(n),this.nextAnim=r,this._pendingStop=1,this._pendingStopValue=l}return this.parent},playAfterRepeat:function(r,l){if(l===void 0&&(l=1),!this.isPlaying)this.play(r);else{var n=this.nextAnim,h=this.nextAnimsQueue;n&&h.unshift(n),this.repeatCounter!==-1&&l>this.repeatCounter&&(l=this.repeatCounter),this.nextAnim=r,this._pendingStop=2,this._pendingStopValue=l}return this.parent},play:function(r,l){l===void 0&&(l=!1);var n=this.currentAnim,h=this.parent,u=typeof r=="string"?r:r.key;if(l&&this.isPlaying&&n.key===u)return h;if(n&&this.isPlaying){var v=this.animationManager.getMix(n.key,r);if(v>0)return this.playAfterDelay(r,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(r)},playReverse:function(r,l){l===void 0&&(l=!1);var n=typeof r=="string"?r:r.key;return l&&this.isPlaying&&this.currentAnim.key===n?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(r))},startAnimation:function(r){this.load(r);var l=this.currentAnim,n=this.parent;return l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,l.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0&&this.handleStart()),n},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(r,l){var n=this.currentAnim,h=this.currentFrame,u=this.parent,v=h.textureFrame;u.emit(r,n,h,u,v),l&&u.emit(l+n.key,n,h,u,v)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var r=this.currentFrame;if(!r)return 0;var l=r.progress;return this.inReverse&&(l*=-1),l},setProgress:function(r){return this.forward||(r=1-r),this.setCurrentFrame(this.currentAnim.getFrameByProgress(r)),this.parent},setRepeat:function(r){return this.repeatCounter=r===-1?Number.MAX_VALUE:r,this.parent},globalRemove:function(r,l){l===void 0&&(l=this.currentAnim),this.isPlaying&&l.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(r,l){r===void 0&&(r=!1),l===void 0&&(l=!1);var n=this.currentAnim,h=this.parent;return n?(l&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),n.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!r,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(n.frames[0]),this.parent):h},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var r=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(r)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var r=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(r)}return this.parent},stopAfterDelay:function(r){return this._pendingStop=1,this._pendingStopValue=r,this.parent},stopAfterRepeat:function(r){return r===void 0&&(r=1),this.repeatCounter!==-1&&r>this.repeatCounter&&(r=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=r,this.parent},stopOnFrame:function(r){return this._pendingStop=3,this._pendingStopValue=r,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(r,l){var n=this.currentAnim;if(!(!this.isPlaying||!n||n.paused)){if(this.accumulator+=l*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=l,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?n.nextFrame(this):n.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var h=0;do this.forward?n.nextFrame(this):n.previousFrame(this),h++;while(this.isPlaying&&this.accumulator>this.nextTick&&h<60)}}},setCurrentFrame:function(r){var l=this.parent;return this.currentFrame=r,l.texture=r.frame.texture,l.frame=r.frame,l.isCropped&&l.frame.updateCropUVs(l._crop,l.flipX,l.flipY),r.setAlpha&&(l.alpha=r.alpha),l.setSizeToFrame(),l._originComponent&&(r.frame.customPivot?l.setOrigin(r.frame.pivotX,r.frame.pivotY):l.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===r&&this.stop()),l},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(r){return this.anims?this.anims.get(r):null},exists:function(r){return this.anims?this.anims.has(r):!1},create:function(r){var l=r.key,n=!1;return l&&(n=this.get(l),n||(n=new s(this,l,r),this.anims||(this.anims=new d),this.anims.set(l,n))),n},generateFrameNames:function(r,l){return this.animationManager.generateFrameNames(r,l)},generateFrameNumbers:function(r,l){return this.animationManager.generateFrameNumbers(r,l)},remove:function(r){var l=this.get(r);return l&&(this.currentAnim===l&&this.stop(),this.anims.delete(r)),l},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});p.exports=i},function(p,C,t){var e={};p.exports=e;var d=t(166);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(o,a){for(var s=a*a*a,i=0;i<o.length;i++){var r=o[i],l=r.speed*r.speed+r.angularSpeed*r.angularSpeed;if(r.force.x!==0||r.force.y!==0){e.set(r,!1);continue}var n=Math.min(r.motion,l),h=Math.max(r.motion,l);r.motion=e._minBias*n+(1-e._minBias)*h,r.sleepThreshold>0&&r.motion<e._motionSleepThreshold*s?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold&&e.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}},e.afterCollisions=function(o,a){for(var s=a*a*a,i=0;i<o.length;i++){var r=o[i];if(!!r.isActive){var l=r.collision,n=l.bodyA.parent,h=l.bodyB.parent;if(!(n.isSleeping&&h.isSleeping||n.isStatic||h.isStatic)&&(n.isSleeping||h.isSleeping)){var u=n.isSleeping&&!n.isStatic?n:h,v=u===n?h:n;!u.isStatic&&v.motion>e._motionWakeThreshold*s&&e.set(u,!1)}}}},e.set=function(o,a){var s=o.isSleeping;a?(o.isSleeping=!0,o.sleepCounter=o.sleepThreshold,o.positionImpulse.x=0,o.positionImpulse.y=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.speed=0,o.angularSpeed=0,o.motion=0,s||d.trigger(o,"sleepStart")):(o.isSleeping=!1,o.sleepCounter=0,s&&d.trigger(o,"sleepEnd"))}})()},function(p,C,t){var e={};p.exports=e;var d=t(32);(function(){e.on=function(o,a,s){for(var i=a.split(" "),r,l=0;l<i.length;l++)r=i[l],o.events=o.events||{},o.events[r]=o.events[r]||[],o.events[r].push(s);return s},e.off=function(o,a,s){if(!a){o.events={};return}typeof a=="function"&&(s=a,a=d.keys(o.events).join(" "));for(var i=a.split(" "),r=0;r<i.length;r++){var l=o.events[i[r]],n=[];if(s&&l)for(var h=0;h<l.length;h++)l[h]!==s&&n.push(l[h]);o.events[i[r]]=n}},e.trigger=function(o,a,s){var i,r,l,n,h=o.events;if(h&&d.keys(h).length>0){s||(s={}),i=a.split(" ");for(var u=0;u<i.length;u++)if(r=i[u],l=h[r],l){n=d.clone(s,!1),n.name=r,n.source=o;for(var v=0;v<l.length;v++)l[v].apply(o,[n])}}}})()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(175),d=t(92),o=t(74),a={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(s){s===void 0&&(s=d.MULTI_PIPELINE);var i=this.scene.sys.renderer;if(!i)return!1;var r=i.pipelines;if(this.postPipelines=[],this.pipelineData={},r){var l=r.get(s);if(l)return this.defaultPipeline=l,this.pipeline=l,!0}return!1},setPipeline:function(s,i,r){var l=this.scene.sys.renderer;if(!l)return this;var n=l.pipelines;if(n){var h=n.get(s);h&&(this.pipeline=h),i&&(this.pipelineData=r?e(i):i)}return this},setPostPipeline:function(s,i,r){var l=this.scene.sys.renderer;if(!l)return this;var n=l.pipelines;if(n){Array.isArray(s)||(s=[s]);for(var h=0;h<s.length;h++){var u=n.getPostPipeline(s[h],this);u&&this.postPipelines.push(u)}i&&(this.pipelineData=r?e(i):i)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(s,i){var r=this.pipelineData;return i===void 0?delete r[s]:r[s]=i,this},getPostPipeline:function(s){for(var i=this.postPipelines,r=[],l=0;l<i.length;l++){var n=i[l];(typeof s=="string"&&n.name===s||n instanceof s)&&r.push(n)}return r.length===1?r[0]:r},resetPipeline:function(s,i){return s===void 0&&(s=!1),i===void 0&&(i=!1),this.pipeline=this.defaultPipeline,s&&(this.postPipelines=[],this.hasPostPipeline=!1),i&&(this.pipelineData={}),this.pipeline!==null},resetPostPipeline:function(s){s===void 0&&(s=!1);for(var i=this.postPipelines,r=0;r<i.length;r++)i[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,s&&(this.pipelineData={})},removePostPipeline:function(s){for(var i=this.postPipelines,r=i.length-1;r>=0;r--){var l=i[r];(typeof s=="string"&&l.name===s||typeof s!="string"&&l instanceof s)&&(l.destroy(),o(i,r))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DEFAULT:0,LINEAR:0,NEAREST:1};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a,s){return s===void 0&&(s=new e),s.x=o.x+o.radius*Math.cos(a),s.y=o.y+o.radius*Math.sin(a),s};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){a===void 0&&(a=new e);var s=2*Math.PI*Math.random(),i=Math.random()+Math.random(),r=i>1?2-i:i,l=r*Math.cos(s),n=r*Math.sin(s);return a.x=o.x+l*o.radius,a.y=o.y+n*o.radius,a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),d=t(4),o=function(a,s,i){if(i===void 0&&(i=new d),s<=0||s>=1)return i.x=a.x,i.y=a.y,i;var r=e(a)*s;return s>.5?(r-=a.width+a.height,r<=a.width?(i.x=a.right-r,i.y=a.bottom):(i.x=a.x,i.y=a.bottom-(r-a.width))):r<=a.width?(i.x=a.x+r,i.y=a.y):(i.x=a.right,i.y=a.y+(r-a.width)),i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),d=t(4),o=function(a,s,i,r){r===void 0&&(r=[]),!s&&i>0&&(s=e(a)/i);for(var l=a.x1,n=a.y1,h=a.x2,u=a.y2,v=0;v<s;v++){var f=v/s,c=l+(h-l)*f,g=n+(u-n)*f;r.push(new d(c,g))}return r};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){a===void 0&&(a=new e);var s=Math.random();return a.x=o.x1+s*(o.x2-o.x1),a.y=o.y1+s*(o.y2-o.y1),a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){return a===void 0&&(a=new e),a.x=o.x+Math.random()*o.width,a.y=o.y+Math.random()*o.height,a};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d,o,a;if(typeof e!="object"||e===null)return e;d=Array.isArray(e)?[]:{};for(a in e)o=e[a],d[a]=t(o);return d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(d.textureKey=e.texture.key,d.frameKey=e.frame.name),d};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),d=function(o,a,s,i,r,l,n,h){h===void 0&&(h=new e);var u=Math.sin(r),v=Math.cos(r),f=v*l,c=u*l,g=-u*n,m=v*n,x=1/(f*m+g*-c);return h.x=m*x*o+-g*x*a+(i*g-s*m)*x,h.y=f*x*a+-c*x*o+(-i*f+s*c)*x,h};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d===void 0&&(d=1);for(var o=null,a=0;a<d;a++)o=e.shift(),e.push(o);return o};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d===void 0&&(d=1);for(var o=null,a=0;a<d;a++)o=e.pop(),e.unshift(o);return o};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){a===void 0&&(a=new e);var s=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return a.x=o.x+i*Math.cos(s)*o.width/2,a.y=o.y+i*Math.sin(s)*o.height/2,a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){a===void 0&&(a=new e);var s=o.x2-o.x1,i=o.y2-o.y1,r=o.x3-o.x1,l=o.y3-o.y1,n=Math.random(),h=Math.random();return n+h>=1&&(n=1-n,h=1-h),a.x=o.x1+(s*n+r*h),a.y=o.y1+(i*n+l*h),a};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s){var i=a+Math.atan2(e.y-o,e.x-d);return e.x=d+s*Math.cos(i),e.y=o+s*Math.sin(i),e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e=Math.max(0,Math.min(1,(e-d)/(o-d))),e*e*e*(e*(e*6-15)+10)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e<=d?0:e>=o?1:(e=(e-d)/(o-d),e*e*(3-2*e))};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=t(0),o=t(132),a=t(318),s=t(319),i=t(6),r=t(320),l=new d({initialize:function(h,u,v){this.manager=h,this.key=u,this.type="frame",this.frames=this.getFrames(h.textureManager,i(v,"frames",[]),i(v,"defaultTextureKey",null),i(v,"sortFrames",!0)),this.frameRate=i(v,"frameRate",null),this.duration=i(v,"duration",null),this.msPerFrame,this.skipMissedFrames=i(v,"skipMissedFrames",!0),this.delay=i(v,"delay",0),this.repeat=i(v,"repeat",0),this.repeatDelay=i(v,"repeatDelay",0),this.yoyo=i(v,"yoyo",!1),this.showOnStart=i(v,"showOnStart",!1),this.hideOnComplete=i(v,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(o.PAUSE_ALL,this.pause,this),this.manager.on(o.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(n,h,u,v){u===null&&v===null?(n.frameRate=24,n.duration=24/h*1e3):u&&v===null?(n.duration=u,n.frameRate=h/(u/1e3)):(n.frameRate=v,n.duration=h/v*1e3),n.msPerFrame=1e3/n.frameRate},addFrame:function(n){return this.addFrameAt(this.frames.length,n)},addFrameAt:function(n,h){var u=this.getFrames(this.manager.textureManager,h);if(u.length>0){if(n===0)this.frames=u.concat(this.frames);else if(n===this.frames.length)this.frames=this.frames.concat(u);else{var v=this.frames.slice(0,n),f=this.frames.slice(n);this.frames=v.concat(u,f)}this.updateFrameSequence()}return this},checkFrame:function(n){return n>=0&&n<this.frames.length},getFirstTick:function(n){n.accumulator=0,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameAt:function(n){return this.frames[n]},getFrames:function(n,h,u,v){v===void 0&&(v=!0);var f=[],c,g,m=1,x,y;if(typeof h=="string"){y=h;var T=n.get(y),E=T.getFrameNames();v&&r(E),h=[],E.forEach(function(B){h.push({key:y,frame:B})})}if(!Array.isArray(h)||h.length===0)return f;for(x=0;x<h.length;x++){var R=h[x],M=i(R,"key",u);if(!!M){var P=i(R,"frame",0),O=n.getFrame(M,P);g=new s(M,P,m,O),g.duration=i(R,"duration",0),g.isFirst=!c,c&&(c.nextFrame=g,g.prevFrame=c),f.push(g),c=g,m++}}if(f.length>0){g.isLast=!0,g.nextFrame=f[0],f[0].prevFrame=g;var I=1/(f.length-1);for(x=0;x<f.length;x++)f[x].progress=x*I}return f},getNextTick:function(n){n.accumulator-=n.nextTick,n.nextTick=n.msPerFrame+n.currentFrame.duration},getFrameByProgress:function(n){return n=e(n,0,1),a(n,this.frames,"progress")},nextFrame:function(n){var h=n.currentFrame;h.isLast?n.yoyo?this.handleYoyoFrame(n,!1):n.repeatCounter>0?n.inReverse&&n.forward?n.forward=!1:this.repeatAnimation(n):n.complete():this.updateAndGetNextTick(n,h.nextFrame)},handleYoyoFrame:function(n,h){if(h||(h=!1),n.inReverse===!h&&n.repeatCounter>0){(n.repeatDelay===0||n.pendingRepeat)&&(n.forward=h),this.repeatAnimation(n);return}if(n.inReverse!==h&&n.repeatCounter===0){n.complete();return}n.forward=h;var u=h?n.currentFrame.nextFrame:n.currentFrame.prevFrame;this.updateAndGetNextTick(n,u)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(n){var h=n.currentFrame;h.isFirst?n.yoyo?this.handleYoyoFrame(n,!0):n.repeatCounter>0?n.inReverse&&!n.forward?this.repeatAnimation(n):(n.forward=!0,this.repeatAnimation(n)):n.complete():this.updateAndGetNextTick(n,h.prevFrame)},updateAndGetNextTick:function(n,h){n.setCurrentFrame(h),this.getNextTick(n)},removeFrame:function(n){var h=this.frames.indexOf(n);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(n){return this.frames.splice(n,1),this.updateFrameSequence(),this},repeatAnimation:function(n){if(n._pendingStop===2){if(n._pendingStopValue===0)return n.stop();n._pendingStopValue--}n.repeatDelay>0&&!n.pendingRepeat?(n.pendingRepeat=!0,n.accumulator-=n.nextTick,n.nextTick+=n.repeatDelay):(n.repeatCounter--,n.forward?n.setCurrentFrame(n.currentFrame.nextFrame):n.setCurrentFrame(n.currentFrame.prevFrame),n.isPlaying&&(this.getNextTick(n),n.handleRepeat()))},toJSON:function(){var n={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){n.frames.push(h.toJSON())}),n},updateFrameSequence:function(){for(var n=this.frames.length,h=1/(n-1),u,v=0;v<n;v++)u=this.frames[v],u.index=v+1,u.isFirst=!1,u.isLast=!1,u.progress=v*h,v===0?(u.isFirst=!0,n===1?(u.isLast=!0,u.nextFrame=u,u.prevFrame=u):(u.isLast=!1,u.prevFrame=this.frames[n-1],u.nextFrame=this.frames[v+1])):v===n-1&&n>1?(u.isLast=!0,u.prevFrame=this.frames[n-2],u.nextFrame=this.frames[0]):n>1&&(u.prevFrame=this.frames[v-1],u.nextFrame=this.frames[v+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(o.PAUSE_ALL,this.pause,this),this.manager.off(o.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var n=0;n<this.frames.length;n++)this.frames[n].destroy();this.frames=[],this.manager=null}});p.exports=l},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){d===void 0&&(d=0),o===void 0&&(o=" "),a===void 0&&(a=3),e=e.toString();var s=0;if(d+1>=e.length)switch(a){case 1:e=new Array(d+1-e.length).join(o)+e;break;case 3:var i=Math.ceil((s=d-e.length)/2),r=s-i;e=new Array(r+1).join(o)+e+new Array(i+1).join(o);break;default:e=e+new Array(d+1-e.length).join(o);break}return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(327),d=t(189),o=t(331),a=t(332),s=function(i){var r=typeof i;switch(r){case"string":return i.substr(0,3).toLowerCase()==="rgb"?a(i):e(i);case"number":return d(i);case"object":return o(i)}};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103);function d(a,s,i,r){var l=(a+s*6)%6,n=Math.min(l,4-l,1);return Math.round(255*(r-r*i*Math.max(0,n)))}var o=function(a,s,i,r){s===void 0&&(s=1),i===void 0&&(i=1);var l=d(5,a,s,i),n=d(3,a,s,i),h=d(1,a,s,i);return r?r.setTo?r.setTo(l,n,h,r.alpha,!1):(r.r=l,r.g=n,r.b=h,r.color=e(l,n,h),r):{r:l,g:n,b:h,color:e(l,n,h)}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),d=t(330),o=function(a){var s=d(a);return new e(s.r,s.g,s.b,s.a)};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e.x=d-e.width/2,e.y=o-e.height/2,e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),d=t(136),o=t(31),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function s(){var r=new ArrayBuffer(4),l=new Uint8Array(r),n=new Uint32Array(r);return l[0]=161,l[1]=178,l[2]=195,l[3]=212,n[0]===3569595041?!0:n[0]===2712847316?!1:null}function i(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch(n){a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var r=!1,l=function(){if(window.WebGLRenderingContext)try{var n=o.createWebGL(this),h=n.getContext("webgl")||n.getContext("experimental-webgl"),u=o.create2D(this),v=u.getContext("2d"),f=v.createImageData(1,1);return r=f.data instanceof Uint8ClampedArray,o.remove(n),o.remove(u),!!h}catch(c){return!1}return!1};return a.webGL=l(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,d.firefox&&d.firefoxVersion<21&&(a.getUserMedia=!1),!e.iOS&&(d.ie||d.firefox||d.chrome)&&(a.canvasBitBltShift=!0),(d.safari||d.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint32Array!="undefined"&&(a.littleEndian=s()),a.support32bit=typeof ArrayBuffer!="undefined"&&typeof Uint8ClampedArray!="undefined"&&typeof Int32Array!="undefined"&&a.littleEndian!==null&&r,a}p.exports=i()},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="",e=function(){var d=function(i){for(var r=["i","webkitI","msI","mozI","oI"],l=0;l<r.length;l++){var n=r[l]+"mageSmoothingEnabled";if(n in i)return n}return null},o=function(i){return t===""&&(t=d(i)),t&&(i[t]=!0),i},a=function(i){return t===""&&(t=d(i)),t&&(i[t]=!1),i},s=function(i){return t!==null?i[t]:null};return{disable:a,enable:o,getPrefix:d,isEnabled:s}};p.exports=e()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),d=t(17),o={Angle:t(812),Distance:t(821),Easing:t(826),Fuzzy:t(827),Interpolation:t(830),Pow2:t(835),Snap:t(837),RandomDataGenerator:t(839),Average:t(840),Bernstein:t(356),Between:t(195),CatmullRom:t(194),CeilTo:t(841),Clamp:t(18),DegToRad:t(36),Difference:t(842),Euler:t(843),Factorial:t(357),FloatBetween:t(137),FloorTo:t(844),FromPercent:t(98),GetSpeed:t(845),IsEven:t(846),IsEvenStrict:t(847),Linear:t(135),MaxAdd:t(848),Median:t(849),MinSub:t(850),Percent:t(851),RadToDeg:t(196),RandomXY:t(852),RandomXYZ:t(853),RandomXYZW:t(854),Rotate:t(362),RotateAround:t(308),RotateAroundDistance:t(182),RotateTo:t(855),RoundAwayFromZero:t(363),RoundTo:t(856),SinCosTableGenerator:t(857),SmootherStep:t(183),SmoothStep:t(184),ToXY:t(858),TransformXY:t(177),Within:t(859),Wrap:t(68),Vector2:t(3),Vector3:t(39),Vector4:t(140),Matrix3:t(364),Matrix4:t(69),Quaternion:t(365),RotateVec3:t(860)};o=d(!1,o,e),p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s){var i=(a-d)*.5,r=(s-o)*.5,l=e*e,n=e*l;return(2*o-2*a+i+r)*n+(-3*o+3*a-2*i-r)*l+i*e+o};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return Math.floor(Math.random()*(d-e+1)+e)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),d=function(o){return o*e.RAD_TO_DEG};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(o){return this._matrix=o,this._dirty=!0,this},reset:function(){var o=this._matrix;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=1,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=0,o[12]=1,o[13]=0,o[14]=0,o[15]=0,o[16]=0,o[17]=0,o[18]=1,o[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var o=new Float32Array(this._matrix);o[4]/=255,o[9]/=255,o[14]/=255,o[19]/=255,this._data=o,this._dirty=!1}return this._data},brightness:function(o,a){o===void 0&&(o=0),a===void 0&&(a=!1);var s=o;return this.multiply([s,0,0,0,0,0,s,0,0,0,0,0,s,0,0,0,0,0,1,0],a)},saturate:function(o,a){o===void 0&&(o=0),a===void 0&&(a=!1);var s=o*2/3+1,i=(s-1)*-.5;return this.multiply([s,i,i,0,0,i,s,i,0,0,i,i,s,0,0,0,0,0,1,0],a)},desaturate:function(o){return o===void 0&&(o=!1),this.saturate(-1,o)},hue:function(o,a){o===void 0&&(o=0),a===void 0&&(a=!1),o=o/180*Math.PI;var s=Math.cos(o),i=Math.sin(o),r=.213,l=.715,n=.072;return this.multiply([r+s*(1-r)+i*-r,l+s*-l+i*-l,n+s*-n+i*(1-n),0,0,r+s*-r+i*.143,l+s*(1-l)+i*.14,n+s*-n+i*-.283,0,0,r+s*-r+i*-(1-r),l+s*-l+i*l,n+s*(1-n)+i*n,0,0,0,0,0,1,0],a)},grayscale:function(o,a){return o===void 0&&(o=1),a===void 0&&(a=!1),this.saturate(-o,a)},blackWhite:function(o){return o===void 0&&(o=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],o)},contrast:function(o,a){o===void 0&&(o=0),a===void 0&&(a=!1);var s=o+1,i=-.5*(s-1);return this.multiply([s,0,0,0,i,0,s,0,0,i,0,0,s,0,i,0,0,0,1,0],a)},negative:function(o){return o===void 0&&(o=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],o)},desaturateLuminance:function(o){return o===void 0&&(o=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],o)},sepia:function(o){return o===void 0&&(o=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],o)},night:function(o,a){return o===void 0&&(o=.1),a===void 0&&(a=!1),this.multiply([o*-2,-o,0,0,0,-o,0,o,0,0,0,o,o*2,0,0,0,0,0,1,0],a)},lsd:function(o){return o===void 0&&(o=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],o)},brown:function(o){return o===void 0&&(o=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],o)},vintagePinhole:function(o){return o===void 0&&(o=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],o)},kodachrome:function(o){return o===void 0&&(o=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],o)},technicolor:function(o){return o===void 0&&(o=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],o)},polaroid:function(o){return o===void 0&&(o=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],o)},shiftToBGR:function(o){return o===void 0&&(o=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],o)},multiply:function(o,a){a||this.reset();for(var s=this._matrix,i=[],r=0;r<20;r++)i[r]=s[r];return s[0]=i[0]*o[0]+i[1]*o[5]+i[2]*o[10]+i[3]*o[15],s[1]=i[0]*o[1]+i[1]*o[6]+i[2]*o[11]+i[3]*o[16],s[2]=i[0]*o[2]+i[1]*o[7]+i[2]*o[12]+i[3]*o[17],s[3]=i[0]*o[3]+i[1]*o[8]+i[2]*o[13]+i[3]*o[18],s[4]=i[0]*o[4]+i[1]*o[9]+i[2]*o[14]+i[3]*o[19]+i[4],s[5]=i[5]*o[0]+i[6]*o[5]+i[7]*o[10]+i[8]*o[15],s[6]=i[5]*o[1]+i[6]*o[6]+i[7]*o[11]+i[8]*o[16],s[7]=i[5]*o[2]+i[6]*o[7]+i[7]*o[12]+i[8]*o[17],s[8]=i[5]*o[3]+i[6]*o[8]+i[7]*o[13]+i[8]*o[18],s[9]=i[5]*o[4]+i[6]*o[9]+i[7]*o[14]+i[8]*o[19]+i[9],s[10]=i[10]*o[0]+i[11]*o[5]+i[12]*o[10]+i[13]*o[15],s[11]=i[10]*o[1]+i[11]*o[6]+i[12]*o[11]+i[13]*o[16],s[12]=i[10]*o[2]+i[11]*o[7]+i[12]*o[12]+i[13]*o[17],s[13]=i[10]*o[3]+i[11]*o[8]+i[12]*o[13]+i[13]*o[18],s[14]=i[10]*o[4]+i[11]*o[9]+i[12]*o[14]+i[13]*o[19]+i[14],s[15]=i[15]*o[0]+i[16]*o[5]+i[17]*o[10]+i[18]*o[15],s[16]=i[15]*o[1]+i[16]*o[6]+i[17]*o[11]+i[18]*o[16],s[17]=i[15]*o[2]+i[16]*o[7]+i[17]*o[12]+i[18]*o[17],s[18]=i[15]*o[3]+i[16]*o[8]+i[17]*o[13]+i[18]*o[18],s[19]=i[15]*o[4]+i[16]*o[9]+i[17]*o[14]+i[18]*o[19]+i[19],this._dirty=!0,this}});p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=t(14),o=function(a,s){if(s===void 0&&(s=new e),a.length===0)return s;for(var i=Number.MAX_VALUE,r=Number.MAX_VALUE,l=d.MIN_SAFE_INTEGER,n=d.MIN_SAFE_INTEGER,h,u,v,f=0;f<a.length;f++)h=a[f],Array.isArray(h)?(u=h[0],v=h[1]):(u=h.x,v=h.y),i=Math.min(i,u),r=Math.min(r,v),l=Math.max(l,u),n=Math.max(n,v);return s.x=i,s.y=r,s.width=l-i,s.height=n-r,s};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(1),o=new e({initialize:function(s,i,r){this._rgb=[0,0,0],this.onChangeCallback=d,this.dirty=!1,this.set(s,i,r)},set:function(a,s,i){return a===void 0&&(a=0),s===void 0&&(s=0),i===void 0&&(i=0),this._rgb=[a,s,i],this.onChange(),this},equals:function(a,s,i){var r=this._rgb;return r.r===a&&r.g===s&&r.b===i},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={CENTER:t(403),ORIENTATION:t(404),SCALE_MODE:t(405),ZOOM:t(406)};p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){e.parentNode&&e.parentNode.removeChild(e)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(144),o=t(197),a=t(20),s=t(419),i=t(420),r=t(33),l=t(1),n=t(421),h=new e({initialize:function(v,f){this.scene=v,this.game,this.renderer,this.config=f,this.settings=n.create(f),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=l},init:function(u){this.settings.status=d.INIT,this.sceneUpdate=l,this.game=u,this.renderer=u.renderer,this.canvas=u.canvas,this.context=u.context;var v=u.plugins;this.plugins=v,v.addToScene(this,o.Global,[o.CoreScene,i(this),s(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(u,v){var f=this.events;f.emit(a.PRE_UPDATE,u,v),f.emit(a.UPDATE,u,v),this.sceneUpdate.call(this.scene,u,v),f.emit(a.POST_UPDATE,u,v)},render:function(u){var v=this.displayList;v.depthSort(),this.events.emit(a.PRE_RENDER,u),this.cameras.render(u,v),this.events.emit(a.RENDER,u)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(u){var v=this.events,f=this.settings;return this.settings.active&&(f.status=d.PAUSED,f.active=!1,v.emit(a.PAUSE,this,u)),this},resume:function(u){var v=this.events,f=this.settings;return this.settings.active||(f.status=d.RUNNING,f.active=!0,v.emit(a.RESUME,this,u)),this},sleep:function(u){var v=this.events,f=this.settings;return f.status=d.SLEEPING,f.active=!1,f.visible=!1,v.emit(a.SLEEP,this,u),this},wake:function(u){var v=this.events,f=this.settings;return f.status=d.RUNNING,f.active=!0,f.visible=!0,v.emit(a.WAKE,this,u),f.isTransition&&v.emit(a.TRANSITION_WAKE,f.transitionFrom,f.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===d.SLEEPING},isActive:function(){return this.settings.status===d.RUNNING},isPaused:function(){return this.settings.status===d.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(u){return this.settings.visible=u,this},setActive:function(u,v){return u?this.resume(v):this.pause(v)},start:function(u){var v=this.events,f=this.settings;u&&(f.data=u),f.status=d.START,f.active=!0,f.visible=!0,v.emit(a.START,this),v.emit(a.READY,this,u)},shutdown:function(u){var v=this.events,f=this.settings;v.off(a.TRANSITION_INIT),v.off(a.TRANSITION_START),v.off(a.TRANSITION_COMPLETE),v.off(a.TRANSITION_OUT),f.status=d.SHUTDOWN,f.active=!1,f.visible=!1,this.renderer===r.WEBGL&&this.renderer.resetTextures(!0),v.emit(a.SHUTDOWN,this,u)},destroy:function(){var u=this.events,v=this.settings;v.status=d.DESTROYED,v.active=!1,v.visible=!1,u.emit(a.DESTROY,this),u.removeAllListeners();for(var f=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],c=0;c<f.length;c++)this[f[c]]=null}});p.exports=h},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e&&e[0].toUpperCase()+e.slice(1)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),d=t(0),o=t(109),a=t(424),s="Texture.frame missing: ",i=new d({initialize:function(l,n,h,u,v){Array.isArray(h)||(h=[h]),this.manager=l,this.key=n,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var f=0;f<h.length;f++)this.source.push(new a(this,h[f],u,v))},add:function(r,l,n,h,u,v){if(this.has(r))return null;var f=new o(this,r,l,n,h,u,v);return this.frames[r]=f,this.firstFrame==="__BASE"&&(this.firstFrame=r),this.frameTotal++,f},remove:function(r){if(this.has(r)){var l=this.get(r);return l.destroy(),delete this.frames[r],!0}return!1},has:function(r){return this.frames[r]},get:function(r){r||(r=this.firstFrame);var l=this.frames[r];return l||(console.warn(s+r),l=this.frames[this.firstFrame]),l},getTextureSourceIndex:function(r){for(var l=0;l<this.source.length;l++)if(this.source[l]===r)return l;return-1},getFramesFromTextureSource:function(r,l){l===void 0&&(l=!1);var n=[];for(var h in this.frames)if(!(h==="__BASE"&&!l)){var u=this.frames[h];u.sourceIndex===r&&n.push(u)}return n},getFrameNames:function(r){r===void 0&&(r=!1);var l=Object.keys(this.frames);if(!r){var n=l.indexOf("__BASE");n!==-1&&l.splice(n,1)}return l},getSourceImage:function(r){(r==null||this.frameTotal===1)&&(r="__BASE");var l=this.frames[r];return l?l.source.image:(console.warn(s+r),this.frames.__BASE.source.image)},getDataSourceImage:function(r){(r==null||this.frameTotal===1)&&(r="__BASE");var l=this.frames[r],n;return l?n=l.sourceIndex:(console.warn(s+r),n=this.frames.__BASE.sourceIndex),this.dataSource[n].image},setDataSource:function(r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var n=this.source[l];this.dataSource.push(new a(this,r[l],n.width,n.height))}},setFilter:function(r){var l;for(l=0;l<this.source.length;l++)this.source[l].setFilter(r);for(l=0;l<this.dataSource.length;l++)this.dataSource[l].setFilter(r)},destroy:function(){var r;for(r=0;r<this.source.length;r++)this.source[r].destroy();for(r=0;r<this.dataSource.length;r++)this.dataSource[r].destroy();for(var l in this.frames){var n=this.frames[l];n.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var h=this.manager.game.renderer;h&&h.type===e.WEBGL&&h.resetTextures(!0),this.manager=null}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),d=function(o,a,s,i,r){i===void 0&&(i=0),r===void 0&&(r=o.length);var l=[];if(e(o,i,r))for(var n=i;n<r;n++){var h=o[n];(!a||a&&s===void 0&&h.hasOwnProperty(a)||a&&s!==void 0&&h[a]===s)&&l.push(h)}return l};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Matrix:t(1013),Add:t(1021),AddAt:t(1022),BringToTop:t(1023),CountAllMatching:t(1024),Each:t(1025),EachInRange:t(1026),FindClosestInSorted:t(318),GetAll:t(207),GetFirst:t(428),GetRandom:t(210),MoveDown:t(1027),MoveTo:t(1028),MoveUp:t(1029),MoveAbove:t(1030),MoveBelow:t(1031),NumberArray:t(322),NumberArrayStep:t(1032),QuickSelect:t(436),Range:t(437),Remove:t(93),RemoveAt:t(1033),RemoveBetween:t(1034),RemoveRandomElement:t(1035),Replace:t(1036),RotateLeft:t(178),RotateRight:t(179),SafeRange:t(78),SendToBack:t(1037),SetAll:t(1038),Shuffle:t(131),SortByDigits:t(320),SpliceOne:t(74),StableSort:t(79),Swap:t(1039)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!Array.isArray(e)||e.length<2||!Array.isArray(e[0]))return!1;for(var d=e[0].length,o=1;o<e.length;o++)if(e[o].length!==d)return!1;return!0};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){d===void 0&&(d=0),o===void 0&&(o=e.length);var a=d+Math.floor(Math.random()*o);return e[a]===void 0?null:e[a]};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(9),o=t(438),a=new e({Extends:d,initialize:function(){d.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(s){return this._pending.push(s),this._toProcess++,s},remove:function(s){return this._destroy.push(s),this._toProcess++,s},removeAll:function(){for(var s=this._active,i=this._destroy,r=s.length;r--;)i.push(s[r]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var s=this._destroy,i=this._active,r,l;for(r=0;r<s.length;r++){l=s[r];var n=i.indexOf(l);n!==-1&&(i.splice(n,1),this.emit(o.PROCESS_QUEUE_REMOVE,l))}for(s.length=0,s=this._pending,r=0;r<s.length;r++)l=s[r],(!this.checkQueue||this.checkQueue&&i.indexOf(l)===-1)&&(i.push(l),this.emit(o.PROCESS_QUEUE_ADD,l));return s.length=0,this._toProcess=0,i},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(d,o){return parseInt(d.getAttribute(o),10)}var e=function(d,o,a,s,i){a===void 0&&(a=0),s===void 0&&(s=0);var r=o.cutX,l=o.cutY,n=o.source.width,h=o.source.height,u=o.sourceIndex,v={},f=d.getElementsByTagName("info")[0],c=d.getElementsByTagName("common")[0];v.font=f.getAttribute("face"),v.size=t(f,"size"),v.lineHeight=t(c,"lineHeight")+s,v.chars={};var g=d.getElementsByTagName("char"),m=o!==void 0&&o.trimmed;if(m)var x=o.height,y=o.width;for(var T=0;T<g.length;T++){var E=g[T],R=t(E,"id"),M=String.fromCharCode(R),P=t(E,"x"),O=t(E,"y"),I=t(E,"width"),B=t(E,"height");m&&(P<y&&(y=P),O<x&&(x=O)),m&&x!==0&&y!==0&&(P-=o.x,O-=o.y);var w=(r+P)/n,z=(l+O)/h,H=(r+P+I)/n,b=(l+O+B)/h;if(v.chars[R]={x:P,y:O,width:I,height:B,centerX:Math.floor(I/2),centerY:Math.floor(B/2),xOffset:t(E,"xoffset"),yOffset:t(E,"yoffset"),xAdvance:t(E,"xadvance")+a,data:{},kerning:{},u0:w,v0:z,u1:H,v1:b},i&&I!==0&&B!==0){var Q=i.add(M,u,P,O,I,B);Q&&Q.setUVs(I,B,w,z,H,b)}}var D=d.getElementsByTagName("kerning");for(T=0;T<D.length;T++){var F=D[T],G=t(F,"first"),N=t(F,"second"),X=t(F,"amount");v.chars[N].kerning[G]=X}return v};p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1049),d=t(440),o=t(0),a=t(11),s=t(109),i=t(15),r=t(110),l=new o({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,e],initialize:function(h,u,v,f,c){i.call(this,h,"Blitter"),this.setTexture(f,c),this.setPosition(u,v),this.initPipeline(),this.children=new r,this.renderList=[],this.dirty=!1},create:function(n,h,u,v,f){v===void 0&&(v=!0),f===void 0&&(f=this.children.length),u===void 0?u=this.frame:u instanceof s||(u=this.texture.get(u));var c=new d(this,n,h,u,v);return this.children.addAt(c,f,!1),this.dirty=!0,c},createFromCallback:function(n,h,u,v){for(var f=this.createMultiple(h,u,v),c=0;c<f.length;c++){var g=f[c];n.call(this,g,c)}return f},createMultiple:function(n,h,u){h===void 0&&(h=this.frame.name),u===void 0&&(u=!0),Array.isArray(h)||(h=[h]);var v=[],f=this;return h.forEach(function(c){for(var g=0;g<n;g++)v.push(f.create(0,0,c,u))}),v},childCanRender:function(n){return n.visible&&n.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),d=t(35),o=t(0),a=t(11),s=t(75),i=t(15),r=t(10),l=t(1052),n=t(441),h=t(3),u=new o({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.Pipeline,a.Transform,a.Visible,l],initialize:function(f,c,g,m){i.call(this,f,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this.tempTransformMatrix=new a.TransformMatrix,this._sortKey="",this._sysEvents=f.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(c,g),this.clearAlpha(),this.setBlendMode(d.SKIP_CHECK),m&&this.add(m)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new r),v.setTo(this.x,this.y,0,0),this.parentContainer){var f=this.parentContainer.getBoundsTransformMatrix(),c=f.transformPoint(this.x,this.y);v.setTo(c.x,c.y,0,0)}if(this.list.length>0){var g=this.list,m=new r,x=!1;v.setEmpty();for(var y=0;y<g.length;y++){var T=g[y];T.getBounds&&(T.getBounds(m),x?n(m,v,v):(v.setTo(m.x,m.y,m.width,m.height),x=!0))}}return v},addHandler:function(v){v.once(s.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.removeFromDisplayList(),v.parentContainer=this)},removeHandler:function(v){v.off(s.DESTROY,this.remove),this.exclusive&&(v.parentContainer=null,v.addToDisplayList())},pointToContainer:function(v,f){f===void 0&&(f=new h),this.parentContainer?this.parentContainer.pointToContainer(v,f):f=new h(v.x,v.y);var c=this.tempTransformMatrix;return c.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),c.invert(),c.transformPoint(v.x,v.y,f),f},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(v){return e.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,f){return e.AddAt(this.list,v,f,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,f){return v?(f===void 0&&(f=function(c,g){return c[v]-g[v]}),e.StableSort(this.list,f),this):this},getByName:function(v){return e.GetFirst(this.list,"name",v)},getRandom:function(v,f){return e.GetRandom(this.list,v,f)},getFirst:function(v,f,c,g){return e.GetFirst(this.list,v,f,c,g)},getAll:function(v,f,c,g){return e.GetAll(this.list,v,f,c,g)},count:function(v,f,c,g){return e.CountAllMatching(this.list,v,f,c,g)},swap:function(v,f){return e.Swap(this.list,v,f),this},moveTo:function(v,f){return e.MoveTo(this.list,v,f),this},moveAbove:function(v,f){return e.MoveAbove(this.list,v,f),this},moveBelow:function(v,f){return e.MoveBelow(this.list,v,f),this},remove:function(v,f){var c=e.Remove(this.list,v,this.removeHandler,this);if(f&&c){Array.isArray(c)||(c=[c]);for(var g=0;g<c.length;g++)c[g].destroy()}return this},removeAt:function(v,f){var c=e.RemoveAt(this.list,v,this.removeHandler,this);return f&&c&&c.destroy(),this},removeBetween:function(v,f,c){var g=e.RemoveBetween(this.list,v,f,this.removeHandler,this);if(c)for(var m=0;m<g.length;m++)g[m].destroy();return this},removeAll:function(v){var f=e.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(v)for(var c=0;c<f.length;c++)f[c].destroy();return this},bringToTop:function(v){return e.BringToTop(this.list,v),this},sendToBack:function(v){return e.SendToBack(this.list,v),this},moveUp:function(v){return e.MoveUp(this.list,v),this},moveDown:function(v){return e.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(v,f,c){var g=e.Replace(this.list,v,f);return g&&(this.addHandler(f),this.removeHandler(v),c&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,f,c,g){return e.SetAll(this.list,v,f,c,g),this},each:function(v,f){var c=[null],g,m=this.list.slice(),x=m.length;for(g=2;g<arguments.length;g++)c.push(arguments[g]);for(g=0;g<x;g++)c[0]=m[g],v.apply(f,c);return this},iterate:function(v,f){var c=[null],g;for(g=2;g<arguments.length;g++)c.push(arguments[g]);for(g=0;g<this.list.length;g++)c[0]=this.list[g],v.apply(f,c);return this},setScrollFactor:function(v,f,c){return f===void 0&&(f=v),c===void 0&&(c=!1),this.scrollFactorX=v,this.scrollFactorY=f,c&&(e.SetAll(this.list,"scrollFactorX",v),e.SetAll(this.list,"scrollFactorY",f)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});p.exports=u},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),d=t(0),o=t(1057),a=new d({Extends:e,Mixins:[o],initialize:function(i,r,l,n,h,u,v){e.call(this,i,r,l,n,h,u,v),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(s,i){return this.cropWidth=s,this.cropHeight=i,this},setDisplayCallback:function(s){return this.displayCallback=s,this},setScrollX:function(s){return this.scrollX=s,this},setScrollY:function(s){return this.scrollY=s,this}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),d=t(0),o=t(217),a=t(303),s=t(304),i=t(305),r=t(309),l=t(167),n=t(312),h=t(313),u=t(314),v=t(111),f=t(15),c=t(2),g=t(6),m=t(14),x=t(1063),y=new d({Extends:f,Mixins:[a,s,i,r,l,h,u,n,x],initialize:function(E,R){var M=g(R,"x",0),P=g(R,"y",0);f.call(this,E,"Graphics"),this.setPosition(M,P),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(R)},setDefaultStyles:function(T){return g(T,"lineStyle",null)&&(this.defaultStrokeWidth=g(T,"lineStyle.width",1),this.defaultStrokeColor=g(T,"lineStyle.color",16777215),this.defaultStrokeAlpha=g(T,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),g(T,"fillStyle",null)&&(this.defaultFillColor=g(T,"fillStyle.color",16777215),this.defaultFillAlpha=g(T,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(T,E,R){return R===void 0&&(R=1),this.commandBuffer.push(o.LINE_STYLE,T,E,R),this._lineWidth=T,this},fillStyle:function(T,E){return E===void 0&&(E=1),this.commandBuffer.push(o.FILL_STYLE,T,E),this},fillGradientStyle:function(T,E,R,M,P,O,I,B){return P===void 0&&(P=1),O===void 0&&(O=P),I===void 0&&(I=P),B===void 0&&(B=P),this.commandBuffer.push(o.GRADIENT_FILL_STYLE,P,O,I,B,T,E,R,M),this},lineGradientStyle:function(T,E,R,M,P,O){return O===void 0&&(O=1),this.commandBuffer.push(o.GRADIENT_LINE_STYLE,T,O,E,R,M,P),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},fill:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(T){return this.fillCircle(T.x,T.y,T.radius)},strokeCircleShape:function(T){return this.strokeCircle(T.x,T.y,T.radius)},fillCircle:function(T,E,R){return this.beginPath(),this.arc(T,E,R,0,m.PI2),this.fillPath(),this},strokeCircle:function(T,E,R){return this.beginPath(),this.arc(T,E,R,0,m.PI2),this.strokePath(),this},fillRectShape:function(T){return this.fillRect(T.x,T.y,T.width,T.height)},strokeRectShape:function(T){return this.strokeRect(T.x,T.y,T.width,T.height)},fillRect:function(T,E,R,M){return this.commandBuffer.push(o.FILL_RECT,T,E,R,M),this},strokeRect:function(T,E,R,M){var P=this._lineWidth/2,O=T-P,I=T+P;return this.beginPath(),this.moveTo(T,E),this.lineTo(T,E+M),this.strokePath(),this.beginPath(),this.moveTo(T+R,E),this.lineTo(T+R,E+M),this.strokePath(),this.beginPath(),this.moveTo(O,E),this.lineTo(I+R,E),this.strokePath(),this.beginPath(),this.moveTo(O,E+M),this.lineTo(I+R,E+M),this.strokePath(),this},fillRoundedRect:function(T,E,R,M,P){P===void 0&&(P=20);var O=P,I=P,B=P,w=P;return typeof P!="number"&&(O=c(P,"tl",20),I=c(P,"tr",20),B=c(P,"bl",20),w=c(P,"br",20)),this.beginPath(),this.moveTo(T+O,E),this.lineTo(T+R-I,E),this.arc(T+R-I,E+I,I,-m.TAU,0),this.lineTo(T+R,E+M-w),this.arc(T+R-w,E+M-w,w,0,m.TAU),this.lineTo(T+B,E+M),this.arc(T+B,E+M-B,B,m.TAU,Math.PI),this.lineTo(T,E+O),this.arc(T+O,E+O,O,-Math.PI,-m.TAU),this.fillPath(),this},strokeRoundedRect:function(T,E,R,M,P){P===void 0&&(P=20);var O=P,I=P,B=P,w=P;return typeof P!="number"&&(O=c(P,"tl",20),I=c(P,"tr",20),B=c(P,"bl",20),w=c(P,"br",20)),this.beginPath(),this.moveTo(T+O,E),this.lineTo(T+R-I,E),this.moveTo(T+R-I,E),this.arc(T+R-I,E+I,I,-m.TAU,0),this.lineTo(T+R,E+M-w),this.moveTo(T+R,E+M-w),this.arc(T+R-w,E+M-w,w,0,m.TAU),this.lineTo(T+B,E+M),this.moveTo(T+B,E+M),this.arc(T+B,E+M-B,B,m.TAU,Math.PI),this.lineTo(T,E+O),this.moveTo(T,E+O),this.arc(T+O,E+O,O,-Math.PI,-m.TAU),this.strokePath(),this},fillPointShape:function(T,E){return this.fillPoint(T.x,T.y,E)},fillPoint:function(T,E,R){return!R||R<1?R=1:(T-=R/2,E-=R/2),this.commandBuffer.push(o.FILL_RECT,T,E,R,R),this},fillTriangleShape:function(T){return this.fillTriangle(T.x1,T.y1,T.x2,T.y2,T.x3,T.y3)},strokeTriangleShape:function(T){return this.strokeTriangle(T.x1,T.y1,T.x2,T.y2,T.x3,T.y3)},fillTriangle:function(T,E,R,M,P,O){return this.commandBuffer.push(o.FILL_TRIANGLE,T,E,R,M,P,O),this},strokeTriangle:function(T,E,R,M,P,O){return this.commandBuffer.push(o.STROKE_TRIANGLE,T,E,R,M,P,O),this},strokeLineShape:function(T){return this.lineBetween(T.x1,T.y1,T.x2,T.y2)},lineBetween:function(T,E,R,M){return this.beginPath(),this.moveTo(T,E),this.lineTo(R,M),this.strokePath(),this},lineTo:function(T,E){return this.commandBuffer.push(o.LINE_TO,T,E),this},moveTo:function(T,E){return this.commandBuffer.push(o.MOVE_TO,T,E),this},strokePoints:function(T,E,R,M){E===void 0&&(E=!1),R===void 0&&(R=!1),M===void 0&&(M=T.length),this.beginPath(),this.moveTo(T[0].x,T[0].y);for(var P=1;P<M;P++)this.lineTo(T[P].x,T[P].y);return E&&this.lineTo(T[0].x,T[0].y),R&&this.closePath(),this.strokePath(),this},fillPoints:function(T,E,R,M){E===void 0&&(E=!1),R===void 0&&(R=!1),M===void 0&&(M=T.length),this.beginPath(),this.moveTo(T[0].x,T[0].y);for(var P=1;P<M;P++)this.lineTo(T[P].x,T[P].y);return E&&this.lineTo(T[0].x,T[0].y),R&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(T,E){E===void 0&&(E=32);var R=T.getPoints(E);return this.strokePoints(R,!0)},strokeEllipse:function(T,E,R,M,P){P===void 0&&(P=32);var O=new v(T,E,R,M),I=O.getPoints(P);return this.strokePoints(I,!0)},fillEllipseShape:function(T,E){E===void 0&&(E=32);var R=T.getPoints(E);return this.fillPoints(R,!0)},fillEllipse:function(T,E,R,M,P){P===void 0&&(P=32);var O=new v(T,E,R,M),I=O.getPoints(P);return this.fillPoints(I,!0)},arc:function(T,E,R,M,P,O,I){return O===void 0&&(O=!1),I===void 0&&(I=0),this.commandBuffer.push(o.ARC,T,E,R,M,P,O,I),this},slice:function(T,E,R,M,P,O,I){return O===void 0&&(O=!1),I===void 0&&(I=0),this.commandBuffer.push(o.BEGIN_PATH),this.commandBuffer.push(o.MOVE_TO,T,E),this.commandBuffer.push(o.ARC,T,E,R,M,P,O,I),this.commandBuffer.push(o.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translateCanvas:function(T,E){return this.commandBuffer.push(o.TRANSLATE,T,E),this},scaleCanvas:function(T,E){return this.commandBuffer.push(o.SCALE,T,E),this},rotateCanvas:function(T){return this.commandBuffer.push(o.ROTATE,T),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(T,E,R){var M=this.scene.sys,P=M.game.renderer;E===void 0&&(E=M.scale.width),R===void 0&&(R=M.scale.height),y.TargetCamera.setScene(this.scene),y.TargetCamera.setViewport(0,0,E,R),y.TargetCamera.scrollX=this.x,y.TargetCamera.scrollY=this.y;var O,I;if(typeof T=="string")if(M.textures.exists(T)){O=M.textures.get(T);var B=O.getSourceImage();B instanceof HTMLCanvasElement&&(I=B.getContext("2d"))}else O=M.textures.createCanvas(T,E,R),I=O.getSourceImage().getContext("2d");else T instanceof HTMLCanvasElement&&(I=T.getContext("2d"));return I&&(this.renderCanvas(P,this,y.TargetCamera,null,I,!1),O&&O.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});y.TargetCamera=new e,p.exports=y},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a,s){s===void 0&&(s=new e);var i=o.width/2,r=o.height/2;return s.x=o.x+i*Math.cos(a),s.y=o.y+r*Math.sin(a),s};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),d=t(0),o=t(11),a=t(176),s=t(101),i=t(9),r=t(75),l=t(110),n=t(1071),h=t(20),u=t(79),v=new d({Extends:l,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Mask,o.Pipeline,o.Visible,i,n],initialize:function(c,g){l.call(this,c),i.call(this),this.scene=c,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=c.sys,this.events=c.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(e.SKIP_CHECK),g&&this.add(g),c.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(f,c){return this.data||(this.data=new s(this)),this.data.set(f,c),this},incData:function(f,c){return this.data||(this.data=new s(this)),this.data.inc(f,c),this},toggleData:function(f){return this.data||(this.data=new s(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new s(this)),this.data.get(f)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(f){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,c=this.parentContainer,g=[];c&&(g.unshift(c.getIndex(f)),f=c,c.parentContainer);)c=c.parentContainer;return g.unshift(this.displayList.getIndex(f)),g},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(r.ADDED_TO_SCENE,f,this.scene),this.events.emit(h.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(r.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,f,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(u(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,c){return f._depth-c._depth},getChildren:function(){return this.list},destroy:function(){if(!(!this.scene||this.ignoreDestroy)){this.emit(r.DESTROY,this);for(var f=this.list.length;f--;)this.list[f].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});p.exports=v},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(15),a=t(450),s=t(110),i=t(452),r=t(1075),l=new e({Extends:o,Mixins:[d.Depth,d.Mask,d.Pipeline,d.Transform,d.Visible,r],initialize:function(h,u,v,f){if(o.call(this,h,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],v!==null&&(typeof v=="object"||Array.isArray(v))&&(f=v,v=null),this.setTexture(u,v),this.initPipeline(),this.emitters=new s(this),this.wells=new s(this),f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++)this.createEmitter(f[c])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(n,h){return this.texture=this.scene.sys.textures.get(n),this.setFrame(h)},setFrame:function(n){this.frame=this.texture.get(n);var h=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),u=[];return h.forEach(function(v){u.push(v.name)}),this.frameNames=u,this.defaultFrame=this.frame,this},setEmitterFrames:function(n,h){Array.isArray(n)||(n=[n]);var u=h.frames;u.length=0;for(var v=0;v<n.length;v++){var f=n[v];this.frameNames.indexOf(f)!==-1&&u.push(this.texture.get(f))}return u.length>0?h.defaultFrame=u[0]:h.defaultFrame=this.defaultFrame,this},addEmitter:function(n){return this.emitters.add(n)},createEmitter:function(n){return this.addEmitter(new i(this,n))},removeEmitter:function(n){return this.emitters.remove(n,!0)},addGravityWell:function(n){return this.wells.add(n)},createGravityWell:function(n){return this.addGravityWell(new a(n))},emitParticle:function(n,h,u){for(var v=this.emitters.list,f=0;f<v.length;f++){var c=v[f];c.active&&c.emitParticle(n,h,u)}return this},emitParticleAt:function(n,h,u){return this.emitParticle(u,n,h)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(n,h){h*=this.timeScale;for(var u=this.emitters.list,v=0;v<u.length;v++){var f=u[v];f.active&&f.preUpdate(n,h)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),d=t(133),o=t(31),a=t(0),s=t(11),i=t(33),r=t(109),l=t(15),n=t(1),h=t(92),u=t(1079),v=t(141),f=t(12),c=t(222),g=new a({Extends:l,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,u],initialize:function(x,y,T,E,R,M,P){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=32),R===void 0&&(R=32),l.call(this,x,"RenderTexture"),this.renderer=x.sys.renderer,this.textureManager=x.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,M===void 0?(this.canvas=o.create2D(this,E,R),this.texture=x.sys.textures.addCanvas(c(),this.canvas),this.frame=this.texture.get()):(this.texture=x.sys.textures.get(M),this.frame=this.texture.get(P),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new d(0,0,E,R),this.renderTarget=null;var O=this.renderer;O?O.type===i.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new v(O,E,R,1,0,!1)):O.type===i.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=n,this.camera.setScene(x),this.setPosition(y,T),M===void 0&&this.setSize(E,R),this.setOrigin(0,0),this.initPipeline(h.SINGLE_PIPELINE)},setSize:function(m,x){return this.resize(m,x)},resize:function(m,x){x===void 0&&(x=m);var y=this.frame;if(m!==this.width||x!==this.height){if(y.name==="__BASE"){this.canvas.width=m,this.canvas.height=x,this.texture.width=m,this.texture.height=x;var T=this.renderTarget;T&&(T.resize(m,x),y.glTexture=T.texture,y.source.isRenderTexture=!0,y.source.isGLTexture=!0,y.source.glTexture=T.texture),this.camera.setSize(m,x),y.source.width=m,y.source.height=x,y.setSize(m,x),this.width=m,this.height=x}}else{var E=this.texture.getSourceImage();y.cutX+m>E.width&&(m=E.width-y.cutX),y.cutY+x>E.height&&(x=E.height-y.cutY),y.setSize(m,x,y.cutX,y.cutY)}this.updateDisplayOrigin();var R=this.input;return R&&!R.customHitArea&&(R.hitArea.width=m,R.hitArea.height=x),this},setGlobalTint:function(m){return this.globalTint=m,this},setGlobalAlpha:function(m){return this.globalAlpha=m,this},saveTexture:function(m){return this.textureManager.renameTexture(this.texture.key,m),this._saved=!0,this.texture},fill:function(m,x,y,T,E,R){var M=this.frame,P=this.camera,O=this.renderer;x===void 0&&(x=1),y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=M.cutWidth),R===void 0&&(R=M.cutHeight);var I=(m>>16&255)/255,B=(m>>8&255)/255,w=(m&255)/255,z=this.renderTarget;if(P.preRender(),z){z.bind(!0);var H=this.pipeline;H.manager.set(H);var b=z.width,Q=z.height,D=O.width,F=O.height,G=D/b,N=F/Q;H.drawFillRect(y*G,T*N,E*G,R*N,f.getTintFromFloats(w,B,I,1),x),z.unbind(!0)}else{var X=this.context;O.setContext(X),X.fillStyle="rgba("+I+","+B+","+w+","+x+")",X.fillRect(y+M.cutX,T+M.cutY,E,R),O.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var m=this.renderTarget;if(m)m.clear();else{var x=this.context;x.save(),x.setTransform(1,0,0,1,0,0),x.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),x.restore()}this.dirty=!1}return this},erase:function(m,x,y){return this._eraseMode=!0,this.draw(m,x,y,1,16777215),this._eraseMode=!1,this},draw:function(m,x,y,T,E){return this.beginDraw(),this.batchDraw(m,x,y,T,E),this.endDraw(),this},drawFrame:function(m,x,y,T,E,R){return this.beginDraw(),this.batchDrawFrame(m,x,y,T,E,R),this.endDraw(),this},beginDraw:function(){var m=this.camera,x=this.renderer,y=this.renderTarget;return m.preRender(),y?x.beginCapture(y.width,y.height):x.setContext(this.context),this},batchDraw:function(m,x,y,T,E){return T===void 0&&(T=this.globalAlpha),E===void 0?E=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):E=(E>>16)+(E&65280)+((E&255)<<16),Array.isArray(m)||(m=[m]),this.batchList(m,x,y,T,E),this},batchDrawFrame:function(m,x,y,T,E,R){y===void 0&&(y=0),T===void 0&&(T=0),E===void 0&&(E=this.globalAlpha),R===void 0?R=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):R=(R>>16)+(R&65280)+((R&255)<<16);var M=this.textureManager.getFrame(m,x);return M&&(this.renderTarget?this.pipeline.batchTextureFrame(M,y,T,R,E,this.camera.matrix,null):this.batchTextureFrame(M,y+this.frame.cutX,T+this.frame.cutY,E,R)),this},endDraw:function(m){m===void 0&&(m=this._eraseMode);var x=this.renderer,y=this.renderTarget;if(y){var T=x.endCapture(),E=x.pipelines.setUtility();E.blitFrame(T,y,1,!1,!1,m),x.resetScissor(),x.resetViewport()}else x.setContext();return this.dirty=!0,this},batchList:function(m,x,y,T,E){for(var R=0;R<m.length;R++){var M=m[R];!M||M===this||(M.renderWebGL||M.renderCanvas?this.drawGameObject(M,x,y):M.isParent||M.list?this.batchGroup(M.getChildren(),x,y):typeof M=="string"?this.batchTextureFrameKey(M,null,x,y,T,E):M instanceof r?this.batchTextureFrame(M,x,y,T,E):Array.isArray(M)&&this.batchList(M,x,y,T,E))}},batchGroup:function(m,x,y){x===void 0&&(x=0),y===void 0&&(y=0),x+=this.frame.cutX,y+=this.frame.cutY;for(var T=0;T<m.length;T++){var E=m[T];if(E.willRender(this.camera)){var R=E.x+x,M=E.y+y;this.drawGameObject(E,R,M)}}},batchGameObjectWebGL:function(m,x,y){x===void 0&&(x=m.x),y===void 0&&(y=m.y);var T=m.x,E=m.y;m.setPosition(x+this.frame.cutX,y+this.frame.cutY),m.renderDirect?m.renderDirect(this.renderer,m,this.camera):m.renderWebGL(this.renderer,m,this.camera),m.setPosition(T,E)},batchGameObjectCanvas:function(m,x,y){x===void 0&&(x=m.x),y===void 0&&(y=m.y);var T=m.x,E=m.y;if(this._eraseMode){var R=m.blendMode;m.blendMode=e.ERASE}m.setPosition(x+this.frame.cutX,y+this.frame.cutY),m.renderCanvas(this.renderer,m,this.camera,null),m.setPosition(T,E),this._eraseMode&&(m.blendMode=R)},batchTextureFrameKey:function(m,x,y,T,E,R){var M=this.textureManager.getFrame(m,x);M&&this.batchTextureFrame(M,y,T,E,R)},batchTextureFrame:function(m,x,y,T,E){x===void 0&&(x=0),y===void 0&&(y=0),x+=this.frame.cutX,y+=this.frame.cutY;var R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(m,x,y,E,T,this.camera.matrix,null);else{var M=this.context,P=m.canvasData,O=m.source.image,I=this.camera.matrix;M.save(),M.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",M.globalAlpha=T,I.setToContext(M),M.drawImage(O,P.x,P.y,P.width,P.height,x,y,P.width,P.height),M.restore()}},snapshotArea:function(m,x,y,T,E,R,M){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,m,x,y,T,R,M):this.renderer.snapshotCanvas(this.canvas,E,!1,m,x,y,T,R,M),this},snapshot:function(m,x,y){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,m,!1,0,0,this.width,this.height,x,y):this.renderer.snapshotCanvas(this.canvas,m,!1,0,0,this.width,this.height,x,y),this},snapshotPixel:function(m,x,y){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,y,!0,m,x):this.renderer.snapshotCanvas(this.canvas,y,!0,m,x),this},preDestroy:function(){this._saved||(o.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});p.exports=g},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=Math.random()*16|0,o=e==="x"?d:d&3|8;return o.toString(16)})};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),d=t(0),o=t(11),a=t(15),s=t(92),i=t(1085),r=t(3),l=new d({Extends:a,Mixins:[o.AlphaSingle,o.BlendMode,o.Depth,o.Flip,o.Mask,o.Pipeline,o.Size,o.Texture,o.Transform,o.Visible,o.ScrollFactor,i],initialize:function(h,u,v,f,c,g,m,x,y){f===void 0&&(f="__DEFAULT"),g===void 0&&(g=2),m===void 0&&(m=!0),a.call(this,h,"Rope"),this.anims=new e(this),this.points=g,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=f==="__DEFAULT",this.dirty=!1,this.horizontal=m,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(f,c),this.setPosition(u,v),this.setSizeToFrame(),this.initPipeline(s.ROPE_PIPELINE),Array.isArray(g)&&this.resizeArrays(g.length),this.setPoints(g,x,y),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(n,h){var u=this.anims.currentFrame;this.anims.update(n,h),this.anims.currentFrame!==u&&(this.updateUVs(),this.updateVertices())},play:function(n,h,u){return this.anims.play(n,h,u),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(n,h,u){return n===void 0&&(n=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(n,h,u))},setVertical:function(n,h,u){return n===void 0&&(n=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(n,h,u)):this},setTintFill:function(n){return n===void 0&&(n=!1),this.tintFill=n,this},setAlphas:function(n,h){var u=this.points.length;if(u<1)return this;var v=this.alphas;n===void 0?n=[1]:!Array.isArray(n)&&h===void 0&&(n=[n]);var f,c=0;if(h!==void 0)for(f=0;f<u;f++)c=f*2,v[c]=n,v[c+1]=h;else if(n.length===u)for(f=0;f<u;f++)c=f*2,v[c]=n[f],v[c+1]=n[f];else{var g=n[0];for(f=0;f<u;f++)c=f*2,n.length>c&&(g=n[c]),v[c]=g,n.length>c+1&&(g=n[c+1]),v[c+1]=g}return this},setColors:function(n){var h=this.points.length;if(h<1)return this;var u=this.colors;n===void 0?n=[16777215]:Array.isArray(n)||(n=[n]);var v,f=0;if(n.length===h)for(v=0;v<h;v++)f=v*2,u[f]=n[v],u[f+1]=n[v];else{var c=n[0];for(v=0;v<h;v++)f=v*2,n.length>f&&(c=n[f]),u[f]=c,n.length>f+1&&(c=n[f+1]),u[f+1]=c}return this},setPoints:function(n,h,u){if(n===void 0&&(n=2),typeof n=="number"){var v=n;v<2&&(v=2),n=[];var f,c,g;if(this.horizontal)for(g=-this.frame.halfWidth,c=this.frame.width/(v-1),f=0;f<v;f++)n.push({x:g+f*c,y:0});else for(g=-this.frame.halfHeight,c=this.frame.height/(v-1),f=0;f<v;f++)n.push({x:0,y:g+f*c})}var m=n.length,x=this.points.length;return m<1?(console.warn("Rope: Not enough points given"),this):(m===1&&(n.unshift({x:0,y:0}),m++),x!==m&&this.resizeArrays(m),this.points=n,this.updateUVs(),h!=null&&this.setColors(h),u!=null&&this.setAlphas(u),this)},updateUVs:function(){for(var n=this.uv,h=this.points.length,u=this.frame.u0,v=this.frame.v0,f=this.frame.u1,c=this.frame.v1,g=(f-u)/(h-1),m=(c-v)/(h-1),x=0;x<h;x++){var y=x*4,T,E,R,M;this.horizontal?(this._flipX?(T=f-x*g,R=f-x*g):(T=u+x*g,R=u+x*g),this._flipY?(E=c,M=v):(E=v,M=c)):(this._flipX?(T=u,R=f):(T=f,R=u),this._flipY?(E=c-x*m,M=c-x*m):(E=v+x*m,M=v+x*m)),n[y+0]=T,n[y+1]=E,n[y+2]=R,n[y+3]=M}return this},resizeArrays:function(n){var h=this.colors,u=this.alphas;this.vertices=new Float32Array(n*4),this.uv=new Float32Array(n*4),h=new Uint32Array(n*2),u=new Float32Array(n*2);for(var v=0;v<n*2;v++)h[v]=16777215,u[v]=1;return this.colors=h,this.alphas=u,this.dirty=!0,this},updateVertices:function(){var n=this._perp,h=this.points,u=this.vertices,v=h.length;if(this.dirty=!1,!(v<1)){for(var f,c=h[0],g=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,m=0;m<v;m++){var x=h[m],y=m*4;m<v-1?f=h[m+1]:f=x,n.x=f.y-c.y,n.y=-(f.x-c.x);var T=n.length();n.x/=T,n.y/=T,n.x*=g,n.y*=g,u[y]=x.x+n.x,u[y+1]=x.y+n.y,u[y+2]=x.x-n.x,u[y+3]=x.y-n.y,c=x}return this}},setDebug:function(n,h){return this.debugGraphic=n,!n&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(n,h,u){var v=n.debugGraphic,f=u[0],c=u[1],g=u[2],m=u[3];v.lineBetween(f,c,g,m);for(var x=4;x<h;x+=4){var y=u[x+0],T=u[x+1],E=u[x+2],R=u[x+3];v.lineBetween(f,c,y,T),v.lineBetween(g,m,E,R),v.lineBetween(g,m,y,T),v.lineBetween(y,T,E,R),f=y,c=T,g=E,m=R}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(n){return this._flipX=n,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(n){return this._flipY=n,this.updateUVs()}}});p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),d=t(31),o=t(0),a=t(11),s=t(22),i=t(15),r=t(458),l=t(6),n=t(202),h=t(1088),u=t(459),v=new o({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,h],initialize:function(c,g,m,x,y){g===void 0&&(g=0),m===void 0&&(m=0),i.call(this,c,"Text"),this.renderer=c.sys.renderer,this.setPosition(g,m),this.setOrigin(0,0),this.initPipeline(),this.canvas=d.create(this),this.context=this.canvas.getContext("2d"),this.style=new u(this,y),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=c.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(x),y&&y.padding&&this.setPadding(y.padding),y&&y.lineSpacing&&this.setLineSpacing(y.lineSpacing),c.sys.game.events.on(s.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){!this.style.rtl||(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",e(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(f){var c=this.style;if(c.wordWrapCallback){var g=c.wordWrapCallback.call(c.wordWrapCallbackScope,f,this);return Array.isArray(g)&&(g=g.join(`
`)),g}else return c.wordWrapWidth?c.wordWrapUseAdvanced?this.advancedWordWrap(f,this.context,this.style.wordWrapWidth):this.basicWordWrap(f,this.context,this.style.wordWrapWidth):f},advancedWordWrap:function(f,c,g){for(var m="",x=f.replace(/ +/gi," ").split(this.splitRegExp),y=x.length,T=0;T<y;T++){var E=x[T],R="";E=E.replace(/^ *|\s*$/gi,"");var M=c.measureText(E).width;if(M<g){m+=E+`
`;continue}for(var P=g,O=E.split(" "),I=0;I<O.length;I++){var B=O[I],w=B+" ",z=c.measureText(w).width;if(z>P){if(I===0){for(var H=w;H.length&&(H=H.slice(0,-1),z=c.measureText(H).width,!(z<=P)););if(!H.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var b=B.substr(H.length);O[I]=b,R+=H}var Q=O[I].length?I:I+1,D=O.slice(Q).join(" ").replace(/[ \n]*$/gi,"");x[T+1]=D+" "+(x[T+1]||""),y=x.length;break}else R+=w,P-=z}m+=R.replace(/[ \n]*$/gi,"")+`
`}return m=m.replace(/[\s|\n]*$/gi,""),m},basicWordWrap:function(f,c,g){for(var m="",x=f.split(this.splitRegExp),y=x.length-1,T=c.measureText(" ").width,E=0;E<=y;E++){for(var R=g,M=x[E].split(" "),P=M.length-1,O=0;O<=P;O++){var I=M[O],B=c.measureText(I).width,w=B;O<P&&(w+=T),w>R&&O>0&&(m+=`
`,R=g),m+=I,O<P?(m+=" ",R-=w):R-=B}E<y&&(m+=`
`)}return m},getWrappedText:function(f){f===void 0&&(f=this._text),this.style.syncFont(this.canvas,this.context);var c=this.runWordWrap(f);return c.split(this.splitRegExp)},setText:function(f){return!f&&f!==0&&(f=""),Array.isArray(f)&&(f=f.join(`
`)),f!==this._text&&(this._text=f.toString(),this.updateText()),this},setStyle:function(f){return this.style.setStyle(f)},setFont:function(f){return this.style.setFont(f)},setFontFamily:function(f){return this.style.setFontFamily(f)},setFontSize:function(f){return this.style.setFontSize(f)},setFontStyle:function(f){return this.style.setFontStyle(f)},setFixedSize:function(f,c){return this.style.setFixedSize(f,c)},setBackgroundColor:function(f){return this.style.setBackgroundColor(f)},setFill:function(f){return this.style.setFill(f)},setColor:function(f){return this.style.setColor(f)},setStroke:function(f,c){return this.style.setStroke(f,c)},setShadow:function(f,c,g,m,x,y){return this.style.setShadow(f,c,g,m,x,y)},setShadowOffset:function(f,c){return this.style.setShadowOffset(f,c)},setShadowColor:function(f){return this.style.setShadowColor(f)},setShadowBlur:function(f){return this.style.setShadowBlur(f)},setShadowStroke:function(f){return this.style.setShadowStroke(f)},setShadowFill:function(f){return this.style.setShadowFill(f)},setWordWrapWidth:function(f,c){return this.style.setWordWrapWidth(f,c)},setWordWrapCallback:function(f,c){return this.style.setWordWrapCallback(f,c)},setAlign:function(f){return this.style.setAlign(f)},setResolution:function(f){return this.style.setResolution(f)},setLineSpacing:function(f){return this.lineSpacing=f,this.updateText()},setPadding:function(f,c,g,m){if(typeof f=="object"){var x=f,y=l(x,"x",null);y!==null?(f=y,g=y):(f=l(x,"left",0),g=l(x,"right",f));var T=l(x,"y",null);T!==null?(c=T,m=T):(c=l(x,"top",0),m=l(x,"bottom",c))}else f===void 0&&(f=0),c===void 0&&(c=f),g===void 0&&(g=f),m===void 0&&(m=c);return this.padding.left=f,this.padding.top=c,this.padding.right=g,this.padding.bottom=m,this.updateText()},setMaxLines:function(f){return this.style.setMaxLines(f)},updateText:function(){var f=this.canvas,c=this.context,g=this.style,m=g.resolution,x=g.metrics;g.syncFont(f,c);var y=this._text;(g.wordWrapWidth||g.wordWrapCallback)&&(y=this.runWordWrap(this._text));var T=y.split(this.splitRegExp),E=r(this,x,T),R=this.padding,M;g.fixedWidth===0?(this.width=E.width+R.left+R.right,M=E.width):(this.width=g.fixedWidth,M=this.width-R.left-R.right,M<E.width&&(M=E.width)),g.fixedHeight===0?this.height=E.height+R.top+R.bottom:this.height=g.fixedHeight;var P=this.width,O=this.height;this.updateDisplayOrigin(),P*=m,O*=m,P=Math.max(P,1),O=Math.max(O,1),f.width!==P||f.height!==O?(f.width=P,f.height=O,this.frame.setSize(P,O),g.syncFont(f,c)):c.clearRect(0,0,P,O),c.save(),c.scale(m,m),g.backgroundColor&&(c.fillStyle=g.backgroundColor,c.fillRect(0,0,P,O)),g.syncStyle(f,c),c.textBaseline="alphabetic",c.translate(R.left,R.top);for(var I,B,w=0;w<E.lines;w++){if(I=g.strokeThickness/2,B=g.strokeThickness/2+w*E.lineHeight+x.ascent,w>0&&(B+=E.lineSpacing*w),g.rtl)I=P-I;else if(g.align==="right")I+=M-E.lineWidths[w];else if(g.align==="center")I+=(M-E.lineWidths[w])/2;else if(g.align==="justify"){var z=.85;if(E.lineWidths[w]/E.width>=z){var H=E.width-E.lineWidths[w],b=c.measureText(" ").width,Q=T[w].trim(),D=Q.split(" ");H+=(T[w].length-Q.length)*b;for(var F=Math.floor(H/b),G=0;F>0;)D[G]+=" ",G=(G+1)%(D.length-1||1),--F;T[w]=D.join(" ")}}this.autoRound&&(I=Math.round(I),B=Math.round(B)),g.strokeThickness&&(this.style.syncShadow(c,g.shadowStroke),c.strokeText(T[w],I,B)),g.color&&(this.style.syncShadow(c,g.shadowFill),c.fillText(T[w],I,B))}c.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var N=this.input;return N&&!N.customHitArea&&(N.hitArea.width=this.width,N.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(f){this.setText(f)}},toJSON:function(){var f=a.ToJSON(this),c={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return f.data=c,f},preDestroy:function(){this.style.rtl&&n(this.canvas),d.remove(this.canvas),this.texture.destroy()}});p.exports=v},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),d=t(0),o=t(11),a=t(22),s=t(15),i=t(361),r=t(192),l=t(1091),n=t(3),h=8,u=new d({Extends:s,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,l],initialize:function(f,c,g,m,x,y,T){var E=f.sys.renderer;s.call(this,f,"TileSprite");var R=f.sys.textures.get(y),M=R.get(T);!m||!x?(m=M.width,x=M.height):(m=Math.floor(m),x=Math.floor(x)),this._tilePosition=new n,this._tileScale=new n(1,1),this.dirty=!1,this.renderer=E,this.canvas=e.create(this,m,x),this.context=this.canvas.getContext("2d"),this.displayTexture=R,this.displayFrame=M,this._crop=this.resetCropObject(),this.texture=f.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=i(M.width),this.potHeight=i(M.height),this.fillCanvas=e.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(c,g),this.setSize(m,x),this.setFrame(T),this.setOriginFromFrame(),this.initPipeline(),f.sys.game.events.on(a.CONTEXT_RESTORED,function(P){if(!!P){var O=P.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=P.createTexture2D(0,O.LINEAR,O.LINEAR,O.REPEAT,O.REPEAT,O.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}},this)},setTexture:function(v,f){return this.displayTexture=this.scene.sys.textures.get(v),this.setFrame(f)},setFrame:function(v){var f=this.displayTexture.get(v);return this.potWidth=i(f.width),this.potHeight=i(f.height),this.canvas.width=0,!f.cutWidth||!f.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=f,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(v,f){return v!==void 0&&(this.tilePositionX=v),f!==void 0&&(this.tilePositionY=f),this},setTileScale:function(v,f){return v===void 0&&(v=this.tileScaleX),f===void 0&&(f=v),this.tileScaleX=v,this.tileScaleY=f,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var v=this.displayFrame;if(v.source.isRenderTexture||v.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var f=this.fillContext,c=this.fillCanvas,g=this.potWidth,m=this.potHeight;(!this.renderer||!this.renderer.gl)&&(g=v.cutWidth,m=v.cutHeight),f.clearRect(0,0,g,m),c.width=g,c.height=m,f.drawImage(v.source.image,v.cutX,v.cutY,v.cutWidth,v.cutHeight,0,0,g,m),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(c,this.fillPattern):this.fillPattern=f.createPattern(c,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var v=this.canvas;if((v.width!==this.width||v.height!==this.height)&&(v.width=this.width,v.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var f=this.context;this.scene.sys.game.config.antialias||r.disable(f);var c=this._tileScale.x,g=this._tileScale.y,m=this._tilePosition.x,x=this._tilePosition.y;f.clearRect(0,0,this.width,this.height),f.save(),f.scale(c,g),f.translate(-m,-x),f.fillStyle=this.fillPattern,f.fillRect(m,x,this.width/c,this.height/g),f.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),e.remove(this.canvas),e.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(v){this._tilePosition.x=v,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(v){this._tilePosition.y=v,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(v){this._tileScale.x=v,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(v){this._tileScale.y=v,this.dirty=!0}}});p.exports=u},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(18),o=t(11),a=t(75),s=t(22),i=t(51),r=t(15),l=t(70),n=t(222),h=t(1094),u=t(14),v=new e({Extends:r,Mixins:[o.Alpha,o.BlendMode,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Size,o.TextureCrop,o.Tint,o.Transform,o.Visible,h],initialize:function(c,g,m,x){r.call(this,c,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=n(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=u.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(g,m),this.initPipeline(),x&&this.changeSource(x,!1);var y=c.sys.game.events;y.on(s.PAUSE,this.globalPause,this),y.on(s.RESUME,this.globalResume,this);var T=c.sys.sound;T&&T.on(l.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(f,c,g){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var m=this.video;if(!m)return console.warn("Video not loaded"),this;f===void 0&&(f=m.loop);var x=this.scene.sys.sound;x&&x.mute&&this.setMute(!0),isNaN(c)||(this._markerIn=c),!isNaN(g)&&g>c&&(this._markerOut=g),m.loop=f;var y=this._callbacks,T=m.play();return T!==void 0?T.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(m.addEventListener("playing",y.play,!0),m.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),m.addEventListener("ended",y.end,!0),m.addEventListener("timeupdate",y.time,!0),m.addEventListener("seeking",y.seeking,!0),m.addEventListener("seeked",y.seeked,!0),this},changeSource:function(f,c,g,m,x){c===void 0&&(c=!0);var y=this.video;y&&this.stop();var T=this.scene.sys.cache.video.get(f);return T?(this.video=T,this._cacheKey=f,this._codePaused=T.paused,this._codeMuted=T.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,T,T.videoWidth,T.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,T.videoWidth,T.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(a.VIDEO_CREATED,this,T.videoWidth,T.videoHeight)):this.updateTexture(),T.currentTime=0,this._lastUpdate=0,c&&this.play(g,m,x)):this.video=null,this},addMarker:function(f,c,g){return!isNaN(c)&&c>=0&&!isNaN(g)&&(this.markers[f]=[c,g]),this},playMarker:function(f,c){var g=this.markers[f];return g&&this.play(c,g[0],g[1]),this},removeMarker:function(f){return delete this.markers[f],this},snapshot:function(f,c){return f===void 0&&(f=this.width),c===void 0&&(c=this.height),this.snapshotArea(0,0,this.width,this.height,f,c)},snapshotArea:function(f,c,g,m,x,y){f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=this.width),m===void 0&&(m=this.height),x===void 0&&(x=g),y===void 0&&(y=m);var T=this.video,E=this.snapshotTexture;return E?(E.setSize(x,y),T&&E.context.drawImage(T,f,c,g,m,0,0,x,y)):(E=this.scene.sys.textures.createCanvas(n(),x,y),this.snapshotTexture=E,T&&E.context.drawImage(T,f,c,g,m,0,0,x,y)),E.update()},saveSnapshotTexture:function(f){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,f):this.snapshotTexture=this.scene.sys.textures.createCanvas(f,this.width,this.height),this.snapshotTexture},loadURL:function(f,c,g){c===void 0&&(c="loadeddata"),g===void 0&&(g=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var m=document.createElement("video");return m.controls=!1,g&&(m.muted=!0,m.defaultMuted=!0,m.setAttribute("autoplay","autoplay")),m.setAttribute("playsinline","playsinline"),m.setAttribute("preload","auto"),m.addEventListener("error",this._callbacks.error,!0),m.src=f,m.load(),this.video=m,this},loadMediaStream:function(f,c,g){c===void 0&&(c="loadeddata"),g===void 0&&(g=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var m=document.createElement("video");m.controls=!1,g&&(m.muted=!0,m.defaultMuted=!0,m.setAttribute("autoplay","autoplay")),m.setAttribute("playsinline","playsinline"),m.setAttribute("preload","auto"),m.addEventListener("error",this._callbacks.error,!0);try{m.srcObject=f}catch(x){m.src=window.URL.createObjectURL(f)}return m.load(),this.video=m,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(a.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(f){this.scene.sys.input.once(i.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(a.VIDEO_ERROR,this,f)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(a.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(f){this.stop(),this.emit(a.VIDEO_ERROR,this,f)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(a.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(a.VIDEO_PLAY,this)},completeHandler:function(){this.emit(a.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(a.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var f=this.video;if(f){var c=f.currentTime;c!==this._lastUpdate&&(this._lastUpdate=c,this.updateTexture(),c>=this._markerOut&&(f.loop?(f.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=c,this.emit(a.VIDEO_LOOP,this)):(this.emit(a.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(a.VIDEO_TIMEOUT,this))},updateTexture:function(){var f=this.video,c=f.videoWidth,g=f.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,f,c,g),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,c,g),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(a.VIDEO_CREATED,this,c,g);else{var m=this.videoTextureSource;m.source!==f&&(m.source=f,m.width=c,m.height=g),m.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(f){var c=this.video;if(c){var g=c.duration;if(g!==1/0&&!isNaN(g)){var m=g*f;this.setCurrentTime(m)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(f){var c=this.video;if(c){if(typeof f=="string"){var g=f[0],m=parseFloat(f.substr(1));g==="+"?f=c.currentTime+m:g==="-"&&(f=c.currentTime-m)}c.currentTime=f,this._lastUpdate=f}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(a.VIDEO_SEEKED,this);var f=this.video;f&&this.updateTexture()},getProgress:function(){var f=this.video;if(f){var c=f.currentTime,g=f.duration;if(g!==1/0&&!isNaN(g))return c/g}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(f){f===void 0&&(f=!0),this._codeMuted=f;var c=this.video;return c&&(c.muted=this._systemMuted?!0:f),this},isMuted:function(){return this._codeMuted},globalMute:function(f,c){this._systemMuted=c;var g=this.video;g&&(g.muted=this._codeMuted?!0:c)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(f){f===void 0&&(f=!0);var c=this.video;return this._codePaused=f,c&&(f?c.paused||c.pause():f||c.paused&&!this._systemPaused&&c.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(f){return f===void 0&&(f=1),this.video&&(this.video.volume=d(f,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(f){return this.video&&(this.video.playbackRate=f),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(f){return f===void 0&&(f=!0),this.video&&(this.video.loop=f),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(f,c){return c===void 0&&(c=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,f),this._key=f,this.flipY=c,this.videoTextureSource&&this.videoTextureSource.setFlipY(c),this.videoTexture},stop:function(){var f=this.video;if(f){var c=this._callbacks;for(var g in c)f.removeEventListener(g,c[g],!0);f.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var f=this.video;if(!!f){for(f.parentNode&&f.parentNode.removeChild(f);f.hasChildNodes();)f.removeChild(f.firstChild);f.removeAttribute("autoplay"),f.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var f=this.scene.sys.game.events;f.off(s.PAUSE,this.globalPause,this),f.off(s.RESUME,this.globalResume,this);var c=this.scene.sys.sound;c&&c.off(l.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});p.exports=v},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(228),o=t(470),a=t(56),s=new e({initialize:function(r){this.type=a.POLYGON,this.area=0,this.points=[],r&&this.setTo(r)},contains:function(i,r){return d(this,i,r)},setTo:function(i){if(this.area=0,this.points=[],typeof i=="string"&&(i=i.split(" ")),!Array.isArray(i))return this;for(var r,l=Number.MAX_VALUE,n=0;n<i.length;n++)r={x:0,y:0},typeof i[n]=="number"||typeof i[n]=="string"?(r.x=parseFloat(i[n]),r.y=parseFloat(i[n+1]),n++):Array.isArray(i[n])?(r.x=i[n][0],r.y=i[n][1]):(r.x=i[n].x,r.y=i[n].y),this.points.push(r),r.y<l&&(l=r.y);return this.calculateArea(l),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var i=0,r,l,n=0;n<this.points.length-1;n++)r=this.points[n],l=this.points[n+1],i+=(l.x-r.x)*(r.y+l.y);return r=this.points[0],l=this.points[this.points.length-1],i+=(r.x-l.x)*(l.y+r.y),this.area=-i*.5,this.area},getPoints:function(i,r,l){return o(this,i,r,l)}});p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){for(var a=!1,s=-1,i=e.points.length-1;++s<e.points.length;i=s){var r=e.points[s].x,l=e.points[s].y,n=e.points[i].x,h=e.points[i].y;(l<=o&&o<h||h<=o&&o<l)&&d<(n-r)*(o-l)/(h-l)+r&&(a=!a)}return a};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(15),a=t(2),s=t(17),i=t(478),r=t(1176),l=t(25),n=new e({Extends:o,Mixins:[d.ComputedSize,d.Depth,d.GetBounds,d.Mask,d.Origin,d.ScrollFactor,d.Transform,d.Visible,r],initialize:function(u,v,f,c,g,m,x,y){f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=128),m===void 0&&(m=128),o.call(this,u,"Shader"),this.blendMode=-1,this.shader;var T=u.sys.renderer;this.renderer=T,this.gl=T.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=T.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=T.width,this._rendererHeight=T.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(f,c),this.setSize(g,m),this.setOrigin(.5,.5),this.setShader(v,x,y)},willRender:function(h){return this.renderToTexture?!0:!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},setRenderToTexture:function(h,u){if(u===void 0&&(u=!1),!this.renderToTexture){var v=this.width,f=this.height,c=this.renderer;this.glTexture=c.createTextureFromSource(null,v,f,0),this.glTexture.flipY=u,this.framebuffer=c.createFramebuffer(v,f,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=f,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),h&&(this.texture=this.scene.sys.textures.addGLTexture(h,this.glTexture,v,f))}return this.shader&&(c.pipelines.clear(),this.load(),this.flush(),c.pipelines.rebind()),this},setShader:function(h,u,v){if(u===void 0&&(u=[]),typeof h=="string"){var f=this.scene.sys.cache.shader;if(!f.has(h))return console.warn("Shader missing: "+h),this;this.shader=f.get(h)}else this.shader=h;var c=this.gl,g=this.renderer;this.program&&c.deleteProgram(this.program);var m=g.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);c.uniformMatrix4fv(c.getUniformLocation(m,"uViewMatrix"),!1,this.viewMatrix),c.uniformMatrix4fv(c.getUniformLocation(m,"uProjectionMatrix"),!1,this.projectionMatrix),c.uniform2f(c.getUniformLocation(m,"uResolution"),this.width,this.height),this.program=m;var x=new Date,y={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[x.getFullYear(),x.getMonth(),x.getDate(),x.getHours()*60*60+x.getMinutes()*60+x.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=s(!0,{},this.shader.uniforms,y):this.uniforms=y;for(var T=0;T<4;T++)u[T]&&this.setSampler2D("iChannel"+T,u[T],T,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(h){return this.pointer=h,this},projOrtho:function(h,u,v,f){var c=-1e3,g=1e3,m=1/(h-u),x=1/(v-f),y=1/(c-g),T=this.projectionMatrix;T[0]=-2*m,T[5]=-2*x,T[10]=2*y,T[12]=(h+u)*m,T[13]=(f+v)*x,T[14]=(g+c)*y;var E=this.program,R=this.gl,M=this.renderer;M.setProgram(E),R.uniformMatrix4fv(R.getUniformLocation(E,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=u,this._rendererHeight=v},initUniforms:function(){var h=this.gl,u=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var f in this.uniforms){var c=this.uniforms[f],g=c.type,m=u[g];c.uniformLocation=h.getUniformLocation(v,f),g!=="sampler2D"&&(c.glMatrix=m.matrix,c.glValueLength=m.length,c.glFunc=m.func)}},setSampler2DBuffer:function(h,u,v,f,c,g){c===void 0&&(c=0),g===void 0&&(g={});var m=this.uniforms[h];return m.value=u,g.width=v,g.height=f,m.textureData=g,this._textureCount=c,this.initSampler2D(m),this},setSampler2D:function(h,u,v,f){v===void 0&&(v=0);var c=this.scene.sys.textures;if(c.exists(u)){var g=c.getFrame(u);if(g.glTexture&&g.glTexture.isRenderTexture)return this.setSampler2DBuffer(h,g.glTexture,g.width,g.height,v,f);var m=this.uniforms[h],x=g.source;m.textureKey=u,m.source=x.image,m.value=g.glTexture,x.isGLTexture&&(f||(f={}),f.width=x.width,f.height=x.height),f&&(m.textureData=f),this._textureCount=v,this.initSampler2D(m)}return this},setUniform:function(h,u){return i(this.uniforms,h,u),this},getUniform:function(h){return a(this.uniforms,h,null)},setChannel0:function(h,u){return this.setSampler2D("iChannel0",h,0,u)},setChannel1:function(h,u){return this.setSampler2D("iChannel1",h,1,u)},setChannel2:function(h,u){return this.setSampler2D("iChannel2",h,2,u)},setChannel3:function(h,u){return this.setSampler2D("iChannel3",h,3,u)},initSampler2D:function(h){if(!!h.value){var u=this.gl;u.activeTexture(u.TEXTURE0+this._textureCount),u.bindTexture(u.TEXTURE_2D,h.value);var v=h.textureData;if(v&&!h.value.isRenderTexture){var f=u[a(v,"magFilter","linear").toUpperCase()],c=u[a(v,"minFilter","linear").toUpperCase()],g=u[a(v,"wrapS","repeat").toUpperCase()],m=u[a(v,"wrapT","repeat").toUpperCase()],x=u[a(v,"format","rgba").toUpperCase()];if(v.repeat&&(g=u.REPEAT,m=u.REPEAT),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!!v.flipY),v.width){var y=a(v,"width",512),T=a(v,"height",2),E=a(v,"border",0);u.texImage2D(u.TEXTURE_2D,0,x,y,T,E,x,u.UNSIGNED_BYTE,null)}else u.texImage2D(u.TEXTURE_2D,0,x,u.RGBA,u.UNSIGNED_BYTE,h.source);u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,f),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,c),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,g),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,m)}this.renderer.setProgram(this.program),u.uniform1i(h.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var h=this.gl,u=this.uniforms,v,f,c,g,m,x=0;for(var y in u)v=u[y],c=v.glFunc,f=v.glValueLength,g=v.uniformLocation,m=v.value,m!==null&&(f===1?v.glMatrix?c.call(h,g,v.transpose,m):c.call(h,g,m):f===2?c.call(h,g,m.x,m.y):f===3?c.call(h,g,m.x,m.y,m.z):f===4?c.call(h,g,m.x,m.y,m.z,m.w):v.type==="sampler2D"&&(h.activeTexture(h.TEXTURE0+x),h.bindTexture(h.TEXTURE_2D,m),h.uniform1i(g,x),x++))},load:function(h){var u=this.gl,v=this.width,f=this.height,c=this.renderer,g=this.program,m=this.viewMatrix;if(!this.renderToTexture){var x=-this._displayOriginX,y=-this._displayOriginY;m[0]=h[0],m[1]=h[1],m[4]=h[2],m[5]=h[3],m[8]=h[4],m[9]=h[5],m[12]=m[0]*x+m[4]*y,m[13]=m[1]*x+m[5]*y}u.useProgram(g),u.uniformMatrix4fv(u.getUniformLocation(g,"uViewMatrix"),!1,m),u.uniform2f(u.getUniformLocation(g,"uResolution"),this.width,this.height);var T=this.uniforms,E=T.resolution;E.value.x=v,E.value.y=f,T.time.value=c.game.loop.getDuration();var R=this.pointer;if(R){var M=T.mouse,P=R.x/v,O=1-R.y/f;M.value.x=P.toFixed(2),M.value.y=O.toFixed(2)}this.syncUniforms()},flush:function(){var h=this.width,u=this.height,v=this.program,f=this.gl,c=this.vertexBuffer,g=this.renderer,m=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(g.setFramebuffer(this.framebuffer),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT)),f.bindBuffer(f.ARRAY_BUFFER,c);var x=f.getAttribLocation(v,"inPosition");x!==-1&&(f.enableVertexAttribArray(x),f.vertexAttribPointer(x,2,f.FLOAT,!1,m,0));var y=this.vertexViewF32;y[3]=u,y[4]=h,y[5]=u,y[8]=h,y[9]=u,y[10]=h;var T=6;f.bufferSubData(f.ARRAY_BUFFER,0,this.bytes.subarray(0,T*m)),f.drawArrays(f.TRIANGLES,0,T),this.renderToTexture&&g.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var h=this.gl;h.deleteProgram(this.program),h.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});p.exports=n},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(36),a=t(116),s=t(15),i=t(479),r=t(480),l=t(19),n=t(69),h=t(1179),u=t(79),v=t(39),f=t(117),c=new e({Extends:s,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.Pipeline,d.Size,d.Texture,d.Transform,d.Visible,d.ScrollFactor,h],initialize:function(m,x,y,T,E,R,M,P,O,I,B,w){x===void 0&&(x=0),y===void 0&&(y=0),T===void 0&&(T="__WHITE"),s.call(this,m,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new n,this.viewPosition=new v,this.viewMatrix=new n,this.projectionMatrix=new n,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var z=m.sys.renderer;this.setPosition(x,y),this.setTexture(T,E),this.setSize(z.width,z.height),this.initPipeline(),this.setPerspective(z.width,z.height),R&&this.addVertices(R,M,P,O,I,B,w)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(g){return this.viewPosition.addScale(v.LEFT,g),this.dirtyCache[10]=1,this},panY:function(g){return this.viewPosition.y+=v.DOWN.y*g,this.dirtyCache[10]=1,this},panZ:function(g){return this.viewPosition.z+=g,this.dirtyCache[10]=1,this},setPerspective:function(g,m,x,y,T){return x===void 0&&(x=45),y===void 0&&(y=.01),T===void 0&&(T=1e3),this.projectionMatrix.perspective(o(x),g/m,y,T),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(g,m,x,y){return g===void 0&&(g=this.scene.sys.renderer.getAspectRatio()),m===void 0&&(m=1),x===void 0&&(x=-1e3),y===void 0&&(y=1e3),this.projectionMatrix.ortho(-g,g,-m,m,x,y),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(g){g.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(g,m,x,y,T,E,R,M,P){var O=this.scene.sys.cache.obj.get(g);return O&&r(O,this,m,x,y,T,E,R,M,P),this},sortByDepth:function(g,m){return g.depth-m.depth},depthSort:function(){return u(this.faces,this.sortByDepth),this},addVertex:function(g,m,x,y,T,E,R){var M=new f(g,m,x,y,T,E,R);return this.vertices.push(M),M},addFace:function(g,m,x){var y=new a(g,m,x);return this.faces.push(y),this.dirtyCache[9]=-1,y},addVertices:function(g,m,x,y,T,E,R){var M=i(g,m,x,y,T,E,R);return M&&(this.faces=this.faces.concat(M.faces),this.vertices=this.vertices.concat(M.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(g){return this.faces[g]},getFaceAt:function(g,m,x){x===void 0&&(x=this.scene.sys.cameras.main);for(var y=l(this,x).calc,T=this.faces,E=[],R=0;R<T.length;R++){var M=T[R];M.contains(g,m,y)&&E.push(M)}return u(E,this.sortByDepth)},setDebug:function(g,m){return this.debugGraphic=g,!g&&!m?this.debugCallback=null:m?this.debugCallback=m:this.debugCallback=this.renderDebug,this},isDirty:function(){var g=this.modelPosition,m=this.modelRotation,x=this.modelScale,y=this.dirtyCache,T=g.x,E=g.y,R=g.z,M=m.x,P=m.y,O=m.z,I=x.x,B=x.y,w=x.z,z=this.getFaceCount(),H=y[0],b=y[1],Q=y[2],D=y[3],F=y[4],G=y[5],N=y[6],X=y[7],V=y[8],W=y[9];return y[0]=T,y[1]=E,y[2]=R,y[3]=M,y[4]=P,y[5]=O,y[6]=I,y[7]=B,y[8]=w,y[9]=z,H!==T||b!==E||Q!==R||D!==M||F!==P||G!==O||N!==I||X!==B||V!==w||W!==z},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var g=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!g[10]&&!this.isDirty())){var m=this.width,x=this.height,y=this.viewMatrix,T=this.viewPosition;g[10]&&(y.identity(),y.translate(T),y.invert(),g[10]=0);var E=this.transformMatrix;E.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var R=T.z,M=this.faces,P=0;P<M.length;P++)M[P].transformCoordinatesLocal(E,m,x,R);this.depthSort()}},renderDebug:function(g,m){for(var x=g.debugGraphic,y=0;y<m.length;y++){var T=m[y],E=T.vertex1.tx,R=T.vertex1.ty,M=T.vertex2.tx,P=T.vertex2.ty,O=T.vertex3.tx,I=T.vertex3.ty;x.strokeTriangle(E,R,M,P,O,I)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});p.exports=c},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(50),d=function(o,a){return e(o.x,o.y,a.x,a.y)<=o.radius+a.radius};p.exports=d},function(p,C,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=t(233),o=function(a,s,i){if(i===void 0&&(i=[]),d(a,s)){var r=a.x1,l=a.y1,n=a.x2,h=a.y2,u=s.x,v=s.y,f=s.radius,c=n-r,g=h-l,m=r-u,x=l-v,y=c*c+g*g,T=2*(c*m+g*x),E=m*m+x*x-f*f,R=T*T-4*y*E,M,P;if(R===0){var O=-T/(2*y);M=r+O*c,P=l+O*g,O>=0&&O<=1&&i.push(new e(M,P))}else if(R>0){var I=(-T-Math.sqrt(R))/(2*y);M=r+I*c,P=l+I*g,I>=0&&I<=1&&i.push(new e(M,P));var B=(-T+Math.sqrt(R))/(2*y);M=r+B*c,P=l+B*g,B>=0&&B<=1&&i.push(new e(M,P))}}return i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),d=t(4),o=new d,a=function(s,i,r){if(r===void 0&&(r=o),e(i,s.x1,s.y1))return r.x=s.x1,r.y=s.y1,!0;if(e(i,s.x2,s.y2))return r.x=s.x2,r.y=s.y2,!0;var l=s.x2-s.x1,n=s.y2-s.y1,h=i.x-s.x1,u=i.y-s.y1,v=l*l+n*n,f=l,c=n;if(v>0){var g=(h*l+u*n)/v;f*=g,c*=g}r.x=s.x1+f,r.y=s.y1+c;var m=f*f+c*c;return m<=v&&f*l+c*n>=0&&e(i,r.x,r.y)};p.exports=a},function(p,C,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=t(96),o=t(488),a=function(s,i,r){if(r===void 0&&(r=[]),o(s,i))for(var l=i.getLineA(),n=i.getLineB(),h=i.getLineC(),u=i.getLineD(),v=[new e,new e,new e,new e],f=[d(l,s,v[0]),d(n,s,v[1]),d(h,s,v[2]),d(u,s,v[3])],c=0;c<4;c++)f[c]&&r.push(v[c]);return r};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o===void 0&&(o=!1),a===void 0&&(a=[]);for(var s=e.x3-e.x1,i=e.y3-e.y1,r=e.x2-e.x1,l=e.y2-e.y1,n=s*s+i*i,h=s*r+i*l,u=r*r+l*l,v=n*u-h*h,f=v===0?0:1/v,c,g,m,x,y,T,E=e.x1,R=e.y1,M=0;M<d.length&&(m=d[M].x-E,x=d[M].y-R,y=s*m+i*x,T=r*m+l*x,c=(u*y-h*T)*f,g=(n*T-h*y)*f,!(c>=0&&g>=0&&c+g<1&&(a.push({x:d[M].x,y:d[M].y}),o)));M++);return a};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=Math.cos(a),i=Math.sin(a),r=e.x1-d,l=e.y1-o;return e.x1=r*s-l*i+d,e.y1=r*i+l*s+o,r=e.x2-d,l=e.y2-o,e.x2=r*s-l*i+d,e.y2=r*i+l*s+o,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height===0?NaN:e.width/e.height};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=Math.cos(a),i=Math.sin(a),r=e.x1-d,l=e.y1-o;return e.x1=r*s-l*i+d,e.y1=r*i+l*s+o,r=e.x2-d,l=e.y2-o,e.x2=r*s-l*i+d,e.y2=r*i+l*s+o,r=e.x3-d,l=e.y3-o,e.x3=r*s-l*i+d,e.y3=r*i+l*s+o,e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BUTTON_DOWN:t(1310),BUTTON_UP:t(1311),CONNECTED:t(1312),DISCONNECTED:t(1313),GAMEPAD_BUTTON_DOWN:t(1314),GAMEPAD_BUTTON_UP:t(1315)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),d=t(156),o=function(a,s){var i=a===void 0?d():e({},a);if(s)for(var r in s)s[r]!==void 0&&(i[r]=s[r]);return i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=t(408),l=new e({Extends:o,initialize:function(h,u,v,f){var c="xml";if(i(u)){var g=u;u=s(g,"key"),v=s(g,"url"),f=s(g,"xhrSettings"),c=s(g,"extension",c)}var m={type:"xml",cache:h.cacheManager.xml,extension:c,responseType:"text",key:u,url:v,xhrSettings:f};o.call(this,h,m)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=r(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});a.register("xml",function(n,h,u){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new l(this,n[v]));else this.addFile(new l(this,n,h,u));return this}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v){var f="text",c="txt",g=n.cacheManager.text;if(i(h)){var m=h;h=s(m,"key"),u=s(m,"url"),v=s(m,"xhrSettings"),c=s(m,"extension",c),f=s(m,"type",f),g=s(m,"cache",g)}var x={type:f,cache:g,extension:c,responseType:"text",key:h,url:u,xhrSettings:v};o.call(this,n,x)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(l,n,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,n,h));return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Acceleration:t(1368),Angular:t(1369),Bounce:t(1370),Debug:t(1371),Drag:t(1372),Enable:t(1373),Friction:t(1374),Gravity:t(1375),Immovable:t(1376),Mass:t(1377),OverlapCirc:t(523),OverlapRect:t(244),Pushable:t(1378),Size:t(1379),Velocity:t(1380)}},function(p,C){var t=function(e,d,o,a,s,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var l=[],n=[],h=e.treeMinMax;if(h.minX=d,h.minY=o,h.maxX=d+a,h.maxY=o+s,r&&(n=e.staticTree.search(h)),i&&e.useTree)l=e.tree.search(h);else if(i){var u=e.bodies,v={position:{x:d,y:o},left:d,top:o,right:d+a,bottom:o+s,isCircle:!1},f=e.intersects;u.iterate(function(c){f(c,v)&&l.push(c)})}return n.concat(l)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={COLLIDE:t(1381),OVERLAP:t(1382),PAUSE:t(1383),RESUME:t(1384),TILE_COLLIDE:t(1385),TILE_OVERLAP:t(1386),WORLD_BOUNDS:t(1387),WORLD_STEP:t(1388)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),d=function(o,a,s,i){var r=0,l=o.deltaAbsX()+a.deltaAbsX()+i;return o._dx===0&&a._dx===0?(o.embedded=!0,a.embedded=!0):o._dx>a._dx?(r=o.right-a.x,r>l&&!s||o.checkCollision.right===!1||a.checkCollision.left===!1?r=0:(o.touching.none=!1,o.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===e.STATIC_BODY&&!s&&(o.blocked.none=!1,o.blocked.right=!0),o.physicsType===e.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.left=!0))):o._dx<a._dx&&(r=o.x-a.width-a.x,-r>l&&!s||o.checkCollision.left===!1||a.checkCollision.right===!1?r=0:(o.touching.none=!1,o.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===e.STATIC_BODY&&!s&&(o.blocked.none=!1,o.blocked.left=!0),o.physicsType===e.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.right=!0))),o.overlapX=r,a.overlapX=r,r};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),d=function(o,a,s,i){var r=0,l=o.deltaAbsY()+a.deltaAbsY()+i;return o._dy===0&&a._dy===0?(o.embedded=!0,a.embedded=!0):o._dy>a._dy?(r=o.bottom-a.y,r>l&&!s||o.checkCollision.down===!1||a.checkCollision.up===!1?r=0:(o.touching.none=!1,o.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===e.STATIC_BODY&&!s&&(o.blocked.none=!1,o.blocked.down=!0),o.physicsType===e.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.up=!0))):o._dy<a._dy&&(r=o.y-a.bottom,-r>l&&!s||o.checkCollision.up===!1||a.checkCollision.down===!1?r=0:(o.touching.none=!1,o.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===e.STATIC_BODY&&!s&&(o.blocked.none=!1,o.blocked.up=!0),o.physicsType===e.STATIC_BODY&&!s&&(a.blocked.none=!1,a.blocked.down=!0))),o.overlapY=r,a.overlapY=r,r};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return!(d.right<=e.left||d.bottom<=e.top||d.position.x>=e.right||d.position.y>=e.bottom)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bounce:t(1495),Collision:t(1496),Force:t(1497),Friction:t(1498),Gravity:t(1499),Mass:t(1500),Sensor:t(1501),SetBody:t(1502),Sleep:t(1503),Static:t(1520),Transform:t(1521),Velocity:t(1522)}},function(p,C){var t={};p.exports=t,function(){t.create=function(e,d){var o=e.bodyA,a=e.bodyB,s={id:t.id(o,a),bodyA:o,bodyB:a,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:o.isSensor||a.isSensor,timeCreated:d,timeUpdated:d,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(s,e,d),s},t.update=function(e,d,o){if(e.collision=d,d.collided){var a=d.supports,s=e.activeContacts,i=d.parentA,r=d.parentB;e.inverseMass=i.inverseMass+r.inverseMass,e.friction=Math.min(i.friction,r.friction),e.frictionStatic=Math.max(i.frictionStatic,r.frictionStatic),e.restitution=Math.max(i.restitution,r.restitution),e.slop=Math.max(i.slop,r.slop);for(var l=0;l<a.length;l++)s[l]=a[l].contact;var n=a.length;n<s.length&&(s.length=n),e.separation=d.depth,t.setActive(e,!0,o)}else e.isActive===!0&&t.setActive(e,!1,o)},t.setActive=function(e,d,o){d?(e.isActive=!0,e.timeUpdated=o):(e.isActive=!1,e.activeContacts.length=0)},t.id=function(e,d){return e.id<d.id?"A"+e.id+"B"+d.id:"A"+d.id+"B"+e.id}}()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CalculateFacesAt:t(252),CalculateFacesWithin:t(63),CheckIsoBounds:t(541),Copy:t(1420),CreateFromTiles:t(1421),CullBounds:t(543),CullTiles:t(544),Fill:t(1422),FilterTiles:t(1423),FindByIndex:t(1424),FindTile:t(1425),ForEachTile:t(1426),GetCullTilesFunction:t(1427),GetTileAt:t(158),GetTileAtWorldXY:t(1428),GetTilesWithin:t(26),GetTilesWithinShape:t(1429),GetTilesWithinWorldXY:t(529),GetTileToWorldXFunction:t(1430),GetTileToWorldXYFunction:t(1431),GetTileToWorldYFunction:t(1432),GetWorldToTileXFunction:t(1433),GetWorldToTileXYFunction:t(1434),GetWorldToTileYFunction:t(1435),HasTileAt:t(562),HasTileAtWorldXY:t(1436),HexagonalCullBounds:t(546),HexagonalCullTiles:t(545),HexagonalTileToWorldXY:t(550),HexagonalTileToWorldY:t(554),HexagonalWorldToTileXY:t(556),HexagonalWorldToTileY:t(560),IsInLayerBounds:t(119),IsometricCullTiles:t(547),IsometricTileToWorldXY:t(551),IsometricWorldToTileXY:t(557),PutTileAt:t(257),PutTileAtWorldXY:t(1437),PutTilesAt:t(1438),Randomize:t(1439),RemoveTileAt:t(563),RemoveTileAtWorldXY:t(1440),RenderDebug:t(1441),ReplaceByIndex:t(542),RunCull:t(159),SetCollision:t(1442),SetCollisionBetween:t(1443),SetCollisionByExclusion:t(1444),SetCollisionByProperty:t(1445),SetCollisionFromCollisionGroup:t(1446),SetLayerCollisionIndex:t(160),SetTileCollision:t(72),SetTileIndexCallback:t(1447),SetTileLocationCallback:t(1448),Shuffle:t(1449),StaggeredCullBounds:t(549),StaggeredCullTiles:t(548),StaggeredTileToWorldXY:t(552),StaggeredTileToWorldY:t(555),StaggeredWorldToTileXY:t(558),StaggeredWorldToTileY:t(561),SwapByIndex:t(1450),TileToWorldX:t(253),TileToWorldXY:t(553),TileToWorldY:t(254),WeightedRandomize:t(1451),WorldToTileX:t(255),WorldToTileXY:t(559),WorldToTileY:t(256)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),d=function(o,a,s){var i=e(o,a,!0,s),r=e(o,a-1,!0,s),l=e(o,a+1,!0,s),n=e(o-1,a,!0,s),h=e(o+1,a,!0,s),u=i&&i.collides;return u&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),r&&r.collides&&(u&&(i.faceTop=!1),r.faceBottom=!u),l&&l.collides&&(u&&(i.faceBottom=!1),l.faceTop=!u),n&&n.collides&&(u&&(i.faceLeft=!1),n.faceRight=!u),h&&h.collides&&(u&&(i.faceRight=!1),h.faceLeft=!u),i&&!i.collides&&i.resetFaces(),i};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=o.baseTileWidth,s=o.tilemapLayer,i=0;return s&&(d||(d=s.scene.cameras.main),i=s.x+d.scrollX*(1-s.scrollFactorX),a*=s.scaleX),i+e*a};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=o.baseTileHeight,s=o.tilemapLayer,i=0;return s&&(d||(d=s.scene.cameras.main),i=s.y+d.scrollY*(1-s.scrollFactorY),a*=s.scaleY),i+e*a};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){d===void 0&&(d=!0);var s=a.baseTileWidth,i=a.tilemapLayer;return i&&(o||(o=i.scene.cameras.main),e=e-(i.x+o.scrollX*(1-i.scrollFactorX)),s*=i.scaleX),d?Math.floor(e/s):e/s};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){d===void 0&&(d=!0);var s=a.baseTileHeight,i=a.tilemapLayer;return i&&(o||(o=i.scene.cameras.main),e=e-(i.y+o.scrollY*(1-i.scrollFactorY)),s*=i.scaleY),d?Math.floor(e/s):e/s};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),d=t(119),o=t(252),a=t(72),s=function(i,r,l,n,h){if(n===void 0&&(n=!0),!d(r,l,h))return null;var u=h.data[l][r],v=u&&u.collides;if(i instanceof e)h.data[l][r]===null&&(h.data[l][r]=new e(h,i.index,r,l,h.tileWidth,h.tileHeight)),h.data[l][r].copy(i);else{var f=i;h.data[l][r]===null?h.data[l][r]=new e(h,f,r,l,h.tileWidth,h.tileHeight):h.data[l][r].index=f}var c=h.data[l][r],g=h.collideIndexes.indexOf(c.index)!==-1;return a(c,g),n&&v!==c.collides&&o(r,l,h),c};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),d=function(o){return o=o.toLowerCase(),o==="isometric"?e.ISOMETRIC:o==="staggered"?e.STAGGERED:o==="hexagonal"?e.HEXAGONAL:e.ORTHOGONAL};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),d=t(120),o=t(121),a=t(85),s=function(i,r,l,n,h){for(var u=new d({tileWidth:l,tileHeight:n}),v=new o({name:i,tileWidth:l,tileHeight:n,format:e.ARRAY_2D,layers:[u]}),f=[],c=r.length,g=0,m=0;m<r.length;m++){f[m]=[];for(var x=r[m],y=0;y<x.length;y++){var T=parseInt(x[y],10);isNaN(T)||T===-1?f[m][y]=h?null:new a(u,-1,y,m,l,n):f[m][y]=new a(u,T,y,m,l,n)}g===0&&(g=x.length)}return v.width=u.width=g,v.height=u.height=c,v.widthInPixels=u.widthInPixels=g*l,v.heightInPixels=u.heightInPixels=c*n,u.data=f,v};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(571),d=t(261),o=function(i){return{x:i.x,y:i.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],s=function(i,r,l){r===void 0&&(r=0),l===void 0&&(l=0);var n=e(i,a);if(n.x+=r,n.y+=l,i.gid){var h=d(i.gid);n.gid=h.gid,n.flippedHorizontal=h.flippedHorizontal,n.flippedVertical=h.flippedVertical,n.flippedAntiDiagonal=h.flippedAntiDiagonal}else i.polyline?n.polyline=i.polyline.map(o):i.polygon?n.polygon=i.polygon.map(o):i.ellipse?n.ellipse=i.ellipse:i.text?n.text=i.text:i.point?n.point=!0:n.rectangle=!0;return n};p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=2147483648,e=1073741824,d=536870912,o=function(a){var s=Boolean(a&t),i=Boolean(a&e),r=Boolean(a&d);a=a&~(t|e|d);var l=0,n=!1;return s&&i&&r?(l=Math.PI/2,n=!0):s&&i&&!r?(l=Math.PI,n=!1):s&&!i&&r?(l=Math.PI/2,n=!1):s&&!i&&!r?(l=0,n=!0):!s&&i&&r?(l=3*Math.PI/2,n=!1):!s&&i&&!r?(l=Math.PI,n=!0):!s&&!i&&r?(l=3*Math.PI/2,n=!0):!s&&!i&&!r&&(l=0,n=!1),{gid:a,flippedHorizontal:s,flippedVertical:i,flippedAntiDiagonal:r,rotation:l,flipped:n}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),d=t(121),o=t(564),a=t(580),s=function(i,r,l,n,h,u,v,f){l===void 0&&(l=32),n===void 0&&(n=32),h===void 0&&(h=10),u===void 0&&(u=10),f===void 0&&(f=!1);var c=null;if(Array.isArray(v)){var g=r!==void 0?r:"map";c=o(g,e.ARRAY_2D,v,l,n,f)}else if(r!==void 0){var m=i.cache.tilemap.get(r);m?c=o(r,m.format,m.data,l,n,f):console.warn("No map data found for key "+r)}return c===null&&(c=new d({tileWidth:l,tileHeight:n,width:h,height:u})),new a(i,c)};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),d=function(o){var a=e(o,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(s){return!!s.getActive&&typeof s.getActive=="function"}function e(s){return!!s.getStart&&typeof s.getStart=="function"}function d(s){return!!s.getEnd&&typeof s.getEnd=="function"}function o(s){return e(s)||d(s)||t(s)}var a=function(s,i){var r,l=function(T,E,R){return R},n=function(T,E,R){return R},h=null,u=typeof i;if(u==="number")l=function(){return i};else if(u==="string"){var v=i[0],f=parseFloat(i.substr(2));switch(v){case"+":l=function(T,E,R){return R+f};break;case"-":l=function(T,E,R){return R-f};break;case"*":l=function(T,E,R){return R*f};break;case"/":l=function(T,E,R){return R/f};break;default:l=function(){return parseFloat(i)}}}else if(u==="function")l=i;else if(u==="object")if(o(i))t(i)&&(h=i.getActive),d(i)&&(l=i.getEnd),e(i)&&(n=i.getStart);else if(i.hasOwnProperty("value"))r=a(s,i.value);else{var c=i.hasOwnProperty("to"),g=i.hasOwnProperty("from"),m=i.hasOwnProperty("start");if(c&&(g||m)){if(r=a(s,i.to),m){var x=a(s,i.start);r.getActive=x.getEnd}if(g){var y=a(s,i.from);r.getStart=y.getEnd}}}return r||(r={getActive:h,getEnd:l,getStart:n}),r};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(9),o=t(267),a=t(16),s=t(5),i=t(100),r=t(14),l=new e({Extends:d,initialize:function(h,u,v){d.call(this),this.parent=h,this.parentIsTimeline=h.hasOwnProperty("isTimeline"),this.data=u,this.totalData=u.length,this.targets=v,this.totalTargets=v.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=i.PENDING_ADD,this._pausedState=i.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(n){return n===void 0&&(n=0),this.data[n].current},setTimeScale:function(n){return this.timeScale=n,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===i.ACTIVE},isPaused:function(){return this.state===i.PAUSED},hasTarget:function(n){return this.targets.indexOf(n)!==-1},updateTo:function(n,h,u){u===void 0&&(u=!1);for(var v=0;v<this.totalData;v++){var f=this.data[v];f.key===n&&(f.end=h,u&&(f.start=f.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===i.ACTIVE?this.seek(0):this.state===i.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===i.PENDING_ADD?this:this.play()},calcDuration:function(){for(var n=0,h=r.MAX_SAFE_INTEGER,u=this.data,v=0;v<this.totalData;v++){var f=u[v];f.t1=f.duration+f.hold,f.yoyo&&(f.t1+=f.duration),f.t2=f.t1+f.repeatDelay,f.totalDuration=f.delay+f.t1,f.repeat===-1?f.totalDuration+=f.t2*999999999999:f.repeat>0&&(f.totalDuration+=f.t2*f.repeat),f.totalDuration>n&&(n=f.totalDuration),f.delay<h&&(h=f.delay)}this.duration=Math.max(n,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=h},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=i.PENDING_ADD,this._pausedState=i.INIT,!1;for(var n=this.data,h=this.totalTargets,u=0;u<this.totalData;u++){var v=n[u],f=v.target,c=v.gen,g=v.key,m=v.index;v.delay=c.delay(f,g,0,m,h,this),v.duration=Math.max(c.duration(f,g,0,m,h,this),.001),v.hold=c.hold(f,g,0,m,h,this),v.repeat=c.repeat(f,g,0,m,h,this),v.repeatDelay=c.repeatDelay(f,g,0,m,h,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=i.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(o.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=i.LOOP_DELAY):(this.state=i.ACTIVE,this.dispatchTweenEvent(o.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=i.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=i.PENDING_REMOVE,this.dispatchTweenEvent(o.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===i.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=i.PAUSED,this)},play:function(n){n===void 0&&(n=!1);var h=this.state;return h===i.INIT&&!this.parentIsTimeline?(this.resetTweenData(!1),this.state=i.ACTIVE,this):h===i.ACTIVE||h===i.PENDING_ADD&&this._pausedState===i.PENDING_ADD?this:!this.parentIsTimeline&&(h===i.PENDING_REMOVE||h===i.REMOVED)?(this.seek(0),this.parent.makeActive(this),this):(this.parentIsTimeline?(this.resetTweenData(n),this.calculatedOffset===0?this.state=i.ACTIVE:(this.countdown=this.calculatedOffset,this.state=i.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(n),this.state=i.ACTIVE,this.makeActive()),this)},resetTweenData:function(n){for(var h=this.data,u=this.totalData,v=this.totalTargets,f=0;f<u;f++){var c=h[f],g=c.target,m=c.key,x=c.index;c.progress=0,c.elapsed=0,c.repeatCounter=c.repeat===-1?999999999999:c.repeat,n?(c.start=c.getStartValue(g,m,c.start,x,v,this),c.end=c.getEndValue(g,m,c.end,x,v,this),c.current=c.start,c.state=i.PLAYING_FORWARD):c.state=i.PENDING_RENDER,c.delay>0&&(c.elapsed=c.delay,c.state=i.DELAY),c.getActiveValue&&(g[m]=c.getActiveValue(c.target,c.key,c.start))}},resume:function(){return this.state===i.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(n,h){h===void 0&&(h=16.6),this.state===i.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var u=this.data,v=this.totalTargets,f=0;f<this.totalData;f++){var c=u[f],g=c.target,m=c.gen,x=c.key,y=c.index;c.progress=0,c.elapsed=0,c.repeatCounter=c.repeat===-1?999999999999:c.repeat,c.delay=m.delay(g,x,0,y,v,this),c.duration=Math.max(m.duration(g,x,0,y,v,this),.001),c.hold=m.hold(g,x,0,y,v,this),c.repeat=m.repeat(g,x,0,y,v,this),c.repeatDelay=m.repeatDelay(g,x,0,y,v,this),c.current=c.start,c.state=i.PLAYING_FORWARD,this.updateTweenData(this,c,0,y,v),c.delay>0&&(c.elapsed=c.delay,c.state=i.DELAY)}this.calcDuration();var T=!1;this.state===i.PAUSED&&(T=!0,this.state=i.ACTIVE),this.isSeeking=!0;do this.update(0,h);while(this.totalProgress<n);return this.isSeeking=!1,T&&(this.state=i.PAUSED),this},setCallback:function(n,h,u,v){return this.callbacks[n]={func:h,scope:v,params:u},this},complete:function(n){return n===void 0&&(n=0),n?(this.state=i.COMPLETE_DELAY,this.countdown=n):(this.state=i.PENDING_REMOVE,this.dispatchTweenEvent(o.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(n){return this.state===i.ACTIVE&&n!==void 0&&this.seek(n),this.state!==i.REMOVED&&((this.state===i.PAUSED||this.state===i.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(o.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=i.PENDING_REMOVE),this},update:function(n,h){if(this.state===i.PAUSED)return!1;switch(this.useFrames&&(h=1*this.parent.timeScale),h*=this.timeScale,this.elapsed+=h,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=h,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case i.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=h,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(o.TWEEN_START,this.callbacks.onStart)));for(var u=!1,v=0;v<this.totalData;v++){var f=this.data[v];this.updateTweenData(this,f,h)&&(u=!0)}u||this.nextState();break;case i.LOOP_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=i.ACTIVE,this.dispatchTweenEvent(o.TWEEN_LOOP,this.callbacks.onLoop));break;case i.OFFSET_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=i.ACTIVE);break;case i.COMPLETE_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=i.PENDING_REMOVE,this.dispatchTweenEvent(o.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===i.PENDING_REMOVE},dispatchTweenDataEvent:function(n,h,u){this.isSeeking||(this.emit(n,this,u.key,u.target,u.current,u.previous),h&&(h.params[1]=u.target,h.func.apply(h.scope,h.params)))},dispatchTweenEvent:function(n,h){this.isSeeking||(this.emit(n,this,this.targets),h&&(h.params[1]=this.targets,h.func.apply(h.scope,h.params)))},setStateFromEnd:function(n,h,u){return h.yoyo?(h.elapsed=u,h.progress=u/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),this.dispatchTweenDataEvent(o.TWEEN_YOYO,n.callbacks.onYoyo,h),h.start=h.getStartValue(h.target,h.key,h.start,h.index,n.totalTargets,n),i.PLAYING_BACKWARD):h.repeatCounter>0?(h.repeatCounter--,h.elapsed=u,h.progress=u/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),h.start=h.getStartValue(h.target,h.key,h.start,h.index,n.totalTargets,n),h.end=h.getEndValue(h.target,h.key,h.start,h.index,n.totalTargets,n),h.repeatDelay>0?(h.elapsed=h.repeatDelay-u,h.current=h.start,h.target[h.key]=h.current,i.REPEAT_DELAY):(this.dispatchTweenDataEvent(o.TWEEN_REPEAT,n.callbacks.onRepeat,h),i.PLAYING_FORWARD)):i.COMPLETE},setStateFromStart:function(n,h,u){return h.repeatCounter>0?(h.repeatCounter--,h.elapsed=u,h.progress=u/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),h.end=h.getEndValue(h.target,h.key,h.start,h.index,n.totalTargets,n),h.repeatDelay>0?(h.elapsed=h.repeatDelay-u,h.current=h.start,h.target[h.key]=h.current,i.REPEAT_DELAY):(this.dispatchTweenDataEvent(o.TWEEN_REPEAT,n.callbacks.onRepeat,h),i.PLAYING_FORWARD)):i.COMPLETE},updateTweenData:function(n,h,u){var v=h.target;switch(h.state){case i.PLAYING_FORWARD:case i.PLAYING_BACKWARD:if(!v){h.state=i.COMPLETE;break}var f=h.elapsed,c=h.duration,g=0;f+=u,f>c&&(g=f-c,f=c);var m=h.state===i.PLAYING_FORWARD,x=f/c;if(h.elapsed=f,h.progress=x,h.previous=h.current,x===1)m?(h.current=h.end,v[h.key]=h.end,h.hold>0?(h.elapsed=h.hold-g,h.state=i.HOLD_DELAY):h.state=this.setStateFromEnd(n,h,g)):(h.current=h.start,v[h.key]=h.start,h.state=this.setStateFromStart(n,h,g));else{var y=m?h.ease(x):h.ease(1-x);h.current=h.start+(h.end-h.start)*y,v[h.key]=h.current}this.dispatchTweenDataEvent(o.TWEEN_UPDATE,n.callbacks.onUpdate,h);break;case i.DELAY:h.elapsed-=u,h.elapsed<=0&&(h.elapsed=Math.abs(h.elapsed),h.state=i.PENDING_RENDER);break;case i.REPEAT_DELAY:h.elapsed-=u,h.elapsed<=0&&(h.elapsed=Math.abs(h.elapsed),h.state=i.PLAYING_FORWARD,this.dispatchTweenDataEvent(o.TWEEN_REPEAT,n.callbacks.onRepeat,h));break;case i.HOLD_DELAY:h.elapsed-=u,h.elapsed<=0&&(h.state=this.setStateFromEnd(n,h,Math.abs(h.elapsed)));break;case i.PENDING_RENDER:v?(h.start=h.getStartValue(v,h.key,v[h.key],h.index,n.totalTargets,n),h.end=h.getEndValue(v,h.key,h.start,h.index,n.totalTargets,n),h.current=h.start,v[h.key]=h.start,h.state=i.PLAYING_FORWARD):h.state=i.COMPLETE;break}return h.state!==i.COMPLETE}});l.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],s.register("tween",function(n){return this.scene.sys.tweens.add(n)}),a.register("tween",function(n){return this.scene.sys.tweens.create(n)}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TIMELINE_COMPLETE:t(1466),TIMELINE_LOOP:t(1467),TIMELINE_PAUSE:t(1468),TIMELINE_RESUME:t(1469),TIMELINE_START:t(1470),TIMELINE_UPDATE:t(1471),TWEEN_ACTIVE:t(1472),TWEEN_COMPLETE:t(1473),TWEEN_LOOP:t(1474),TWEEN_REPEAT:t(1475),TWEEN_START:t(1476),TWEEN_STOP:t(1477),TWEEN_UPDATE:t(1478),TWEEN_YOYO:t(1479)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s,i,r,l,n,h,u,v,f,c,g){return{target:e,index:d,key:o,getActiveValue:i,getEndValue:a,getStartValue:s,ease:r,duration:0,totalDuration:0,delay:0,yoyo:h,hold:0,repeat:0,repeatDelay:0,flipX:c,flipY:g,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:l,duration:n,hold:u,repeat:v,repeatDelay:f},state:0}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),d=function(o){return e(o,-Math.PI,Math.PI)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),d=function(o){return e(o,-180,180)};p.exports=d},function(p,C,t){var e={};p.exports=e;var d=t(83),o=t(32);(function(){e.fromVertices=function(a){for(var s={},i=0;i<a.length;i++){var r=(i+1)%a.length,l=d.normalise({x:a[r].y-a[i].y,y:a[i].x-a[r].x}),n=l.y===0?1/0:l.x/l.y;n=n.toFixed(3).toString(),s[n]=l}return o.values(s)},e.rotate=function(a,s){if(s!==0)for(var i=Math.cos(s),r=Math.sin(s),l=0;l<a.length;l++){var n=a[l],h;h=n.x*i-n.y*r,n.y=n.x*r+n.y*i,n.x=h}}})()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_ADD:t(1504),AFTER_REMOVE:t(1505),AFTER_UPDATE:t(1506),BEFORE_ADD:t(1507),BEFORE_REMOVE:t(1508),BEFORE_UPDATE:t(1509),COLLISION_ACTIVE:t(1510),COLLISION_END:t(1511),COLLISION_START:t(1512),DRAG_END:t(1513),DRAG:t(1514),DRAG_START:t(1515),PAUSE:t(1516),RESUME:t(1517),SLEEP_END:t(1518),SLEEP_START:t(1519)}},function(p,C,t){var e={};p.exports=e;var d=t(274),o=t(250),a=t(84);(function(){e.collisions=function(s,i){for(var r=[],l=i.pairs.table,n=i.metrics,h=0;h<s.length;h++){var u=s[h][0],v=s[h][1];if(!((u.isStatic||u.isSleeping)&&(v.isStatic||v.isSleeping))&&!!e.canCollide(u.collisionFilter,v.collisionFilter)&&(n.midphaseTests+=1,a.overlaps(u.bounds,v.bounds)))for(var f=u.parts.length>1?1:0;f<u.parts.length;f++)for(var c=u.parts[f],g=v.parts.length>1?1:0;g<v.parts.length;g++){var m=v.parts[g];if(c===u&&m===v||a.overlaps(c.bounds,m.bounds)){var x=o.id(c,m),y=l[x],T;y&&y.isActive?T=y.collision:T=null;var E=d.collides(c,m,T);n.narrowphaseTests+=1,E.reused&&(n.narrowReuseCount+=1),E.collided&&(r.push(E),n.narrowDetections+=1)}}}return r},e.canCollide=function(s,i){return s.group===i.group&&s.group!==0?s.group>0:(s.mask&i.category)!==0&&(i.mask&s.category)!==0}})()},function(p,C,t){var e={};p.exports=e;var d=t(64),o=t(83);(function(){e.collides=function(a,s,i){var r,l,n,h,u=!1;if(i){var v=a.parent,f=s.parent,c=v.speed*v.speed+v.angularSpeed*v.angularSpeed+f.speed*f.speed+f.angularSpeed*f.angularSpeed;u=i&&i.collided&&c<.2,h=i}else h={collided:!1,bodyA:a,bodyB:s};if(i&&u){var g=h.axisBody,m=g===a?s:a,x=[g.axes[i.axisNumber]];if(n=e._overlapAxes(g.vertices,m.vertices,x),h.reused=!0,n.overlap<=0)return h.collided=!1,h}else{if(r=e._overlapAxes(a.vertices,s.vertices,a.axes),r.overlap<=0||(l=e._overlapAxes(s.vertices,a.vertices,s.axes),l.overlap<=0))return h.collided=!1,h;r.overlap<l.overlap?(n=r,h.axisBody=a):(n=l,h.axisBody=s),h.axisNumber=n.axisNumber}h.bodyA=a.id<s.id?a:s,h.bodyB=a.id<s.id?s:a,h.collided=!0,h.depth=n.overlap,h.parentA=h.bodyA.parent,h.parentB=h.bodyB.parent,a=h.bodyA,s=h.bodyB,o.dot(n.axis,o.sub(s.position,a.position))<0?h.normal={x:n.axis.x,y:n.axis.y}:h.normal={x:-n.axis.x,y:-n.axis.y},h.tangent=o.perp(h.normal),h.penetration=h.penetration||{},h.penetration.x=h.normal.x*h.depth,h.penetration.y=h.normal.y*h.depth;var y=e._findSupports(a,s,h.normal),T=[];if(d.contains(a.vertices,y[0])&&T.push(y[0]),d.contains(a.vertices,y[1])&&T.push(y[1]),T.length<2){var E=e._findSupports(s,a,o.neg(h.normal));d.contains(s.vertices,E[0])&&T.push(E[0]),T.length<2&&d.contains(s.vertices,E[1])&&T.push(E[1])}return T.length<1&&(T=[y[0]]),h.supports=T,h},e._overlapAxes=function(a,s,i){for(var r=o._temp[0],l=o._temp[1],n={overlap:Number.MAX_VALUE},h,u,v=0;v<i.length;v++){if(u=i[v],e._projectToAxis(r,a,u),e._projectToAxis(l,s,u),h=Math.min(r.max-l.min,l.max-r.min),h<=0)return n.overlap=h,n;h<n.overlap&&(n.overlap=h,n.axis=u,n.axisNumber=v)}return n},e._projectToAxis=function(a,s,i){for(var r=o.dot(s[0],i),l=r,n=1;n<s.length;n+=1){var h=o.dot(s[n],i);h>l?l=h:h<r&&(r=h)}a.min=r,a.max=l},e._findSupports=function(a,s,i){for(var r=Number.MAX_VALUE,l=o._temp[0],n=s.vertices,h=a.position,u,v,f,c,g=0;g<n.length;g++)v=n[g],l.x=v.x-h.x,l.y=v.y-h.y,u=-o.dot(i,l),u<r&&(r=u,f=v);var m=f.index-1>=0?f.index-1:n.length-1;v=n[m],l.x=v.x-h.x,l.y=v.y-h.y,r=-o.dot(i,l),c=v;var x=(f.index+1)%n.length;return v=n[x],l.x=v.x-h.x,l.y=v.y-h.y,u=-o.dot(i,l),u<r&&(c=v),[f,c]}})()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AlignTo:t(601),Angle:t(602),Call:t(603),GetFirst:t(604),GetLast:t(605),GridAlign:t(606),IncAlpha:t(678),IncX:t(679),IncXY:t(680),IncY:t(681),PlaceOnCircle:t(682),PlaceOnEllipse:t(683),PlaceOnLine:t(684),PlaceOnRectangle:t(685),PlaceOnTriangle:t(686),PlayAnimation:t(687),PropertyValueInc:t(46),PropertyValueSet:t(27),RandomCircle:t(688),RandomEllipse:t(689),RandomLine:t(690),RandomRectangle:t(691),RandomTriangle:t(692),Rotate:t(693),RotateAround:t(694),RotateAroundDistance:t(695),ScaleX:t(696),ScaleXY:t(697),ScaleY:t(698),SetAlpha:t(699),SetBlendMode:t(700),SetDepth:t(701),SetHitArea:t(702),SetOrigin:t(703),SetRotation:t(704),SetScale:t(705),SetScaleX:t(706),SetScaleY:t(707),SetScrollFactor:t(708),SetScrollFactorX:t(709),SetScrollFactorY:t(710),SetTint:t(711),SetVisible:t(712),SetX:t(713),SetXY:t(714),SetY:t(715),ShiftPosition:t(716),Shuffle:t(717),SmootherStep:t(718),SmoothStep:t(719),Spread:t(720),ToggleVisible:t(721),WrapInRectangle:t(722)}},function(p,C,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),d=[];d[e.BOTTOM_CENTER]=t(277),d[e.BOTTOM_LEFT]=t(278),d[e.BOTTOM_RIGHT]=t(279),d[e.LEFT_BOTTOM]=t(280),d[e.LEFT_CENTER]=t(281),d[e.LEFT_TOP]=t(282),d[e.RIGHT_BOTTOM]=t(283),d[e.RIGHT_CENTER]=t(284),d[e.RIGHT_TOP]=t(285),d[e.TOP_CENTER]=t(286),d[e.TOP_LEFT]=t(287),d[e.TOP_RIGHT]=t(288);var o=function(a,s,i,r,l){return d[i](a,s,r,l)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),d=t(87),o=t(88),a=t(52),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(i,d(r)+l),a(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),d=t(43),o=t(53),a=t(52),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(i,d(r)-l),a(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),d=t(44),o=t(54),a=t(52),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(i,d(r)+l),a(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),d=t(43),o=t(55),a=t(54),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,d(r)-l),o(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),d=t(43),o=t(90),a=t(54),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,d(r)-l),o(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),d=t(45),o=t(54),a=t(52),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(i,e(r)-l),a(i,d(r)-n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),d=t(44),o=t(55),a=t(53),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,d(r)+l),o(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),d=t(44),o=t(90),a=t(53),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,d(r)+l),o(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),d=t(45),o=t(53),a=t(52),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(i,e(r)+l),a(i,d(r)-n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),d=t(45),o=t(55),a=t(88),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,e(r)+l),o(i,d(r)-n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),d=t(45),o=t(55),a=t(53),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,e(r)-l),o(i,d(r)-n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),d=t(45),o=t(55),a=t(54),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,e(r)+l),o(i,d(r)-n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),d=[];d[e.BOTTOM_CENTER]=t(290),d[e.BOTTOM_LEFT]=t(291),d[e.BOTTOM_RIGHT]=t(292),d[e.CENTER]=t(293),d[e.LEFT_CENTER]=t(295),d[e.RIGHT_CENTER]=t(296),d[e.TOP_CENTER]=t(297),d[e.TOP_LEFT]=t(298),d[e.TOP_RIGHT]=t(299),d[e.LEFT_BOTTOM]=d[e.BOTTOM_LEFT],d[e.LEFT_TOP]=d[e.TOP_LEFT],d[e.RIGHT_BOTTOM]=d[e.BOTTOM_RIGHT],d[e.RIGHT_TOP]=d[e.TOP_RIGHT];var o=function(a,s,i,r,l){return d[i](a,s,r,l)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),d=t(87),o=t(55),a=t(88),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,d(r)+l),o(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),d=t(43),o=t(55),a=t(53),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,d(r)-l),o(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),d=t(44),o=t(55),a=t(54),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,d(r)+l),o(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(294),d=t(87),o=t(89),a=function(s,i,r,l){return r===void 0&&(r=0),l===void 0&&(l=0),e(s,d(i)+r,o(i)+l),s};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(88),d=t(90),o=function(a,s,i){return e(a,s),d(a,i)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),d=t(43),o=t(90),a=t(53),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,d(r)-l),o(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),d=t(44),o=t(90),a=t(54),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),a(i,d(r)+l),o(i,e(r)+n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),d=t(45),o=t(88),a=t(52),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(i,e(r)+l),a(i,d(r)-n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),d=t(45),o=t(53),a=t(52),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(i,e(r)-l),a(i,d(r)-n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),d=t(45),o=t(54),a=t(52),s=function(i,r,l,n){return l===void 0&&(l=0),n===void 0&&(n=0),o(i,e(r)+l),a(i,d(r)-n),i};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(169),d=t(98),o=t(14),a=t(4),s=function(i,r,l){l===void 0&&(l=new a);var n=d(r,0,o.PI2);return e(i,n,l)};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(302),d=t(169),o=t(98),a=t(14),s=function(i,r,l,n){n===void 0&&(n=[]),!r&&l>0&&(r=e(i)/l);for(var h=0;h<r;h++){var u=o(h/r,0,a.PI2);n.push(d(i,u))}return n};p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(Math.PI*e.radius)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=2,o={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var s=e(a,0,1);this._alpha=s,s===0?this.renderFlags&=~d:this.renderFlags|=d}}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),d={_blendMode:e.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(o){typeof o=="string"&&(o=e[o]),o|=0,o>=-1&&(this._blendMode=o)}},setBlendMode:function(o){return this.blendMode=o,this}};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(171),d=t(130),o=function(a,s,i,r){r===void 0&&(r=[]),!s&&i>0&&(s=d(a)/i);for(var l=0;l<s;l++){var n=l/s;r.push(e(a,n))}return r};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a,s){return s===void 0&&(s=new e),s.x=o.x1+(o.x2-o.x1)*a,s.y=o.y1+(o.y2-o.y1)*a,s};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=Math.cos(a),i=Math.sin(a),r=e.x-d,l=e.y-o;return e.x=r*s-l*i+d,e.y=r*i+l*s+o,e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(310),d=t(311),o={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a){return a===void 0&&(this.texture||this.shader)&&(a=this),new e(this.scene,a)},createGeometryMask:function(a){return a===void 0&&this.type==="Graphics"&&(a=this),new d(this.scene,a)}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(22),o=t(91),a=new e({initialize:function(i,r){var l=i.sys.renderer;this.renderer=l,this.bitmapMask=r,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),i.sys.game.events.on(d.CONTEXT_RESTORED,this.createMask,this),l&&l.on(o.RESIZE,this.createMask,this)},createMask:function(){var s=this.renderer;if(!(!s||!s.gl)){this.mainTexture&&this.clearMask();var i=s.width,r=s.height,l=(i&i-1)===0&&(r&r-1)===0,n=s.gl,h=l?n.REPEAT:n.CLAMP_TO_EDGE,u=n.LINEAR;this.mainTexture=s.createTexture2D(0,u,u,h,h,n.RGBA,null,i,r),this.maskTexture=s.createTexture2D(0,u,u,h,h,n.RGBA,null,i,r),this.mainFramebuffer=s.createFramebuffer(i,r,this.mainTexture,!0),this.maskFramebuffer=s.createFramebuffer(i,r,this.maskTexture,!0)}},clearMask:function(){var s=this.renderer;!s||!s.gl||!this.mainTexture||(s.deleteTexture(this.mainTexture),s.deleteTexture(this.maskTexture),s.deleteFramebuffer(this.mainFramebuffer),s.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(s){this.bitmapMask=s},preRenderWebGL:function(s,i,r){s.pipelines.BITMAPMASK_PIPELINE.beginMask(this,i,r)},postRenderWebGL:function(s,i){s.pipelines.BITMAPMASK_PIPELINE.endMask(this,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(o.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s){this.geometryMask=s,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(o){return this.geometryMask=o,this},setInvertAlpha:function(o){return o===void 0&&(o=!0),this.invertAlpha=o,this},preRenderWebGL:function(o,a,s){var i=o.gl;o.flush(),o.maskStack.length===0&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),o.maskCount=0),o.currentCameraMask.mask!==this&&(o.currentMask.mask=this),o.maskStack.push({mask:this,camera:s}),this.applyStencil(o,s,!0),o.maskCount++},applyStencil:function(o,a,s){var i=o.gl,r=this.geometryMask,l=o.maskCount;i.colorMask(!1,!1,!1,!1),s?(i.stencilFunc(i.EQUAL,l,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,l+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),r.renderWebGL(o,r,a),o.flush(),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),s?this.invertAlpha?i.stencilFunc(i.NOTEQUAL,l+1,255):i.stencilFunc(i.EQUAL,l+1,255):this.invertAlpha?i.stencilFunc(i.NOTEQUAL,l,255):i.stencilFunc(i.EQUAL,l,255)},postRenderWebGL:function(o){var a=o.gl;o.maskStack.pop(),o.maskCount--,o.flush();var s=o.currentMask;if(o.maskStack.length===0)s.mask=null,a.disable(a.STENCIL_TEST);else{var i=o.maskStack[o.maskStack.length-1];i.mask.applyStencil(o,i.camera,!1),o.currentCameraMask.mask!==i.mask?(s.mask=i.mask,s.camera=i.camera):s.mask=null}},preRenderCanvas:function(o,a,s){var i=this.geometryMask;o.currentContext.save(),i.renderCanvas(o,i,s,null,null,!0),o.currentContext.clip()},postRenderCanvas:function(o){o.currentContext.restore()},destroy:function(){this.geometryMask=null}});p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,d){return d===void 0&&(d=e),this.scrollFactorX=e,this.scrollFactorY=d,this}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),d=t(25),o=t(177),a=t(269),s=t(270),i=t(3),r=4,l={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(n){this._scaleX=n,this._scaleY=n,n===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(n){this._scaleX=n,n===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleY:{get:function(){return this._scaleY},set:function(n){this._scaleY=n,n===0?this.renderFlags&=~r:this.renderFlags|=r}},angle:{get:function(){return s(this._rotation*e.RAD_TO_DEG)},set:function(n){this.rotation=s(n)*e.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(n){this._rotation=a(n)}},setPosition:function(n,h,u,v){return n===void 0&&(n=0),h===void 0&&(h=n),u===void 0&&(u=0),v===void 0&&(v=0),this.x=n,this.y=h,this.z=u,this.w=v,this},copyPosition:function(n){return n.x!==void 0&&(this.x=n.x),n.y!==void 0&&(this.y=n.y),n.z!==void 0&&(this.z=n.z),n.w!==void 0&&(this.w=n.w),this},setRandomPosition:function(n,h,u,v){return n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),this.x=n+Math.random()*u,this.y=h+Math.random()*v,this},setRotation:function(n){return n===void 0&&(n=0),this.rotation=n,this},setAngle:function(n){return n===void 0&&(n=0),this.angle=n,this},setScale:function(n,h){return n===void 0&&(n=1),h===void 0&&(h=n),this.scaleX=n,this.scaleY=h,this},setX:function(n){return n===void 0&&(n=0),this.x=n,this},setY:function(n){return n===void 0&&(n=0),this.y=n,this},setZ:function(n){return n===void 0&&(n=0),this.z=n,this},setW:function(n){return n===void 0&&(n=0),this.w=n,this},getLocalTransformMatrix:function(n){return n===void 0&&(n=new d),n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(n,h){n===void 0&&(n=new d),h===void 0&&(h=new d);var u=this.parentContainer;if(!u)return this.getLocalTransformMatrix(n);for(n.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);u;)h.applyITRS(u.x,u.y,u._rotation,u._scaleX,u._scaleY),h.multiply(n,n),u=u.parentContainer;return n},getLocalPoint:function(n,h,u,v){u||(u=new i),v||(v=this.scene.sys.cameras.main);var f=v.scrollX,c=v.scrollY,g=n+f*this.scrollFactorX-f,m=h+c*this.scrollFactorY-c;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(g,m,u):o(g,m,this.x,this.y,this.rotation,this.scaleX,this.scaleY,u),this._originComponent&&(u.x+=this._displayOriginX,u.y+=this._displayOriginY),u},getParentRotation:function(){for(var n=0,h=this.parentContainer;h;)n+=h.rotation,h=h.parentContainer;return n}};p.exports=l},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(d){d?(this._visible=!0,this.renderFlags|=t):(this._visible=!1,this.renderFlags&=~t)}},setVisible:function(d){return this.visible=d,this}};p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CHANGE_DATA:t(638),CHANGE_DATA_KEY:t(639),DESTROY:t(640),REMOVE_DATA:t(641),SET_DATA:t(642)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),d=t(4),o=function(a,s,i,r){if(r===void 0&&(r=[]),!s&&!i)return r;s?i=Math.round(e(a)/s):s=e(a)/i;for(var l=a.x,n=a.y,h=0,u=0;u<i;u++)switch(r.push(new d(l,n)),h){case 0:l+=s,l>=a.right&&(h=1,n+=l-a.right,l=a.right);break;case 1:n+=s,n>=a.bottom&&(h=2,l-=n-a.bottom,n=a.bottom);break;case 2:l-=s,l<=a.left&&(h=3,n-=a.left-l,l=a.left);break;case 3:n-=s,n<=a.top&&(h=0,n=a.top);break}return r};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){d===void 0&&(d=1),o===void 0&&(o=[]);var a=Math.round(e.x1),s=Math.round(e.y1),i=Math.round(e.x2),r=Math.round(e.y2),l=Math.abs(i-a),n=Math.abs(r-s),h=a<i?1:-1,u=s<r?1:-1,v=l-n;o.push({x:a,y:s});for(var f=1;!(a===i&&s===r);){var c=v<<1;c>-n&&(v-=n,a+=h),c<l&&(v+=l,s+=u),f%d===0&&o.push({x:a,y:s}),f++}return o};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(d.length){if(d.length===1)return d[0]}else return NaN;var a=1,s,i;if(o){if(e<d[0][o])return d[0];for(;d[a][o]<e;)a++}else for(;d[a]<e;)a++;return a>d.length&&(a=d.length),o?(s=d[a-1][o],i=d[a][o],i-e<=e-s?d[a]:d[a-1]):(s=d[a-1],i=d[a],i-e<=e-s?i:s)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s,i,r,l){l===void 0&&(l=!1),this.textureKey=a,this.textureFrame=s,this.index=i,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=l},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d=/\D/g;return e.sort(function(o,a){return parseInt(o.replace(d,""),10)-parseInt(a.replace(d,""),10)}),e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(185),d=t(0),o=t(102),a=t(9),s=t(132),i=t(22),r=t(2),l=t(6),n=t(186),h=t(322),u=new d({Extends:a,initialize:function(f){a.call(this),this.game=f,this.textureManager=null,this.globalTimeScale=1,this.anims=new o,this.mixes=new o,this.paused=!1,this.name="AnimationManager",f.events.once(i.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(i.DESTROY,this.destroy,this)},addMix:function(v,f,c){var g=this.anims,m=this.mixes,x=typeof v=="string"?v:v.key,y=typeof f=="string"?f:f.key;if(g.has(x)&&g.has(y)){var T=m.get(x);T||(T={}),T[y]=c,m.set(x,T)}return this},removeMix:function(v,f){var c=this.mixes,g=typeof v=="string"?v:v.key,m=c.get(g);if(m)if(f){var x=typeof f=="string"?f:f.key;m.hasOwnProperty(x)&&delete m[x]}else f||c.delete(g);return this},getMix:function(v,f){var c=this.mixes,g=typeof v=="string"?v:v.key,m=typeof f=="string"?f:f.key,x=c.get(g);return x&&x.hasOwnProperty(m)?x[m]:0},add:function(v,f){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(f.key=v,this.anims.set(v,f),this.emit(s.ADD_ANIMATION,v,f),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,f){var c=[],g=this.game.cache.json.get(v);if(!g)return c;var m=this,x=l(g,"meta",null),y=l(g,"frames",null);if(x&&y){var T=l(x,"frameTags",[]);T.forEach(function(E){var R=[],M=r(E,"name",null),P=r(E,"from",0),O=r(E,"to",0),I=r(E,"direction","forward");if(!!M&&(!f||f&&f.indexOf(M)>-1)){for(var B=[],w=Number.MAX_SAFE_INTEGER,z=P;z<=O;z++){var H=z.toString(),b=y[H];if(b){var Q=r(b,"duration",Number.MAX_SAFE_INTEGER);Q<w&&(w=Q),B.push({frame:H,duration:Q})}}B.forEach(function(N){R.push({key:v,frame:N.frame,duration:w-N.duration})});var D=w*R.length;I==="reverse"&&(R=R.reverse());var F={key:M,frames:R,duration:D,yoyo:I==="pingpong"},G=m.create(F);G&&c.push(G)}})}return c},create:function(v){var f=v.key,c=!1;return f&&(c=this.get(f),c||(c=new e(this,f,v),this.anims.set(f,c),this.emit(s.ADD_ANIMATION,f,c))),c},fromJSON:function(v,f){f===void 0&&(f=!1),f&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var c=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var g=0;g<v.anims.length;g++)c.push(this.create(v.anims[g]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&c.push(this.create(v));return c},generateFrameNames:function(v,f){var c=l(f,"prefix",""),g=l(f,"start",0),m=l(f,"end",0),x=l(f,"suffix",""),y=l(f,"zeroPad",0),T=l(f,"outputArray",[]),E=l(f,"frames",!1),R=this.textureManager.get(v);if(!R)return T;var M;if(f)for(E||(E=h(g,m)),M=0;M<E.length;M++){var P=c+n(E[M],y,"0",1)+x;R.has(P)?T.push({key:v,frame:P}):console.warn("generateFrameNames: Frame missing: "+P+" from texture: "+v)}else for(E=R.getFrameNames(),M=0;M<E.length;M++)T.push({key:v,frame:E[M]});return T},generateFrameNumbers:function(v,f){var c=l(f,"start",0),g=l(f,"end",-1),m=l(f,"first",!1),x=l(f,"outputArray",[]),y=l(f,"frames",!1),T=this.textureManager.get(v);if(!T)return x;m&&T.has(m)&&x.push({key:v,frame:m}),y||(g===-1&&(g=T.frameTotal-2),y=h(c,g));for(var E=0;E<y.length;E++)T.has(y[E])?x.push({key:v,frame:y[E]}):console.warn("generateFrameNumbers: Frame "+E+" missing from texture: "+v);return x},get:function(v){return this.anims.get(v)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(s.PAUSE_ALL)),this},play:function(v,f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++)f[c].anims.play(v);return this},staggerPlay:function(v,f,c,g){c===void 0&&(c=0),g===void 0&&(g=!0),Array.isArray(f)||(f=[f]);var m=f.length;g||m--;for(var x=0;x<f.length;x++){var y=c<0?Math.abs(c)*(m-x):c*x;f[x].anims.playAfterDelay(v,y)}return this},remove:function(v){var f=this.get(v);return f&&(this.emit(s.REMOVE_ANIMATION,v,f),this.anims.delete(v),this.removeMix(v)),f},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(s.RESUME_ALL)),this},toJSON:function(v){var f={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?f.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(c,g){f.anims.push(g.toJSON())}),f},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});p.exports=u},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=[],i,r=!1;if((o||a)&&(r=!0,o||(o=""),a||(a="")),d<e)for(i=e;i>=d;i--)r?s.push(o+i.toString()+a):s.push(i);else for(i=e;i<=d;i++)r?s.push(o+i.toString()+a):s.push(i);return s};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(102),o=t(9),a=t(324),s=new e({initialize:function(){this.entries=new d,this.events=new o},add:function(i,r){return this.entries.set(i,r),this.events.emit(a.ADD,this,i,r),this},has:function(i){return this.entries.has(i)},exists:function(i){return this.entries.has(i)},get:function(i){return this.entries.get(i)},remove:function(i){var r=this.get(i);return r&&(this.entries.delete(i),this.events.emit(a.REMOVE,this,i,r.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ADD:t(736),REMOVE:t(737)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(323),d=t(0),o=t(22),a=new d({initialize:function(i){this.game=i,this.binary=new e,this.bitmapFont=new e,this.json=new e,this.physics=new e,this.shader=new e,this.audio=new e,this.video=new e,this.text=new e,this.html=new e,this.obj=new e,this.tilemap=new e,this.xml=new e,this.custom={},this.game.events.once(o.DESTROY,this.destroy,this)},addCustom:function(s){return this.custom.hasOwnProperty(s)||(this.custom[s]=new e),this.custom[s]},destroy:function(){for(var s=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<s.length;i++)this[s[i]].destroy(),this[s[i]]=null;for(var r in this.custom)this.custom[r].destroy();this.custom=null,this.game=null}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),d=t(190),o=t(18),a=t(0),s=t(11),i=t(333),r=t(37),l=t(135),n=t(10),h=t(3),u=new a({Extends:e,Mixins:[s.Flip,s.Tint,s.Pipeline],initialize:function(f,c,g,m){e.call(this,f,c,g,m),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new i.Fade(this),this.flashEffect=new i.Flash(this),this.shakeEffect=new i.Shake(this),this.panEffect=new i.Pan(this),this.rotateToEffect=new i.RotateTo(this),this.zoomEffect=new i.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(v,f){if(v===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=v,this.deadzone.height=f):this.deadzone=new n(0,0,v,f),this._follow){var c=this.width/2,g=this.height/2,m=this._follow.x-this.followOffset.x,x=this._follow.y-this.followOffset.y;this.midPoint.set(m,x),this.scrollX=m-c,this.scrollY=x-g}d(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(v,f,c,g,m,x){return this.fadeEffect.start(!1,v,f,c,g,!0,m,x)},fadeOut:function(v,f,c,g,m,x){return this.fadeEffect.start(!0,v,f,c,g,!0,m,x)},fadeFrom:function(v,f,c,g,m,x,y){return this.fadeEffect.start(!1,v,f,c,g,m,x,y)},fade:function(v,f,c,g,m,x,y){return this.fadeEffect.start(!0,v,f,c,g,m,x,y)},flash:function(v,f,c,g,m,x,y){return this.flashEffect.start(v,f,c,g,m,x,y)},shake:function(v,f,c,g,m){return this.shakeEffect.start(v,f,c,g,m)},pan:function(v,f,c,g,m,x,y){return this.panEffect.start(v,f,c,g,m,x,y)},rotateTo:function(v,f,c,g,m,x,y){return this.rotateToEffect.start(v,f,c,g,m,x,y)},zoomTo:function(v,f,c,g,m,x){return this.zoomEffect.start(v,f,c,g,m,x)},preRender:function(){this.renderList.length=0;var v=this.width,f=this.height,c=v*.5,g=f*.5,m=this.zoom,x=this.matrix,y=v*this.originX,T=f*this.originY,E=this._follow,R=this.deadzone,M=this.scrollX,P=this.scrollY;R&&d(R,this.midPoint.x,this.midPoint.y);var O=!1;if(E&&!this.panEffect.isRunning){var I=E.x-this.followOffset.x,B=E.y-this.followOffset.y;R?(I<R.x?M=l(M,M-(R.x-I),this.lerp.x):I>R.right&&(M=l(M,M+(I-R.right),this.lerp.x)),B<R.y?P=l(P,P-(R.y-B),this.lerp.y):B>R.bottom&&(P=l(P,P+(B-R.bottom),this.lerp.y))):(M=l(M,I-y,this.lerp.x),P=l(P,B-T,this.lerp.y)),O=!0}this.useBounds&&(M=this.clampX(M),P=this.clampY(P)),this.roundPixels&&(y=Math.round(y),T=Math.round(T),M=Math.round(M),P=Math.round(P)),this.scrollX=M,this.scrollY=P;var w=M+c,z=P+g;this.midPoint.set(w,z);var H=v/m,b=f/m,Q=w-H/2,D=z-b/2;this.roundPixels&&(Q=Math.round(Q),D=Math.round(D)),this.worldView.setTo(Q,D,H,b),x.applyITRS(this.x+y,this.y+T,this.rotation,m,m),x.translate(-y,-T),this.shakeEffect.preRender(),O&&this.emit(r.FOLLOW_UPDATE,this,E)},setLerp:function(v,f){return v===void 0&&(v=1),f===void 0&&(f=v),this.lerp.set(v,f),this},setFollowOffset:function(v,f){return v===void 0&&(v=0),f===void 0&&(f=0),this.followOffset.set(v,f),this},startFollow:function(v,f,c,g,m,x){f===void 0&&(f=!1),c===void 0&&(c=1),g===void 0&&(g=c),m===void 0&&(m=0),x===void 0&&(x=m),this._follow=v,this.roundPixels=f,c=o(c,0,1),g=o(g,0,1),this.lerp.set(c,g),this.followOffset.set(m,x);var y=this.width/2,T=this.height/2,E=v.x-m,R=v.y-x;return this.midPoint.set(E,R),this.scrollX=E-y,this.scrollY=R-T,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(v,f){this.visible&&(this.rotateToEffect.update(v,f),this.panEffect.update(v,f),this.zoomEffect.update(v,f),this.shakeEffect.update(v,f),this.flashEffect.update(v,f),this.fadeEffect.update(v,f))},destroy:function(){this.resetFX(),e.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});p.exports=u},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),d=function(o){var a=new e;o=o.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,h,u,v){return h+h+u+u+v+v});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);if(s){var i=parseInt(s[1],16),r=parseInt(s[2],16),l=parseInt(s[3],16);a.setTo(i,r,l)}return a};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){return a<<24|e<<16|d<<8|o};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){a===void 0&&(a={h:0,s:0,v:0}),e/=255,d/=255,o/=255;var s=Math.min(e,d,o),i=Math.max(e,d,o),r=i-s,l=0,n=i===0?0:r/i,h=i;return i!==s&&(i===e?l=(d-o)/r+(d<o?6:0):i===d?l=(o-e)/r+2:i===o&&(l=(e-d)/r+4),l/=6),a.hasOwnProperty("_h")?(a._h=l,a._s=n,a._v=h):(a.h=l,a.s=n,a.v=h),a};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),d=function(o){return new e(o.r,o.g,o.b,o.a)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),d=function(o){var a=new e,s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(o.toLowerCase());if(s){var i=parseInt(s[1],10),r=parseInt(s[2],10),l=parseInt(s[3],10),n=s[4]!==void 0?parseFloat(s[4]):1;a.setTo(i,r,l,n*255)}return a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Fade:t(761),Flash:t(762),Pan:t(763),Shake:t(796),RotateTo:t(797),Zoom:t(798)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(764),Out:t(765),InOut:t(766)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(767),Out:t(768),InOut:t(769)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(770),Out:t(771),InOut:t(772)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(773),Out:t(774),InOut:t(775)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(776),Out:t(777),InOut:t(778)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(779),Out:t(780),InOut:t(781)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(782)},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(783),Out:t(784),InOut:t(785)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(786),Out:t(787),InOut:t(788)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(789),Out:t(790),InOut:t(791)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={In:t(792),Out:t(793),InOut:t(794)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=t(795)},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(33),o=t(347),a=t(2),s=t(6),i=t(7),r=t(193),l=t(1),n=t(197),h=t(187),u=new e({initialize:function(f){f===void 0&&(f={});var c=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],g="#ffffff";this.width=s(f,"width",1024),this.height=s(f,"height",768),this.zoom=s(f,"zoom",1),this.parent=s(f,"parent",void 0),this.scaleMode=s(f,"scaleMode",0),this.expandParent=s(f,"expandParent",!0),this.autoRound=s(f,"autoRound",!1),this.autoCenter=s(f,"autoCenter",0),this.resizeInterval=s(f,"resizeInterval",500),this.fullscreenTarget=s(f,"fullscreenTarget",null),this.minWidth=s(f,"minWidth",0),this.maxWidth=s(f,"maxWidth",0),this.minHeight=s(f,"minHeight",0),this.maxHeight=s(f,"maxHeight",0);var m=s(f,"scale",null);m&&(this.width=s(m,"width",this.width),this.height=s(m,"height",this.height),this.zoom=s(m,"zoom",this.zoom),this.parent=s(m,"parent",this.parent),this.scaleMode=s(m,"mode",this.scaleMode),this.expandParent=s(m,"expandParent",this.expandParent),this.autoRound=s(m,"autoRound",this.autoRound),this.autoCenter=s(m,"autoCenter",this.autoCenter),this.resizeInterval=s(m,"resizeInterval",this.resizeInterval),this.fullscreenTarget=s(m,"fullscreenTarget",this.fullscreenTarget),this.minWidth=s(m,"min.width",this.minWidth),this.maxWidth=s(m,"max.width",this.maxWidth),this.minHeight=s(m,"min.height",this.minHeight),this.maxHeight=s(m,"max.height",this.maxHeight)),this.renderType=s(f,"type",d.AUTO),this.canvas=s(f,"canvas",null),this.context=s(f,"context",null),this.canvasStyle=s(f,"canvasStyle",null),this.customEnvironment=s(f,"customEnvironment",!1),this.sceneConfig=s(f,"scene",null),this.seed=s(f,"seed",[(Date.now()*Math.random()).toString()]),r.RND=new r.RandomDataGenerator(this.seed),this.gameTitle=s(f,"title",""),this.gameURL=s(f,"url","https://phaser.io"),this.gameVersion=s(f,"version",""),this.autoFocus=s(f,"autoFocus",!0),this.domCreateContainer=s(f,"dom.createContainer",!1),this.domBehindCanvas=s(f,"dom.behindCanvas",!1),this.domPointerEvents=s(f,"dom.pointerEvents","none"),this.inputKeyboard=s(f,"input.keyboard",!0),this.inputKeyboardEventTarget=s(f,"input.keyboard.target",window),this.inputKeyboardCapture=s(f,"input.keyboard.capture",[]),this.inputMouse=s(f,"input.mouse",!0),this.inputMouseEventTarget=s(f,"input.mouse.target",null),this.inputMousePreventDefaultDown=s(f,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=s(f,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=s(f,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=s(f,"input.mouse.preventDefaultWheel",!0),this.inputTouch=s(f,"input.touch",o.input.touch),this.inputTouchEventTarget=s(f,"input.touch.target",null),this.inputTouchCapture=s(f,"input.touch.capture",!0),this.inputActivePointers=s(f,"input.activePointers",1),this.inputSmoothFactor=s(f,"input.smoothFactor",0),this.inputWindowEvents=s(f,"input.windowEvents",!0),this.inputGamepad=s(f,"input.gamepad",!1),this.inputGamepadEventTarget=s(f,"input.gamepad.target",window),this.disableContextMenu=s(f,"disableContextMenu",!1),this.audio=s(f,"audio",{}),this.hideBanner=s(f,"banner",null)===!1,this.hidePhaser=s(f,"banner.hidePhaser",!1),this.bannerTextColor=s(f,"banner.text",g),this.bannerBackgroundColor=s(f,"banner.background",c),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=s(f,"fps",null);var x=s(f,"render",f);this.pipeline=s(x,"pipeline",null),this.antialias=s(x,"antialias",!0),this.antialiasGL=s(x,"antialiasGL",!0),this.mipmapFilter=s(x,"mipmapFilter","LINEAR"),this.desynchronized=s(x,"desynchronized",!1),this.roundPixels=s(x,"roundPixels",!1),this.pixelArt=s(x,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=s(x,"transparent",!1),this.clearBeforeRender=s(x,"clearBeforeRender",!0),this.preserveDrawingBuffer=s(x,"preserveDrawingBuffer",!1),this.premultipliedAlpha=s(x,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=s(x,"failIfMajorPerformanceCaveat",!1),this.powerPreference=s(x,"powerPreference","default"),this.batchSize=s(x,"batchSize",4096),this.maxTextures=s(x,"maxTextures",-1),this.maxLights=s(x,"maxLights",10);var y=s(f,"backgroundColor",0);this.backgroundColor=h(y),this.transparent&&(this.backgroundColor=h(0),this.backgroundColor.alpha=0),this.preBoot=s(f,"callbacks.preBoot",l),this.postBoot=s(f,"callbacks.postBoot",l),this.physics=s(f,"physics",{}),this.defaultPhysicsSystem=s(this.physics,"default",!1),this.loaderBaseURL=s(f,"loader.baseURL",""),this.loaderPath=s(f,"loader.path","");var T=o.os.android?6:32;this.loaderMaxParallelDownloads=s(f,"loader.maxParallelDownloads",T),this.loaderCrossOrigin=s(f,"loader.crossOrigin",void 0),this.loaderResponseType=s(f,"loader.responseType",""),this.loaderAsync=s(f,"loader.async",!0),this.loaderUser=s(f,"loader.user",""),this.loaderPassword=s(f,"loader.password",""),this.loaderTimeout=s(f,"loader.timeout",0),this.loaderWithCredentials=s(f,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var E=s(f,"plugins",null),R=n.DefaultScene;E&&(Array.isArray(E)?this.defaultPlugins=E:i(E)&&(this.installGlobalPlugins=a(E,"global",[]),this.installScenePlugins=a(E,"scene",[]),Array.isArray(E.default)?R=E.default:Array.isArray(E.defaultMerge)&&(R=R.concat(E.defaultMerge)))),this.defaultPlugins=R;var M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=s(f,"images.default",M+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=s(f,"images.missing",M+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=s(f,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=d.WEBGL:window.FORCE_CANVAS&&(this.renderType=d.CANVAS))}});p.exports=u},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={os:t(105),browser:t(136),features:t(191),input:t(808),audio:t(809),video:t(810),fullscreen:t(811),canvasFeatures:t(348)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),d={supportInverseAlpha:!1,supportNewBlendModes:!1};function o(){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",l=new Image;return l.onload=function(){var n=new Image;n.onload=function(){var h=e.create(n,6,1),u=h.getContext("2d");if(u.globalCompositeOperation="multiply",u.drawImage(l,0,0),u.drawImage(n,2,0),!u.getImageData(2,0,1,1))return!1;var v=u.getImageData(2,0,1,1).data;e.remove(n),d.supportNewBlendModes=v[0]===255&&v[1]===0&&v[2]===0},n.src=i+"/wCKxvRF"+r},l.src=i+"AP804Oa6"+r,!1}function a(){var i=e.create(this,2,1),r=i.getContext("2d");r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var l=r.getImageData(0,0,1,1);if(l===null)return!1;r.putImageData(l,1,0);var n=r.getImageData(1,0,1,1);return n.data[0]===l.data[0]&&n.data[1]===l.data[1]&&n.data[2]===l.data[2]&&n.data[3]===l.data[3]}function s(){return typeof importScripts!="function"&&document!==void 0&&(d.supportNewBlendModes=o(),d.supportInverseAlpha=a()),d}p.exports=s()},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){return Math.atan2(a-d,o-e)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return Math.atan2(d.y-e.y,d.x-e.x)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};p.exports=t},function(p,C){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.x-d.x,a=e.y-d.y;return Math.sqrt(o*o+a*a)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=e-o,i=d-a;return s*s+i*i};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return o===void 0&&(o=1e-4),e>d-o};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return o===void 0&&(o=1e-4),e<d+o};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(357),d=function(o,a){return e(o)/e(a)/e(o-a)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(e===0)return 1;for(var d=e;--e;)d*=e;return d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(s,i){var r=1-s;return r*r*r*i}function e(s,i){var r=1-s;return 3*r*r*s*i}function d(s,i){return 3*(1-s)*s*s*i}function o(s,i){return s*s*s*i}var a=function(s,i,r,l,n){return t(s,i)+e(s,r)+d(s,l)+o(s,n)};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a,s){var i=1-a;return i*i*s}function e(a,s){return 2*(1-a)*a*s}function d(a,s){return a*a*s}var o=function(a,s,i,r){return t(a,s)+e(a,i)+d(a,r)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),d=function(o,a,s){return a+(s-a)*e(o,0,1)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d=Math.log(e)/.6931471805599453;return 1<<Math.ceil(d)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.x,a=e.y;return e.x=o*Math.cos(d)-a*Math.sin(d),e.y=o*Math.sin(d)+a*Math.cos(d),e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0?Math.ceil(e):Math.floor(e)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new d(this)},set:function(o){return this.copy(o)},copy:function(o){var a=this.val,s=o.val;return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4],a[5]=s[5],a[6]=s[6],a[7]=s[7],a[8]=s[8],this},fromMat4:function(o){var a=o.val,s=this.val;return s[0]=a[0],s[1]=a[1],s[2]=a[2],s[3]=a[4],s[4]=a[5],s[5]=a[6],s[6]=a[8],s[7]=a[9],s[8]=a[10],this},fromArray:function(o){var a=this.val;return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],this},identity:function(){var o=this.val;return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=1,o[5]=0,o[6]=0,o[7]=0,o[8]=1,this},transpose:function(){var o=this.val,a=o[1],s=o[2],i=o[5];return o[1]=o[3],o[2]=o[6],o[3]=a,o[5]=o[7],o[6]=s,o[7]=i,this},invert:function(){var o=this.val,a=o[0],s=o[1],i=o[2],r=o[3],l=o[4],n=o[5],h=o[6],u=o[7],v=o[8],f=v*l-n*u,c=-v*r+n*h,g=u*r-l*h,m=a*f+s*c+i*g;return m?(m=1/m,o[0]=f*m,o[1]=(-v*s+i*u)*m,o[2]=(n*s-i*l)*m,o[3]=c*m,o[4]=(v*a-i*h)*m,o[5]=(-n*a+i*r)*m,o[6]=g*m,o[7]=(-u*a+s*h)*m,o[8]=(l*a-s*r)*m,this):null},adjoint:function(){var o=this.val,a=o[0],s=o[1],i=o[2],r=o[3],l=o[4],n=o[5],h=o[6],u=o[7],v=o[8];return o[0]=l*v-n*u,o[1]=i*u-s*v,o[2]=s*n-i*l,o[3]=n*h-r*v,o[4]=a*v-i*h,o[5]=i*r-a*n,o[6]=r*u-l*h,o[7]=s*h-a*u,o[8]=a*l-s*r,this},determinant:function(){var o=this.val,a=o[0],s=o[1],i=o[2],r=o[3],l=o[4],n=o[5],h=o[6],u=o[7],v=o[8];return a*(v*l-n*u)+s*(-v*r+n*h)+i*(u*r-l*h)},multiply:function(o){var a=this.val,s=a[0],i=a[1],r=a[2],l=a[3],n=a[4],h=a[5],u=a[6],v=a[7],f=a[8],c=o.val,g=c[0],m=c[1],x=c[2],y=c[3],T=c[4],E=c[5],R=c[6],M=c[7],P=c[8];return a[0]=g*s+m*l+x*u,a[1]=g*i+m*n+x*v,a[2]=g*r+m*h+x*f,a[3]=y*s+T*l+E*u,a[4]=y*i+T*n+E*v,a[5]=y*r+T*h+E*f,a[6]=R*s+M*l+P*u,a[7]=R*i+M*n+P*v,a[8]=R*r+M*h+P*f,this},translate:function(o){var a=this.val,s=o.x,i=o.y;return a[6]=s*a[0]+i*a[3]+a[6],a[7]=s*a[1]+i*a[4]+a[7],a[8]=s*a[2]+i*a[5]+a[8],this},rotate:function(o){var a=this.val,s=a[0],i=a[1],r=a[2],l=a[3],n=a[4],h=a[5],u=Math.sin(o),v=Math.cos(o);return a[0]=v*s+u*l,a[1]=v*i+u*n,a[2]=v*r+u*h,a[3]=v*l-u*s,a[4]=v*n-u*i,a[5]=v*h-u*r,this},scale:function(o){var a=this.val,s=o.x,i=o.y;return a[0]=s*a[0],a[1]=s*a[1],a[2]=s*a[2],a[3]=i*a[3],a[4]=i*a[4],a[5]=i*a[5],this},fromQuat:function(o){var a=o.x,s=o.y,i=o.z,r=o.w,l=a+a,n=s+s,h=i+i,u=a*l,v=a*n,f=a*h,c=s*n,g=s*h,m=i*h,x=r*l,y=r*n,T=r*h,E=this.val;return E[0]=1-(c+m),E[3]=v+T,E[6]=f-y,E[1]=v-T,E[4]=1-(u+m),E[7]=g+x,E[2]=f+y,E[5]=g-x,E[8]=1-(u+c),this},normalFromMat4:function(o){var a=o.val,s=this.val,i=a[0],r=a[1],l=a[2],n=a[3],h=a[4],u=a[5],v=a[6],f=a[7],c=a[8],g=a[9],m=a[10],x=a[11],y=a[12],T=a[13],E=a[14],R=a[15],M=i*u-r*h,P=i*v-l*h,O=i*f-n*h,I=r*v-l*u,B=r*f-n*u,w=l*f-n*v,z=c*T-g*y,H=c*E-m*y,b=c*R-x*y,Q=g*E-m*T,D=g*R-x*T,F=m*R-x*E,G=M*F-P*D+O*Q+I*b-B*H+w*z;return G?(G=1/G,s[0]=(u*F-v*D+f*Q)*G,s[1]=(v*b-h*F-f*H)*G,s[2]=(h*D-u*b+f*z)*G,s[3]=(l*D-r*F-n*Q)*G,s[4]=(i*F-l*b+n*H)*G,s[5]=(r*b-i*D-n*z)*G,s[6]=(T*w-E*B+R*I)*G,s[7]=(E*O-y*w-R*P)*G,s[8]=(y*B-T*O+R*M)*G,this):null}});p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(364),o=t(1),a=t(39),s=1e-6,i=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),l=new a(1,0,0),n=new a(0,1,0),h=new a,u=new d,v=new e({initialize:function(c,g,m,x){this.onChangeCallback=o,this.set(c,g,m,x)},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(f){this._w=f,this.onChangeCallback(this)}},copy:function(f){return this.set(f)},set:function(f,c,g,m,x){return x===void 0&&(x=!0),typeof f=="object"?(this._x=f.x||0,this._y=f.y||0,this._z=f.z||0,this._w=f.w||0):(this._x=f||0,this._y=c||0,this._z=g||0,this._w=m||0),x&&this.onChangeCallback(this),this},add:function(f){return this._x+=f.x,this._y+=f.y,this._z+=f.z,this._w+=f.w,this.onChangeCallback(this),this},subtract:function(f){return this._x-=f.x,this._y-=f.y,this._z-=f.z,this._w-=f.w,this.onChangeCallback(this),this},scale:function(f){return this._x*=f,this._y*=f,this._z*=f,this._w*=f,this.onChangeCallback(this),this},length:function(){var f=this.x,c=this.y,g=this.z,m=this.w;return Math.sqrt(f*f+c*c+g*g+m*m)},lengthSq:function(){var f=this.x,c=this.y,g=this.z,m=this.w;return f*f+c*c+g*g+m*m},normalize:function(){var f=this.x,c=this.y,g=this.z,m=this.w,x=f*f+c*c+g*g+m*m;return x>0&&(x=1/Math.sqrt(x),this._x=f*x,this._y=c*x,this._z=g*x,this._w=m*x),this.onChangeCallback(this),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,c){c===void 0&&(c=0);var g=this.x,m=this.y,x=this.z,y=this.w;return this.set(g+c*(f.x-g),m+c*(f.y-m),x+c*(f.z-x),y+c*(f.w-y))},rotationTo:function(f,c){var g=f.x*c.x+f.y*c.y+f.z*c.z;return g<-.999999?(h.copy(l).cross(f).length()<s&&h.copy(n).cross(f),h.normalize(),this.setAxisAngle(h,Math.PI)):g>.999999?this.set(0,0,0,1):(h.copy(f).cross(c),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+g,this.normalize())},setAxes:function(f,c,g){var m=u.val;return m[0]=c.x,m[3]=c.y,m[6]=c.z,m[1]=g.x,m[4]=g.y,m[7]=g.z,m[2]=-f.x,m[5]=-f.y,m[8]=-f.z,this.fromMat3(u).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(f,c){c=c*.5;var g=Math.sin(c);return this.set(g*f.x,g*f.y,g*f.z,Math.cos(c))},multiply:function(f){var c=this.x,g=this.y,m=this.z,x=this.w,y=f.x,T=f.y,E=f.z,R=f.w;return this.set(c*R+x*y+g*E-m*T,g*R+x*T+m*y-c*E,m*R+x*E+c*T-g*y,x*R-c*y-g*T-m*E)},slerp:function(f,c){var g=this.x,m=this.y,x=this.z,y=this.w,T=f.x,E=f.y,R=f.z,M=f.w,P=g*T+m*E+x*R+y*M;P<0&&(P=-P,T=-T,E=-E,R=-R,M=-M);var O=1-c,I=c;if(1-P>s){var B=Math.acos(P),w=Math.sin(B);O=Math.sin((1-c)*B)/w,I=Math.sin(c*B)/w}return this.set(O*g+I*T,O*m+I*E,O*x+I*R,O*y+I*M)},invert:function(){var f=this.x,c=this.y,g=this.z,m=this.w,x=f*f+c*c+g*g+m*m,y=x?1/x:0;return this.set(-f*y,-c*y,-g*y,m*y)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(f){f*=.5;var c=this.x,g=this.y,m=this.z,x=this.w,y=Math.sin(f),T=Math.cos(f);return this.set(c*T+x*y,g*T+m*y,m*T-g*y,x*T-c*y)},rotateY:function(f){f*=.5;var c=this.x,g=this.y,m=this.z,x=this.w,y=Math.sin(f),T=Math.cos(f);return this.set(c*T-m*y,g*T+x*y,m*T+c*y,x*T-g*y)},rotateZ:function(f){f*=.5;var c=this.x,g=this.y,m=this.z,x=this.w,y=Math.sin(f),T=Math.cos(f);return this.set(c*T+g*y,g*T-c*y,m*T+x*y,x*T-m*y)},calculateW:function(){var f=this.x,c=this.y,g=this.z;return this.w=-Math.sqrt(1-f*f-c*c-g*g),this},setFromEuler:function(f,c){var g=f.x/2,m=f.y/2,x=f.z/2,y=Math.cos(g),T=Math.cos(m),E=Math.cos(x),R=Math.sin(g),M=Math.sin(m),P=Math.sin(x);switch(f.order){case"XYZ":{this.set(R*T*E+y*M*P,y*M*E-R*T*P,y*T*P+R*M*E,y*T*E-R*M*P,c);break}case"YXZ":{this.set(R*T*E+y*M*P,y*M*E-R*T*P,y*T*P-R*M*E,y*T*E+R*M*P,c);break}case"ZXY":{this.set(R*T*E-y*M*P,y*M*E+R*T*P,y*T*P+R*M*E,y*T*E-R*M*P,c);break}case"ZYX":{this.set(R*T*E-y*M*P,y*M*E+R*T*P,y*T*P-R*M*E,y*T*E+R*M*P,c);break}case"YZX":{this.set(R*T*E+y*M*P,y*M*E+R*T*P,y*T*P-R*M*E,y*T*E-R*M*P,c);break}case"XZY":{this.set(R*T*E-y*M*P,y*M*E-R*T*P,y*T*P+R*M*E,y*T*E+R*M*P,c);break}}return this},setFromRotationMatrix:function(f){var c=f.val,g=c[0],m=c[4],x=c[8],y=c[1],T=c[5],E=c[9],R=c[2],M=c[6],P=c[10],O=g+T+P,I;return O>0?(I=.5/Math.sqrt(O+1),this.set((M-E)*I,(x-R)*I,(y-m)*I,.25/I)):g>T&&g>P?(I=2*Math.sqrt(1+g-T-P),this.set(.25*I,(m+y)/I,(x+R)/I,(M-E)/I)):T>P?(I=2*Math.sqrt(1+T-g-P),this.set((m+y)/I,.25*I,(E+M)/I,(x-R)/I)):(I=2*Math.sqrt(1+P-g-T),this.set((x+R)/I,(E+M)/I,.25*I,(y-m)/I)),this},fromMat3:function(f){var c=f.val,g=c[0]+c[4]+c[8],m;if(g>0)m=Math.sqrt(g+1),this.w=.5*m,m=.5/m,this._x=(c[7]-c[5])*m,this._y=(c[2]-c[6])*m,this._z=(c[3]-c[1])*m;else{var x=0;c[4]>c[0]&&(x=1),c[8]>c[x*3+x]&&(x=2);var y=i[x],T=i[y];m=Math.sqrt(c[x*3+x]-c[y*3+y]-c[T*3+T]+1),r[x]=.5*m,m=.5/m,r[y]=(c[y*3+x]+c[x*3+y])*m,r[T]=(c[T*3+x]+c[x*3+T])*m,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(c[T*3+y]-c[y*3+T])*m}return this.onChangeCallback(this),this}});p.exports=v},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(367),d=t(31),o=t(33),a=t(191),s=function(i){var r=i.config;if((r.customEnvironment||r.canvas)&&r.renderType===o.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!r.customEnvironment&&!r.canvas&&r.renderType!==o.HEADLESS)if(r.renderType===o.CANVAS||r.renderType!==o.CANVAS&&!a.webGL)if(a.canvas)r.renderType=o.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else r.renderType=o.WEBGL;r.antialias||d.disableSmoothing();var l=i.scale.baseSize,n=l.width,h=l.height;if(r.canvas?(i.canvas=r.canvas,i.canvas.width=n,i.canvas.height=h):i.canvas=d.create(i,n,h,r.renderType),r.canvasStyle&&(i.canvas.style=r.canvasStyle),r.antialias||e.setCrisp(i.canvas),r.renderType!==o.HEADLESS){var u,v;u=t(368),v=t(371),r.renderType===o.WEBGL?i.renderer=new v(i):(i.renderer=new u(i),i.context=i.renderer.gameContext)}};p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCrisp:function(e){var d=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return d.forEach(function(o){e.style["image-rendering"]=o}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(37),d=t(369),o=t(0),a=t(33),s=t(9),i=t(91),r=t(370),l=t(104),n=t(106),h=t(25),u=new o({Extends:s,initialize:function(f){s.call(this);var c=f.config;this.config={clearBeforeRender:c.clearBeforeRender,backgroundColor:c.backgroundColor,antialias:c.antialias,roundPixels:c.roundPixels},this.game=f,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=f.canvas;var g={alpha:f.config.transparent,desynchronized:f.config.desynchronized};this.gameContext=c.context?c.context:this.gameCanvas.getContext("2d",g),this.currentContext=this.gameContext,this.antialias=f.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(n.READY,this.boot,this)},boot:function(){var v=this.game,f=v.scale.baseSize;this.width=f.width,this.height=f.height,this.isBooted=!0,v.scale.on(l.RESIZE,this.onResize,this),this.resize(f.width,f.height)},onResize:function(v,f){(f.width!==this.width||f.height!==this.height)&&this.resize(f.width,f.height)},resize:function(v,f){this.width=v,this.height=f,this.emit(i.RESIZE,v,f)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,f=this.config,c=this.width,g=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),f.clearBeforeRender&&(v.clearRect(0,0,c,g),f.transparent||(v.fillStyle=f.backgroundColor.rgba,v.fillRect(0,0,c,g))),v.save(),this.drawCount=0,this.emit(i.PRE_RENDER)},render:function(v,f,c){var g=f.length;this.emit(i.RENDER,v,c);var m=c.x,x=c.y,y=c.width,T=c.height,E=c.renderToTexture?c.context:v.sys.context;E.save(),this.game.scene.customViewports&&(E.beginPath(),E.rect(m,x,y,T),E.clip()),this.currentContext=E;var R=c.mask;R&&R.preRenderCanvas(this,null,c._maskCamera),c.transparent||(E.fillStyle=c.backgroundColor.rgba,E.fillRect(m,x,y,T)),E.globalAlpha=c.alpha,E.globalCompositeOperation="source-over",this.drawCount+=g,c.renderToTexture&&c.emit(e.PRE_RENDER,c),c.matrix.copyToContext(E);for(var M=0;M<g;M++){var P=f[M];P.mask&&P.mask.preRenderCanvas(this,P,c),P.renderCanvas(this,P,c),P.mask&&P.mask.postRenderCanvas(this,P,c)}E.setTransform(1,0,0,1,0,0),E.globalCompositeOperation="source-over",E.globalAlpha=1,c.flashEffect.postRenderCanvas(E),c.fadeEffect.postRenderCanvas(E),c.dirty=!1,R&&R.postRenderCanvas(this),E.restore(),c.renderToTexture&&(c.emit(e.POST_RENDER,c),c.renderToGame&&v.sys.context.drawImage(c.canvas,m,x))},postRender:function(){var v=this.gameContext;v.restore(),this.emit(i.POST_RENDER);var f=this.snapshotState;f.callback&&(d(this.gameCanvas,f),f.callback=null)},snapshotCanvas:function(v,f,c,g,m,x,y,T,E){c===void 0&&(c=!1),this.snapshotArea(g,m,x,y,f,T,E);var R=this.snapshotState;return R.getPixel=c,d(this.canvas,R),R.callback=null,this},snapshot:function(v,f,c){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,f,c)},snapshotArea:function(v,f,c,g,m,x,y){var T=this.snapshotState;return T.callback=m,T.type=x,T.encoder=y,T.getPixel=!1,T.x=v,T.y=f,T.width=Math.min(c,this.gameCanvas.width),T.height=Math.min(g,this.gameCanvas.height),this},snapshotPixel:function(v,f,c){return this.snapshotArea(v,f,1,1,c),this.snapshotState.getPixel=!0,this},batchSprite:function(v,f,c,g){var m=c.alpha*v.alpha;if(m!==0){var x=this.currentContext,y=this._tempMatrix1,T=this._tempMatrix2,E=f.canvasData,R=E.x,M=E.y,P=f.cutWidth,O=f.cutHeight,I=f.customPivot,B=f.source.resolution,w=v.displayOriginX,z=v.displayOriginY,H=-w+f.x,b=-z+f.y;if(v.isCropped){var Q=v._crop;(Q.flipX!==v.flipX||Q.flipY!==v.flipY)&&f.updateCropUVs(Q,v.flipX,v.flipY),P=Q.cw,O=Q.ch,R=Q.cx,M=Q.cy,H=-w+Q.x,b=-z+Q.y,v.flipX&&(H>=0?H=-(H+P):H<0&&(H=Math.abs(H)-P)),v.flipY&&(b>=0?b=-(b+O):b<0&&(b=Math.abs(b)-O))}var D=1,F=1;v.flipX&&(I||(H+=-f.realWidth+w*2),D=-1),v.flipY&&(I||(b+=-f.realHeight+z*2),F=-1),T.applyITRS(v.x,v.y,v.rotation,v.scaleX*D,v.scaleY*F),y.copyFrom(c.matrix),g?(y.multiplyWithOffset(g,-c.scrollX*v.scrollFactorX,-c.scrollY*v.scrollFactorY),T.e=v.x,T.f=v.y):(T.e-=c.scrollX*v.scrollFactorX,T.f-=c.scrollY*v.scrollFactorY),y.multiply(T),x.save(),y.setToContext(x),x.globalCompositeOperation=this.blendModes[v.blendMode],x.globalAlpha=m,x.imageSmoothingEnabled=!(!this.antialias||f.source.scaleMode),v.mask&&v.mask.preRenderCanvas(this,v,c),x.drawImage(f.source.image,R,M,P,O,H,b,P/B,O/B),v.mask&&v.mask.postRenderCanvas(this,v,c),x.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});p.exports=u},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),d=t(38),o=t(2),a=function(s,i){var r=o(i,"callback"),l=o(i,"type","image/png"),n=o(i,"encoder",.92),h=Math.abs(Math.round(o(i,"x",0))),u=Math.abs(Math.round(o(i,"y",0))),v=o(i,"width",s.width),f=o(i,"height",s.height),c=o(i,"getPixel",!1);if(c){var g=s.getContext("2d"),m=g.getImageData(h,u,1,1),x=m.data;r.call(null,new d(x[0],x[1],x[2],x[3]/255))}else if(h!==0||u!==0||v!==s.width||f!==s.height){var y=e.createWebGL(this,v,f),T=y.getContext("2d");T.drawImage(s,h,u,v,f,0,0,v,f);var E=new Image;E.onerror=function(){r.call(null),e.remove(y)},E.onload=function(){r.call(null,E),e.remove(y)},E.src=y.toDataURL(l,n)}else{var R=new Image;R.onerror=function(){r.call(null)},R.onload=function(){r.call(null,R)},R.src=s.toDataURL(l,n)}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),d=t(348),o=function(){var a=[],s=d.supportNewBlendModes,i="source-over";return a[e.NORMAL]=i,a[e.ADD]="lighter",a[e.MULTIPLY]=s?"multiply":i,a[e.SCREEN]=s?"screen":i,a[e.OVERLAY]=s?"overlay":i,a[e.DARKEN]=s?"darken":i,a[e.LIGHTEN]=s?"lighten":i,a[e.COLOR_DODGE]=s?"color-dodge":i,a[e.COLOR_BURN]=s?"color-burn":i,a[e.HARD_LIGHT]=s?"hard-light":i,a[e.SOFT_LIGHT]=s?"soft-light":i,a[e.DIFFERENCE]=s?"difference":i,a[e.EXCLUSION]=s?"exclusion":i,a[e.HUE]=s?"hue":i,a[e.SATURATION]=s?"saturation":i,a[e.COLOR]=s?"color":i,a[e.LUMINOSITY]=s?"luminosity":i,a[e.ERASE]="destination-out",a[e.SOURCE_IN]="source-in",a[e.SOURCE_OUT]="source-out",a[e.SOURCE_ATOP]="source-atop",a[e.DESTINATION_OVER]="destination-over",a[e.DESTINATION_IN]="destination-in",a[e.DESTINATION_OUT]="destination-out",a[e.DESTINATION_ATOP]="destination-atop",a[e.LIGHTER]="lighter",a[e.COPY]="copy",a[e.XOR]="xor",a};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),d=t(37),o=t(0),a=t(33),s=t(9),i=t(91),r=t(22),l=t(138),n=t(69),h=t(1),u=t(372),v=t(141),f=t(104),c=t(106),g=t(12),m=t(383),x=new o({Extends:s,initialize:function(T){s.call(this);var E=T.config,R={alpha:E.transparent,desynchronized:E.desynchronized,depth:!1,antialias:E.antialiasGL,premultipliedAlpha:E.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:E.failIfMajorPerformanceCaveat,powerPreference:E.powerPreference,preserveDrawingBuffer:E.preserveDrawingBuffer};this.config={clearBeforeRender:E.clearBeforeRender,antialias:E.antialias,backgroundColor:E.backgroundColor,contextCreation:R,roundPixels:E.roundPixels,maxTextures:E.maxTextures,maxTextureSize:E.maxTextureSize,batchSize:E.batchSize,maxLights:E.maxLights,mipmapFilter:E.mipmapFilter},this.game=T,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=T.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(y){var T,E=this.game,R=this.canvas,M=y.backgroundColor;if(E.config.context?T=E.config.context:T=R.getContext("webgl",y.contextCreation)||R.getContext("experimental-webgl",y.contextCreation),!T||T.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=T;var P=this;this.contextLostHandler=function(G){P.contextLost=!0,P.game.events.emit(r.CONTEXT_LOST,P),G.preventDefault()},this.contextRestoredHandler=function(){P.contextLost=!1,P.init(P.config),P.game.events.emit(r.CONTEXT_RESTORED,P)},R.addEventListener("webglcontextlost",this.contextLostHandler,!1),R.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),E.context=T;for(var O=0;O<=27;O++)this.blendModes.push({func:[T.ONE,T.ONE_MINUS_SRC_ALPHA],equation:T.FUNC_ADD});this.blendModes[1].func=[T.ONE,T.DST_ALPHA],this.blendModes[2].func=[T.DST_COLOR,T.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[T.ONE,T.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[T.ZERO,T.ONE_MINUS_SRC_ALPHA],equation:T.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=T.BYTE,this.glFormats[1]=T.SHORT,this.glFormats[2]=T.UNSIGNED_BYTE,this.glFormats[3]=T.UNSIGNED_SHORT,this.glFormats[4]=T.FLOAT,this.glFuncMap={mat2:{func:T.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:T.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:T.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:T.uniform1f,length:1},"1fv":{func:T.uniform1fv,length:1},"1i":{func:T.uniform1i,length:1},"1iv":{func:T.uniform1iv,length:1},"2f":{func:T.uniform2f,length:2},"2fv":{func:T.uniform2fv,length:1},"2i":{func:T.uniform2i,length:2},"2iv":{func:T.uniform2iv,length:1},"3f":{func:T.uniform3f,length:3},"3fv":{func:T.uniform3fv,length:1},"3i":{func:T.uniform3i,length:3},"3iv":{func:T.uniform3iv,length:1},"4f":{func:T.uniform4f,length:4},"4fv":{func:T.uniform4fv,length:1},"4i":{func:T.uniform4i,length:4},"4iv":{func:T.uniform4iv,length:1}};var I=T.getSupportedExtensions();(!y.maxTextures||y.maxTextures===-1)&&(y.maxTextures=T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS)),y.maxTextureSize||(y.maxTextureSize=T.getParameter(T.MAX_TEXTURE_SIZE));var B="WEBGL_compressed_texture_",w="WEBKIT_"+B;this.compression.ETC1=T.getExtension(B+"etc1")||T.getExtension(w+"etc1"),this.compression.PVRTC=T.getExtension(B+"pvrtc")||T.getExtension(w+"pvrtc"),this.compression.S3TC=T.getExtension(B+"s3tc")||T.getExtension(w+"s3tc"),this.supportedExtensions=I;var z="ANGLE_instanced_arrays";this.instancedArraysExtension=I.indexOf(z)>-1?T.getExtension(z):null;var H="OES_vertex_array_object";this.vaoExtension=I.indexOf(H)>-1?T.getExtension(H):null,T.disable(T.DEPTH_TEST),T.disable(T.CULL_FACE),T.enable(T.BLEND),T.clearColor(M.redGL,M.greenGL,M.blueGL,M.alphaGL),this.mipmapFilter=T[y.mipmapFilter],this.maxTextures=g.checkShaderMax(T,y.maxTextures),this.textureIndexes=[];var b=this.tempTextures;if(Array.isArray(b))for(var Q=0;O<this.maxTextures;Q++)T.deleteTexture(b[Q]);else b=new Array(this.maxTextures);for(var D=0;D<this.maxTextures;D++){var F=T.createTexture();T.activeTexture(T.TEXTURE0+D),T.bindTexture(T.TEXTURE_2D,F),T.texImage2D(T.TEXTURE_2D,0,T.RGBA,1,1,0,T.RGBA,T.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),b[D]=F,this.textureIndexes.push(D)}return this.tempTextures=b,this.currentActiveTexture=1,this.startActiveTexture++,T.activeTexture(T.TEXTURE1),this.pipelines=new u(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new n().identity(),E.textures.once(c.READY,this.boot,this),this},boot:function(){var y=this.game,T=this.pipelines,E=y.scale.baseSize;this.width=E.width,this.height=E.height,this.isBooted=!0,this.renderTarget=new v(this,this.width,this.height,1,0,!0,!0),T.boot(y.config.pipeline),this.blankTexture=y.textures.getFrame("__DEFAULT"),this.whiteTexture=y.textures.getFrame("__WHITE");var R=this.gl;R.bindFramebuffer(R.FRAMEBUFFER,null),R.enable(R.SCISSOR_TEST),y.scale.on(f.RESIZE,this.onResize,this),this.resize(E.width,E.height)},onResize:function(y,T){(T.width!==this.width||T.height!==this.height)&&this.resize(T.width,T.height)},beginCapture:function(y,T){y===void 0&&(y=this.width),T===void 0&&(T=this.height),this.renderTarget.bind(!0,y,T),this.setProjectionMatrix(y,T),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(y,T){var E=this.gl;return this.width=y,this.height=T,this.setProjectionMatrix(y,T),E.viewport(0,0,y,T),this.drawingBufferHeight=E.drawingBufferHeight,E.scissor(0,E.drawingBufferHeight-T,y,T),this.defaultScissor[2]=y,this.defaultScissor[3]=T,this.emit(i.RESIZE,y,T),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(y,T){return(y!==this.projectionWidth||T!==this.projectionHeight)&&(this.projectionWidth=y,this.projectionHeight=T,this.projectionMatrix.ortho(0,y,T,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(y){return this.supportedExtensions?this.supportedExtensions.indexOf(y):!1},getExtension:function(y){return this.hasExtension(y)?(y in this.extensions||(this.extensions[y]=this.gl.getExtension(y)),this.extensions[y]):null},flush:function(){this.pipelines.flush()},pushScissor:function(y,T,E,R,M){M===void 0&&(M=this.drawingBufferHeight);var P=this.scissorStack,O=[y,T,E,R];return P.push(O),this.setScissor(y,T,E,R,M),this.currentScissor=O,O},setScissor:function(y,T,E,R,M){M===void 0&&(M=this.drawingBufferHeight);var P=this.gl,O=this.currentScissor,I=E>0&&R>0;if(O&&I){var B=O[0],w=O[1],z=O[2],H=O[3];I=B!==y||w!==T||z!==E||H!==R}I&&(this.flush(),P.scissor(y,M-T-R,E,R))},resetScissor:function(){var y=this.gl;y.enable(y.SCISSOR_TEST);var T=this.currentScissor;if(T){var E=T[0],R=T[1],M=T[2],P=T[3];M>0&&P>0&&y.scissor(E,this.drawingBufferHeight-R-P,M,P)}},popScissor:function(){var y=this.scissorStack;y.pop();var T=y[y.length-1];T&&this.setScissor(T[0],T[1],T[2],T[3]),this.currentScissor=T},hasActiveStencilMask:function(){var y=this.currentMask.mask,T=this.currentCameraMask.mask;return y&&y.isStencil||T&&T.isStencil},resetViewport:function(){var y=this.gl;y.viewport(0,0,this.width,this.height),this.drawingBufferHeight=y.drawingBufferHeight},setBlendMode:function(y,T){T===void 0&&(T=!1);var E=this.gl,R=this.blendModes[y];return T||y!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==y?(this.flush(),E.enable(E.BLEND),E.blendEquation(R.equation),R.func.length>2?E.blendFuncSeparate(R.func[0],R.func[1],R.func[2],R.func[3]):E.blendFunc(R.func[0],R.func[1]),this.currentBlendMode=y,!0):!1},addBlendMode:function(y,T){var E=this.blendModes.push({func:y,equation:T});return E-1},updateBlendMode:function(y,T,E){return this.blendModes[y]&&(this.blendModes[y].func=T,E&&(this.blendModes[y].equation=E)),this},removeBlendMode:function(y){return y>17&&this.blendModes[y]&&this.blendModes.splice(y,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(y){if(this.pipelines.forceZero())return this.setTextureZero(y.glTexture,!0),0;var T=this.gl,E=this.currentActiveTexture;return y.glIndexCounter<this.startActiveTexture&&(y.glIndexCounter=this.startActiveTexture,E<this.maxTextures?(y.glIndex=E,T.activeTexture(T.TEXTURE0+E),T.bindTexture(T.TEXTURE_2D,y.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,y.glIndexCounter=this.startActiveTexture,y.glIndex=1,T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,y.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,y.glIndex},isNewNormalMap:function(y,T){return this.textureZero!==y||this.normalTexture!==T},setTextureZero:function(y,T){if(this.textureZero!==y){T&&this.flush();var E=this.gl;E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,y),this.textureZero=y}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(y){if(this.normalTexture!==y){var T=this.gl;T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,y),this.normalTexture=y,this.currentActiveTexture===1&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var y=this.gl,T=this.tempTextures,E=0;E<T.length;E++)y.activeTexture(y.TEXTURE0+E),y.bindTexture(y.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(y){if(y===void 0&&(y=!1),!this.isTextureClean){this.flush();var T=this.gl,E=this.tempTextures;if(y){for(var R=0;R<E.length;R++)T.activeTexture(T.TEXTURE0+R),T.bindTexture(T.TEXTURE_2D,E[R]);T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,E[1]),this.isTextureClean=!0}else T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,E[0]),T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,E[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(y){if(this.pipelines.forceZero())return this.setTextureZero(y,!0),0;var T=this.gl,E=this.currentActiveTexture;return y.glIndexCounter<this.startActiveTexture&&(y.glIndexCounter=this.startActiveTexture,E<this.maxTextures?(y.glIndex=E,T.activeTexture(T.TEXTURE0+E),T.bindTexture(T.TEXTURE_2D,y),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,y.glIndexCounter=this.startActiveTexture,y.glIndex=1,T.activeTexture(T.TEXTURE1),T.bindTexture(T.TEXTURE_2D,y),this.currentActiveTexture=2)),this.isTextureClean=!1,y.glIndex},pushFramebuffer:function(y,T,E,R){return y===this.currentFramebuffer?this:(this.fboStack.push(y),this.setFramebuffer(y,T,E,R))},setFramebuffer:function(y,T,E,R){if(T===void 0&&(T=!1),E===void 0&&(E=!1),R===void 0&&(R=!0),y===this.currentFramebuffer)return this;var M=this.gl,P=this.width,O=this.height;return y&&y.renderTexture&&R?(P=y.renderTexture.width,O=y.renderTexture.height):this.flush(),M.bindFramebuffer(M.FRAMEBUFFER,y),R&&M.viewport(0,0,P,O),T&&(y?(this.drawingBufferHeight=O,this.pushScissor(0,0,P,O)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=y,E&&this.resetTextures(),this},popFramebuffer:function(y,T,E){y===void 0&&(y=!1),T===void 0&&(T=!1),E===void 0&&(E=!0);var R=this.fboStack;R.pop();var M=R[R.length-1];return M||(M=null),this.setFramebuffer(M,y,T,E),M},setProgram:function(y){return y!==this.currentProgram?(this.flush(),this.gl.useProgram(y),this.currentProgram=y,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(y,T,E,R){var M=this.gl,P=M.NEAREST,O=M.NEAREST,I=M.CLAMP_TO_EDGE,B=null;T=y?y.width:T,E=y?y.height:E;var w=l(T,E);return w&&(I=M.REPEAT),R===a.ScaleModes.LINEAR&&this.config.antialias&&(P=w?this.mipmapFilter:M.LINEAR,O=M.LINEAR),!y&&typeof T=="number"&&typeof E=="number"?B=this.createTexture2D(0,P,O,I,I,M.RGBA,null,T,E):B=this.createTexture2D(0,P,O,I,I,M.RGBA,y),B},createTexture2D:function(y,T,E,R,M,P,O,I,B,w,z,H){w=w==null?!0:w,z===void 0&&(z=!1),H===void 0&&(H=!1);var b=this.gl,Q=b.createTexture();b.activeTexture(b.TEXTURE0);var D=b.getParameter(b.TEXTURE_BINDING_2D);return b.bindTexture(b.TEXTURE_2D,Q),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,T),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,E),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,M),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,R),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,w),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,H),O==null?b.texImage2D(b.TEXTURE_2D,y,P,I,B,0,P,b.UNSIGNED_BYTE,null):(z||(I=O.width,B=O.height),b.texImage2D(b.TEXTURE_2D,y,P,P,b.UNSIGNED_BYTE,O)),l(I,B)&&b.generateMipmap(b.TEXTURE_2D),D&&b.bindTexture(b.TEXTURE_2D,D),Q.isAlphaPremultiplied=w,Q.isRenderTexture=!1,Q.width=I,Q.height=B,Q.glIndex=0,Q.glIndexCounter=-1,Q},createFramebuffer:function(y,T,E,R){var M=this.gl,P=M.createFramebuffer(),O=0;if(this.setFramebuffer(P),R){var I=M.createRenderbuffer();M.bindRenderbuffer(M.RENDERBUFFER,I),M.renderbufferStorage(M.RENDERBUFFER,M.DEPTH_STENCIL,y,T),M.framebufferRenderbuffer(M.FRAMEBUFFER,M.DEPTH_STENCIL_ATTACHMENT,M.RENDERBUFFER,I)}if(E.isRenderTexture=!0,E.isAlphaPremultiplied=!1,M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,E,0),O=M.checkFramebufferStatus(M.FRAMEBUFFER),O!==M.FRAMEBUFFER_COMPLETE){var B={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+B[O])}return P.renderTexture=E,this.setFramebuffer(null),this.resetTextures(),P},createProgram:function(y,T){var E=this.gl,R=E.createProgram(),M=E.createShader(E.VERTEX_SHADER),P=E.createShader(E.FRAGMENT_SHADER);if(E.shaderSource(M,y),E.shaderSource(P,T),E.compileShader(M),E.compileShader(P),!E.getShaderParameter(M,E.COMPILE_STATUS))throw new Error(`Vertex Shader failed:
`+E.getShaderInfoLog(M));if(!E.getShaderParameter(P,E.COMPILE_STATUS))throw new Error(`Fragment Shader failed:
`+E.getShaderInfoLog(P));if(E.attachShader(R,M),E.attachShader(R,P),E.linkProgram(R),!E.getProgramParameter(R,E.LINK_STATUS))throw new Error(`Link Program failed:
`+E.getProgramInfoLog(R));return E.useProgram(R),R},createVertexBuffer:function(y,T){var E=this.gl,R=E.createBuffer();return E.bindBuffer(E.ARRAY_BUFFER,R),E.bufferData(E.ARRAY_BUFFER,y,T),E.bindBuffer(E.ARRAY_BUFFER,null),R},createIndexBuffer:function(y,T){var E=this.gl,R=E.createBuffer();return E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,R),E.bufferData(E.ELEMENT_ARRAY_BUFFER,y,T),E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,null),R},deleteTexture:function(y,T){return T&&this.resetTextures(!0),y&&this.gl.deleteTexture(y),this},deleteFramebuffer:function(y){return y&&(this.gl.deleteFramebuffer(y),e(this.fboStack,y),this.currentFramebuffer===y&&(this.currentFramebuffer=null)),this},deleteProgram:function(y){return y&&this.gl.deleteProgram(y),this},deleteBuffer:function(y){return this.gl.deleteBuffer(y),this},preRenderCamera:function(y){var T=y.x,E=y.y,R=y.width,M=y.height,P=y.backgroundColor;if(y.emit(d.PRE_RENDER,y),this.pipelines.preBatchCamera(y),this.pushScissor(T,E,R,M),y.mask&&(this.currentCameraMask.mask=y.mask,this.currentCameraMask.camera=y._maskCamera,y.mask.preRenderWebGL(this,y,y._maskCamera)),P.alphaGL>0){var O=this.pipelines.setMulti();O.drawFillRect(T,E,R,M,g.getTintFromFloats(P.blueGL,P.greenGL,P.redGL,1),P.alphaGL)}},getCurrentStencilMask:function(){var y=null,T=this.maskStack,E=this.currentCameraMask;return T.length>0?y=T[T.length-1]:E.mask&&E.mask.isStencil&&(y=E),y},postRenderCamera:function(y){var T=y.flashEffect,E=y.fadeEffect;if(T.isRunning||E.isRunning||E.isComplete){var R=this.pipelines.setMulti();T.postRenderWebGL(R,g.getTintFromFloats),E.postRenderWebGL(R,g.getTintFromFloats)}y.dirty=!1,this.popScissor(),y.mask&&(this.currentCameraMask.mask=null,y.mask.postRenderWebGL(this,y._maskCamera)),this.pipelines.postBatchCamera(y),y.emit(d.POST_RENDER,y)},preRender:function(){if(!this.contextLost){var y=this.gl;if(y.bindFramebuffer(y.FRAMEBUFFER,null),this.config.clearBeforeRender){var T=this.config.backgroundColor;y.clearColor(T.redGL,T.greenGL,T.blueGL,T.alphaGL),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT)}y.enable(y.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&y.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(i.PRE_RENDER)}},render:function(y,T,E){if(!this.contextLost){var R=T.length;if(this.emit(i.RENDER,y,E),this.preRenderCamera(E),R===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(E);return}this.currentType="";for(var M=this.currentMask,P=0;P<R;P++){this.finalType=P===R-1;var O=T[P],I=O.mask;M=this.currentMask,M.mask&&M.mask!==I&&M.mask.postRenderWebGL(this,M.camera),I&&M.mask!==I&&I.preRenderWebGL(this,O,E),O.blendMode!==this.currentBlendMode&&this.setBlendMode(O.blendMode);var B=O.type;B!==this.currentType&&(this.newType=!0,this.currentType=B),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=T[P+1].type===this.currentType,O.renderWebGL(this,O,E),this.newType=!1}M=this.currentMask,M.mask&&M.mask.postRenderWebGL(this,M.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(E)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(i.POST_RENDER);var y=this.snapshotState;y.callback&&(m(this.canvas,y),y.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(y,T,E){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,y,T,E)},snapshotArea:function(y,T,E,R,M,P,O){var I=this.snapshotState;return I.callback=M,I.type=P,I.encoder=O,I.getPixel=!1,I.x=y,I.y=T,I.width=Math.min(E,this.gl.drawingBufferWidth),I.height=Math.min(R,this.gl.drawingBufferHeight),this},snapshotPixel:function(y,T,E){return this.snapshotArea(y,T,1,1,E),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(y,T,E,R,M,P,O,I,B,w,z){M===void 0&&(M=!1),P===void 0&&(P=0),O===void 0&&(O=0),I===void 0&&(I=T),B===void 0&&(B=E);var H=this.currentFramebuffer;this.snapshotArea(P,O,I,B,R,w,z);var b=this.snapshotState;return b.getPixel=M,b.isFramebuffer=!0,b.bufferWidth=T,b.bufferHeight=E,this.setFramebuffer(y),m(this.canvas,b),this.setFramebuffer(H),b.callback=null,b.isFramebuffer=!1,this},canvasToTexture:function(y,T,E,R){return E===void 0&&(E=!1),R===void 0&&(R=!1),T?this.updateCanvasTexture(y,T,R):this.createCanvasTexture(y,E,R)},createCanvasTexture:function(y,T,E){T===void 0&&(T=!1),E===void 0&&(E=!1);var R=this.gl,M=R.NEAREST,P=R.NEAREST,O=y.width,I=y.height,B=R.CLAMP_TO_EDGE,w=l(O,I);return!T&&w&&(B=R.REPEAT),this.config.antialias&&(M=w?this.mipmapFilter:R.LINEAR,P=R.LINEAR),this.createTexture2D(0,M,P,B,B,R.RGBA,y,O,I,!0,!1,E)},updateCanvasTexture:function(y,T,E){E===void 0&&(E=!1);var R=this.gl,M=y.width,P=y.height;if(M>0&&P>0){R.activeTexture(R.TEXTURE0);var O=R.getParameter(R.TEXTURE_BINDING_2D);R.bindTexture(R.TEXTURE_2D,T),R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,E),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,y),T.width=M,T.height=P,O&&R.bindTexture(R.TEXTURE_2D,O)}return T},createVideoTexture:function(y,T,E){T===void 0&&(T=!1),E===void 0&&(E=!1);var R=this.gl,M=R.NEAREST,P=R.NEAREST,O=y.videoWidth,I=y.videoHeight,B=R.CLAMP_TO_EDGE,w=l(O,I);return!T&&w&&(B=R.REPEAT),this.config.antialias&&(M=w?this.mipmapFilter:R.LINEAR,P=R.LINEAR),this.createTexture2D(0,M,P,B,B,R.RGBA,y,O,I,!0,!0,E)},updateVideoTexture:function(y,T,E){E===void 0&&(E=!1);var R=this.gl,M=y.videoWidth,P=y.videoHeight;if(M>0&&P>0){R.activeTexture(R.TEXTURE0);var O=R.getParameter(R.TEXTURE_BINDING_2D);R.bindTexture(R.TEXTURE_2D,T),R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,E),R.texImage2D(R.TEXTURE_2D,0,R.RGBA,R.RGBA,R.UNSIGNED_BYTE,y),T.width=M,T.height=P,O&&R.bindTexture(R.TEXTURE_2D,O)}return T},setTextureFilter:function(y,T){var E=this.gl,R=[E.LINEAR,E.NEAREST][T];E.activeTexture(E.TEXTURE0);var M=E.getParameter(E.TEXTURE_BINDING_2D);return E.bindTexture(E.TEXTURE_2D,y),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,R),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,R),M&&E.bindTexture(E.TEXTURE_2D,M),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var y=this.gl,T=this.tempTextures,E=0;E<T.length;E++)y.deleteTexture(T[E]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});p.exports=x},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(92),o=t(102),a=t(373),s=t(376),i=t(377),r=t(108),l=t(378),n=t(379),h=t(380),u=t(381),v=new e({initialize:function(c){this.game=c.game,this.renderer=c,this.classes=new o([[d.UTILITY_PIPELINE,u],[d.MULTI_PIPELINE,r],[d.BITMAPMASK_PIPELINE,a],[d.SINGLE_PIPELINE,h],[d.ROPE_PIPELINE,n],[d.LIGHT_PIPELINE,i],[d.POINTLIGHT_PIPELINE,l],[d.GRAPHICS_PIPELINE,s]]),this.postPipelineClasses=new o,this.pipelines=new o,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(f){var c,g,m=this,x=this.game;if(this.classes.each(function(T,E){c=m.add(T,new E({game:x})),T===d.UTILITY_PIPELINE&&(m.UTILITY_PIPELINE=c,m.fullFrame1=c.fullFrame1,m.fullFrame2=c.fullFrame2,m.halfFrame1=c.halfFrame1,m.halfFrame2=c.halfFrame2)}),this.MULTI_PIPELINE=this.get(d.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(d.BITMAPMASK_PIPELINE),f)for(g in f){var y=f[g];c=new y(x),c.isPostFX?this.postPipelineClasses.set(g,y):this.has(g)||(this.classes.set(g,y),this.add(g,c))}},add:function(f,c){if(c.isPostFX){console.warn(f+" is a Post Pipeline. Use `addPostPipeline` instead");return}var g=this.pipelines,m=this.renderer;return g.has(f)?console.warn("Pipeline exists: "+f):(c.name=f,c.manager=this,g.set(f,c)),c.hasBooted||c.boot(),m.width!==0&&m.height!==0&&c.resize(m.width,m.height),c},addPostPipeline:function(f,c){this.postPipelineClasses.has(f)||this.postPipelineClasses.set(f,c)},flush:function(){this.current&&this.current.flush()},has:function(f){var c=this.pipelines;return typeof f=="string"?c.has(f):!!c.contains(f)},get:function(f){var c=this.pipelines;if(typeof f=="string")return c.get(f);if(c.contains(f))return f},getPostPipeline:function(f,c){var g=this.postPipelineClasses,m;if(typeof f=="string"?m=g.get(f):typeof f=="function"?g.contains(f)&&(m=f):typeof f=="object"&&(m=g.get(f.name)),m){var x=new m(this.game);return c&&(x.gameObject=c),x}},remove:function(f,c,g){c===void 0&&(c=!0),g===void 0&&(g=!0),this.pipelines.delete(f),c&&this.classes.delete(f),g&&this.postPipelineClasses.delete(f)},set:function(f,c,g){if(!f.isPostFX)return this.isCurrent(f,g)||(this.flush(),this.current&&this.current.unbind(),this.current=f,f.bind(g)),f.updateProjectionMatrix(),f.onBind(c),f},preBatch:function(f){if(f.hasPostPipeline){this.flush();for(var c=f.postPipelines,g=c.length-1;g>=0;g--){var m=c[g];m.active&&m.preBatch(f)}}},postBatch:function(f){if(f.hasPostPipeline){this.flush();for(var c=f.postPipelines,g=0;g<c.length;g++){var m=c[g];m.active&&m.postBatch(f)}}},preBatchCamera:function(f){if(f.hasPostPipeline){this.flush();for(var c=f.postPipelines,g=c.length-1;g>=0;g--){var m=c[g];m.active&&m.preBatch(f)}}},postBatchCamera:function(f){if(f.hasPostPipeline){this.flush();for(var c=f.postPipelines,g=0;g<c.length;g++){var m=c[g];m.active&&m.postBatch(f)}}},isCurrent:function(f,c){var g=this.renderer,m=this.current;return m&&!c&&(c=m.currentShader),!(m!==f||c.program!==g.currentProgram)},copyFrame:function(f,c,g,m,x){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(f,c,g,m,x),this},copyToGame:function(f){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(f),this},drawFrame:function(f,c,g,m){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(f,c,g,m),this},blendFrames:function(f,c,g,m,x){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(f,c,g,m,x),this},blendFramesAdditive:function(f,c,g,m,x){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(f,c,g,m,x),this},clearFrame:function(f,c){return this.UTILITY_PIPELINE.clearFrame(f,c),this},blitFrame:function(f,c,g,m,x,y){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(f,c,g,m,x,y),this},copyFrameRect:function(f,c,g,m,x,y,T,E){return this.UTILITY_PIPELINE.copyFrameRect(f,c,g,m,x,y,T,E),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(f){return this.UTILITY_PIPELINE.bind(f)},rebind:function(f){f===void 0&&this.previous&&(f=this.previous);var c=this.renderer,g=c.gl;g.disable(g.DEPTH_TEST),g.disable(g.CULL_FACE),c.hasActiveStencilMask()?g.clear(g.DEPTH_BUFFER_BIT):(g.disable(g.STENCIL_TEST),g.clear(g.DEPTH_BUFFER_BIT|g.STENCIL_BUFFER_BIT)),g.viewport(0,0,c.width,c.height),c.currentProgram=null,c.setBlendMode(0,!0);var m=this.pipelines.entries;for(var x in m)m[x].glReset=!0;f&&(this.current=f,f.rebind()),c.resetTextures()},clear:function(){var f=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,f.currentProgram=null,f.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});p.exports=v},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(2),o=t(866),a=t(867),s=t(107),i=t(58),r=new e({Extends:i,initialize:function(n){n.fragShader=d(n,"fragShader",o),n.vertShader=d(n,"vertShader",a),n.batchSize=d(n,"batchSize",1),n.vertices=d(n,"vertices",[-1,1,-1,-7,7,1]),n.attributes=d(n,"attributes",[{name:"inPosition",size:2,type:s.FLOAT}]),i.call(this,n)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(l,n){i.prototype.resize.call(this,l,n),this.set2f("uResolution",l,n)},beginMask:function(l,n,h){var u=this.gl;if(l.bitmapMask&&u){var v=this.renderer;v.flush(),v.pushFramebuffer(l.mainFramebuffer),u.disable(u.STENCIL_TEST),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),v.currentCameraMask.mask!==l&&(v.currentMask.mask=l,v.currentMask.camera=h)}},endMask:function(l,n){var h=this.gl,u=this.renderer,v=l.bitmapMask;if(v&&h){u.flush(),u.pushFramebuffer(l.maskFramebuffer),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),u.setBlendMode(0,!0),v.renderWebGL(u,v,n),u.flush(),u.popFramebuffer(),u.popFramebuffer();var f=u.getCurrentStencilMask();f?(h.enable(h.STENCIL_TEST),f.mask.applyStencil(u,f.camera,!0)):u.currentMask.mask=null,u.pipelines.set(this),h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,l.maskTexture),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,l.mainTexture),this.set1i("uInvertMaskAlpha",l.invertAlpha),h.drawArrays(this.topology,0,3),u.resetTextures()}}});p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AFTER_FLUSH:t(868),BEFORE_FLUSH:t(869),BIND:t(870),BOOT:t(871),DESTROY:t(872),REBIND:t(873),RESIZE:t(874)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(2),o=t(107),a=new e({initialize:function(i,r,l,n,h){this.pipeline=i,this.name=r,this.renderer=i.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(l,n),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(h),this.createUniforms()},createAttributes:function(s){var i=0,r=0,l=[];this.vertexComponentCount=0;for(var n=0;n<s.length;n++){var h=s[n],u=h.name,v=d(h,"size",1),f=d(h,"type",o.FLOAT),c=f.enum,g=f.size,m=!!h.normalized;l.push({name:u,size:v,type:c,normalized:m,offset:r,enabled:!1,location:-1}),g===4?i+=v:i++,r+=v*g}this.vertexSize=r,this.vertexComponentCount=i,this.attributes=l},bind:function(s,i){return s===void 0&&(s=!1),i===void 0&&(i=!1),i&&this.pipeline.flush(),this.renderer.setProgram(this.program),s&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(s){s===void 0&&(s=!1);for(var i=this.gl,r=this.vertexSize,l=this.attributes,n=this.program,h=0;h<l.length;h++){var u=l[h],v=u.size,f=u.type,c=u.offset,g=u.enabled,m=u.location,x=!!u.normalized;if(s){var y=i.getAttribLocation(n,u.name);y>=0?(i.enableVertexAttribArray(y),i.vertexAttribPointer(y,v,f,x,r,c),u.enabled=!0,u.location=y):y!==-1&&i.disableVertexAttribArray(y)}else g?i.vertexAttribPointer(m,v,f,x,r,c):!g&&m>-1&&(i.disableVertexAttribArray(m),u.location=-1)}return this},createUniforms:function(){var s=this.gl,i=this.program,r=this.uniforms,l,n,h,u=s.getProgramParameter(i,s.ACTIVE_UNIFORMS);for(l=0;l<u;l++){var v=s.getActiveUniform(i,l);if(v){n=v.name,h=s.getUniformLocation(i,n),h!==null&&(r[n]={name:n,location:h,value1:null,value2:null,value3:null,value4:null});var f=n.indexOf("[");f>0&&(n=n.substr(0,f),r.hasOwnProperty(n)||(h=s.getUniformLocation(i,n),h!==null&&(r[n]={name:n,location:h,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(s){return this.uniforms.hasOwnProperty(s)},resetUniform:function(s){var i=this.uniforms[s];return i&&(i.value1=null,i.value2=null,i.value3=null,i.value4=null),this},setUniform1:function(s,i,r,l){var n=this.uniforms[i];return n?((l||n.value1!==r)&&(n.value1=r,this.renderer.setProgram(this.program),s.call(this.gl,n.location,r),this.pipeline.currentShader=this),this):this},setUniform2:function(s,i,r,l,n){var h=this.uniforms[i];return h?((n||h.value1!==r||h.value2!==l)&&(h.value1=r,h.value2=l,this.renderer.setProgram(this.program),s.call(this.gl,h.location,r,l),this.pipeline.currentShader=this),this):this},setUniform3:function(s,i,r,l,n,h){var u=this.uniforms[i];return u?((h||u.value1!==r||u.value2!==l||u.value3!==n)&&(u.value1=r,u.value2=l,u.value3=n,this.renderer.setProgram(this.program),s.call(this.gl,u.location,r,l,n),this.pipeline.currentShader=this),this):this},setUniform4:function(s,i,r,l,n,h,u){var v=this.uniforms[i];return v?((u||v.value1!==r||v.value2!==l||v.value3!==n||v.value4!==h)&&(v.value1=r,v.value2=l,v.value3=n,v.value4=h,this.renderer.setProgram(this.program),s.call(this.gl,v.location,r,l,n,h),this.pipeline.currentShader=this),this):this},set1f:function(s,i){return this.setUniform1(this.gl.uniform1f,s,i)},set2f:function(s,i,r){return this.setUniform2(this.gl.uniform2f,s,i,r)},set3f:function(s,i,r,l){return this.setUniform3(this.gl.uniform3f,s,i,r,l)},set4f:function(s,i,r,l,n){return this.setUniform4(this.gl.uniform4f,s,i,r,l,n)},set1fv:function(s,i){return this.setUniform1(this.gl.uniform1fv,s,i,!0)},set2fv:function(s,i){return this.setUniform1(this.gl.uniform2fv,s,i,!0)},set3fv:function(s,i){return this.setUniform1(this.gl.uniform3fv,s,i,!0)},set4fv:function(s,i){return this.setUniform1(this.gl.uniform4fv,s,i,!0)},set1iv:function(s,i){return this.setUniform1(this.gl.uniform1iv,s,i,!0)},set2iv:function(s,i){return this.setUniform1(this.gl.uniform2iv,s,i,!0)},set3iv:function(s,i){return this.setUniform1(this.gl.uniform3iv,s,i,!0)},set4iv:function(s,i){return this.setUniform1(this.gl.uniform4iv,s,i,!0)},set1i:function(s,i){return this.setUniform1(this.gl.uniform1i,s,i)},set2i:function(s,i,r){return this.setUniform2(this.gl.uniform2i,s,i,r)},set3i:function(s,i,r,l){return this.setUniform3(this.gl.uniform3i,s,i,r,l)},set4i:function(s,i,r,l,n){return this.setUniform4(this.gl.uniform4i,s,i,r,l,n)},setMatrix2fv:function(s,i,r){return this.setUniform2(this.gl.uniformMatrix2fv,s,i,r,!0)},setMatrix3fv:function(s,i,r){return this.setUniform2(this.gl.uniformMatrix3fv,s,i,r,!0)},setMatrix4fv:function(s,i,r){return this.setUniform2(this.gl.uniformMatrix4fv,s,i,r,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(59),o=t(2),a=t(875),s=t(876),i=t(25),r=t(107),l=t(58),n=new e({Extends:l,initialize:function(u){u.fragShader=o(u,"fragShader",a),u.vertShader=o(u,"vertShader",s),u.attributes=o(u,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:r.UNSIGNED_BYTE,normalized:!0}]),l.call(this,u),this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(h,u,v,f,c,g){this.renderer.pipelines.set(this);var m=this.calcMatrix;g&&g.multiply(c,m);var x=h+v,y=u+f,T=m.getX(h,u),E=m.getY(h,u),R=m.getX(h,y),M=m.getY(h,y),P=m.getX(x,y),O=m.getY(x,y),I=m.getX(x,u),B=m.getY(x,u),w=this.fillTint;this.batchQuad(T,E,R,M,P,O,I,B,w.TL,w.TR,w.BL,w.BR)},batchFillTriangle:function(h,u,v,f,c,g,m,x){this.renderer.pipelines.set(this);var y=this.calcMatrix;x&&x.multiply(m,y);var T=y.getX(h,u),E=y.getY(h,u),R=y.getX(v,f),M=y.getY(v,f),P=y.getX(c,g),O=y.getY(c,g),I=this.fillTint;this.batchTri(T,E,R,M,P,O,I.TL,I.TR,I.BL)},batchStrokeTriangle:function(h,u,v,f,c,g,m,x,y){var T=this.tempTriangle;T[0].x=h,T[0].y=u,T[0].width=m,T[1].x=v,T[1].y=f,T[1].width=m,T[2].x=c,T[2].y=g,T[2].width=m,T[3].x=h,T[3].y=u,T[3].width=m,this.batchStrokePath(T,m,!1,x,y)},batchFillPath:function(h,u,v){this.renderer.pipelines.set(this);var f=this.calcMatrix;v&&v.multiply(u,f);for(var c=h.length,g=this.polygonCache,m,x,y=this.fillTint.TL,T=this.fillTint.TR,E=this.fillTint.BL,R=0;R<c;++R)x=h[R],g.push(x.x,x.y);m=d(g),c=m.length;for(var M=0;M<c;M+=3){var P=m[M+0]*2,O=m[M+1]*2,I=m[M+2]*2,B=g[P+0],w=g[P+1],z=g[O+0],H=g[O+1],b=g[I+0],Q=g[I+1],D=f.getX(B,w),F=f.getY(B,w),G=f.getX(z,H),N=f.getY(z,H),X=f.getX(b,Q),V=f.getY(b,Q);this.batchTri(D,F,G,N,X,V,y,T,E)}g.length=0},batchStrokePath:function(h,u,v,f,c){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var g=h.length-1,m=0;m<g;m++){var x=h[m],y=h[m+1];this.batchLine(x.x,x.y,y.x,y.y,x.width/2,y.width/2,u,m,!v&&m===g-1,f,c)}},batchLine:function(h,u,v,f,c,g,m,x,y,T,E){this.renderer.pipelines.set(this);var R=this.calcMatrix;E&&E.multiply(T,R);var M=v-h,P=f-u,O=Math.sqrt(M*M+P*P),I=c*(f-u)/O,B=c*(h-v)/O,w=g*(f-u)/O,z=g*(h-v)/O,H=v-w,b=f-z,Q=h-I,D=u-B,F=v+w,G=f+z,N=h+I,X=u+B,V=R.getX(H,b),W=R.getY(H,b),Z=R.getX(Q,D),et=R.getY(Q,D),it=R.getX(F,G),ht=R.getY(F,G),vt=R.getX(N,X),lt=R.getY(N,X),xt=this.strokeTint,st=xt.TL,mt=xt.TR,wt=xt.BL,St=xt.BR;if(this.batchQuad(vt,lt,Z,et,V,W,it,ht,st,mt,wt,St),!(m<=2)){var Rt=this.prevQuad,Tt=this.firstQuad;x>0&&Rt[4]?this.batchQuad(vt,lt,Z,et,Rt[0],Rt[1],Rt[2],Rt[3],st,mt,wt,St):(Tt[0]=vt,Tt[1]=lt,Tt[2]=Z,Tt[3]=et,Tt[4]=1),y&&Tt[4]?this.batchQuad(V,W,it,ht,Tt[0],Tt[1],Tt[2],Tt[3],st,mt,wt,St):(Rt[0]=V,Rt[1]=W,Rt[2]=it,Rt[3]=ht,Rt[4]=1)}},batchVert:function(h,u,v){var f=this.vertexViewF32,c=this.vertexViewU32,g=this.vertexCount*this.currentShader.vertexComponentCount-1;f[++g]=h,f[++g]=u,c[++g]=v,this.vertexCount++},batchQuad:function(h,u,v,f,c,g,m,x,y,T,E,R){var M=!1;return this.shouldFlush(6)&&(this.flush(),M=!0),this.batchVert(h,u,y),this.batchVert(v,f,E),this.batchVert(c,g,R),this.batchVert(h,u,y),this.batchVert(c,g,R),this.batchVert(m,x,T),M},batchTri:function(h,u,v,f,c,g,m,x,y){var T=!1;return this.shouldFlush(3)&&(this.flush(),T=!0),this.batchVert(h,u,m),this.batchVert(v,f,x),this.batchVert(c,g,y),T},destroy:function(){return l.prototype.destroy.call(this),this.polygonCache=null,this}});p.exports=n},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(2),o=t(877),a=t(108),s=t(3),i=t(58),r=10,l=new s,n=new e({Extends:a,initialize:function(u){r=u.game.renderer.config.maxLights;for(var v=d(u,"fragShader",o),f=[],c=1;c<=r;c++)f.push({name:"lights"+c,fragShader:v.replace("%LIGHT_COUNT%",c.toString())});u.shaders=f,a.call(this,u),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){i.prototype.boot.call(this);var h=this.gl,u=h.createTexture();h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,u),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,1,1,0,h.RGBA,h.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:u};for(var v=0;v<this.shaders.length;v++)this["lightShader"+(v+1)]=this.shaders[v]},onRender:function(h,u){var v=h.sys.lights;if(this.lightsActive=!1,!(!v||!v.active)){var f=v.getLights(u),c=f.length;if(c!==0){this.lightsActive=!0,this.setShader(this["lightShader"+c],!0);var g,m=this.renderer,x=m.height,y=u.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",u.x,u.y,u.rotation,u.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),g=0;g<c;g++){var T=f[g].light,E=T.color,R="uLights["+g+"].";y.transformPoint(T.x,T.y,l),this.set2f(R+"position",l.x-u.scrollX*T.scrollFactorX*u.zoom,x-(l.y-u.scrollY*T.scrollFactorY*u.zoom)),this.set3f(R+"color",E.r,E.g,E.b),this.set1f(R+"intensity",T.intensity),this.set1f(R+"radius",T.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(h){if(h!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var u=this.inverseRotationMatrix;if(h){var v=-h,f=Math.cos(v),c=Math.sin(v);u[1]=c,u[3]=-c,u[0]=u[4]=f}else u[0]=u[4]=1,u[1]=u[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,u),this.currentNormalMapRotation=h}},setTexture2D:function(h,u){var v=this.renderer;h===void 0&&(h=v.tempTextures[0]);var f=this.getNormalMap(u);v.isNewNormalMap(h,f)&&(this.flush(),v.setTextureZero(h),v.setNormalMap(f));var c=u?u.rotation:0;return this.setNormalMapRotation(c),this.currentUnit=0,0},setGameObject:function(h,u){u===void 0&&(u=h.frame);var v=this.renderer,f=u.glTexture,c=this.getNormalMap(h);return v.isNewNormalMap()&&(this.flush(),v.setTextureZero(f),v.setNormalMap(c)),this.setNormalMapRotation(h.rotation),this.currentUnit=0,0},getNormalMap:function(h){var u;return h?h.displayTexture?u=h.displayTexture.dataSource[h.displayFrame.sourceIndex]:h.texture?u=h.texture.dataSource[h.frame.sourceIndex]:h.tileset&&(Array.isArray(h.tileset)?u=h.tileset[0].image.dataSource[0]:u=h.tileset.image.dataSource[0]):u=this.defaultNormalMap,u||(u=this.defaultNormalMap),u.glTexture},batchSprite:function(h,u,v){this.lightsActive&&a.prototype.batchSprite.call(this,h,u,v)},batchTexture:function(h,u,v,f,c,g,m,x,y,T,E,R,M,P,O,I,B,w,z,H,b,Q,D,F,G,N,X,V,W,Z,et,it){this.lightsActive&&a.prototype.batchTexture.call(this,h,u,v,f,c,g,m,x,y,T,E,R,M,P,O,I,B,w,z,H,b,Q,D,F,G,N,X,V,W,Z,et,it)},batchTextureFrame:function(h,u,v,f,c,g,m){this.lightsActive&&a.prototype.batchTextureFrame.call(this,h,u,v,f,c,g,m)}});n.LIGHT_COUNT=r,p.exports=n},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(2),o=t(880),a=t(881),s=t(58),i=new e({Extends:s,initialize:function(l){l.vertShader=d(l,"vertShader",a),l.fragShader=d(l,"fragShader",o),l.attributes=d(l,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),s.call(this,l)},onRender:function(r,l){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",l.zoom)},batchPointLight:function(r,l,n,h,u,v,f,c,g,m,x,y){var T=r.color,E=r.intensity,R=r.radius,M=r.attenuation,P=T.r*E,O=T.g*E,I=T.b*E,B=l.alpha*r.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(n,h,x,y,R,M,P,O,I,B),this.batchLightVert(u,v,x,y,R,M,P,O,I,B),this.batchLightVert(f,c,x,y,R,M,P,O,I,B),this.batchLightVert(n,h,x,y,R,M,P,O,I,B),this.batchLightVert(f,c,x,y,R,M,P,O,I,B),this.batchLightVert(g,m,x,y,R,M,P,O,I,B)},batchLightVert:function(r,l,n,h,u,v,f,c,g,m){var x=this.vertexViewF32,y=this.vertexCount*this.currentShader.vertexComponentCount-1;x[++y]=r,x[++y]=l,x[++y]=n,x[++y]=h,x[++y]=u,x[++y]=v,x[++y]=f,x[++y]=c,x[++y]=g,x[++y]=m,this.vertexCount++}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(2),o=t(108),a=new e({Extends:o,initialize:function(i){i.topology=5,i.batchSize=d(i,"batchSize",256),o.call(this,i)}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(2),o=t(108),a=t(882),s=t(883),i=t(58),r=new e({Extends:o,initialize:function(n){n.fragShader=d(n,"fragShader",a),n.vertShader=d(n,"vertShader",s),n.forceZero=!0,o.call(this,n)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0)}});p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(884),d=t(35),o=t(0),a=t(198),s=t(885),i=t(886),r=t(2),l=t(887),n=t(382),h=t(58),u=new o({Extends:h,initialize:function(f){f.renderTarget=r(f,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),f.vertShader=r(f,"vertShader",n),f.shaders=r(f,"shaders",[{name:"Copy",fragShader:i},{name:"AddBlend",fragShader:e},{name:"LinearBlend",fragShader:l},{name:"ColorMatrix",fragShader:s}]),f.attributes=r(f,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),f.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],f.batchSize=1,h.call(this,f),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var v=this.shaders,f=this.renderTargets;this.copyShader=v[0],this.addShader=v[1],this.linearShader=v[2],this.colorMatrixShader=v[3],this.fullFrame1=f[0],this.fullFrame2=f[1],this.halfFrame1=f[2],this.halfFrame2=f[3]},copyFrame:function(v,f,c,g,m){c===void 0&&(c=1),g===void 0&&(g=!0),m===void 0&&(m=!0);var x=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),x.activeTexture(x.TEXTURE0),x.bindTexture(x.TEXTURE_2D,v.texture),f?(x.viewport(0,0,f.width,f.height),x.bindFramebuffer(x.FRAMEBUFFER,f.framebuffer),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,f.texture,0)):x.viewport(0,0,v.width,v.height),g&&(m?x.clearColor(0,0,0,0):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT)),x.bufferData(x.ARRAY_BUFFER,this.vertexData,x.STATIC_DRAW),x.drawArrays(x.TRIANGLES,0,6),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindTexture(x.TEXTURE_2D,null)},blitFrame:function(v,f,c,g,m,x){c===void 0&&(c=1),g===void 0&&(g=!0),m===void 0&&(m=!0),x===void 0&&(x=!1);var y=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",c),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,v.texture),v.height>f.height)y.viewport(0,0,v.width,v.height),this.setTargetUVs(v,f);else{var T=f.height-v.height;y.viewport(0,T,v.width,v.height)}if(y.bindFramebuffer(y.FRAMEBUFFER,f.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,f.texture,0),g&&(m?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT)),x){var E=this.renderer.currentBlendMode;this.renderer.setBlendMode(d.ERASE)}y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),x&&this.renderer.setBlendMode(E),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(v,f,c,g,m,x,y,T){y===void 0&&(y=!0),T===void 0&&(T=!0);var E=this.gl;E.bindFramebuffer(E.FRAMEBUFFER,v.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,v.texture,0),y&&(T?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,f.texture),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,c,g,m,x),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},copyToGame:function(v){var f=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,v.texture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(v,f,c,g){c===void 0&&(c=!0),g===void 0&&(g=this.colorMatrix);var m=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",g.getData()),this.set1f("uAlpha",g.alpha),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,v.texture),f?(m.viewport(0,0,f.width,f.height),m.bindFramebuffer(m.FRAMEBUFFER,f.framebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,f.texture,0)):m.viewport(0,0,v.width,v.height),c?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindTexture(m.TEXTURE_2D,null)},blendFrames:function(v,f,c,g,m,x){g===void 0&&(g=1),m===void 0&&(m=!0),x===void 0&&(x=this.linearShader);var y=this.gl;this.setShader(x),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",g),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,v.texture),y.activeTexture(y.TEXTURE1),y.bindTexture(y.TEXTURE_2D,f.texture),c?(y.bindFramebuffer(y.FRAMEBUFFER,c.framebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,c.texture,0),y.viewport(0,0,c.width,c.height)):y.viewport(0,0,v.width,v.height),m?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),y.bindFramebuffer(y.FRAMEBUFFER,null),y.bindTexture(y.TEXTURE_2D,null)},blendFramesAdditive:function(v,f,c,g,m){this.blendFrames(v,f,c,g,m,this.addShader)},clearFrame:function(v,f){f===void 0&&(f=!0);var c=this.gl;c.viewport(0,0,v.width,v.height),c.bindFramebuffer(c.FRAMEBUFFER,v.framebuffer),f?c.clearColor(0,0,0,0):c.clearColor(0,0,0,1),c.clear(c.COLOR_BUFFER_BIT);var g=this.renderer.currentFramebuffer;c.bindFramebuffer(c.FRAMEBUFFER,g)},setUVs:function(v,f,c,g,m,x,y,T){var E=this.vertexViewF32;E[2]=v,E[3]=f,E[6]=c,E[7]=g,E[10]=m,E[11]=x,E[14]=v,E[15]=f,E[18]=m,E[19]=x,E[22]=y,E[23]=T},setTargetUVs:function(v,f){var c=f.height/v.height;c>.5?c=.5-(c-.5):c=.5+(.5-c),this.setUVs(0,c,0,1+c,1,1+c,1,c)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});p.exports=u},function(p,C){p.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join(`
`)},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),d=t(38),o=t(2),a=function(s,i){var r=s.getContext("experimental-webgl"),l=o(i,"callback"),n=o(i,"type","image/png"),h=o(i,"encoder",.92),u=o(i,"x",0),v=o(i,"y",0),f=o(i,"getPixel",!1),c=o(i,"isFramebuffer",!1),g=c?o(i,"bufferWidth",1):r.drawingBufferWidth,m=c?o(i,"bufferHeight",1):r.drawingBufferHeight;if(f){var x=new Uint8Array(4),y=c?v:m-v;r.readPixels(u,y,1,1,r.RGBA,r.UNSIGNED_BYTE,x),l.call(null,new d(x[0],x[1],x[2],x[3]/255))}else{var T=o(i,"width",g),E=o(i,"height",m),R=T*E*4,M=new Uint8Array(R);r.readPixels(u,m-v-E,T,E,r.RGBA,r.UNSIGNED_BYTE,M);for(var P=e.createWebGL(this,T,E),O=P.getContext("2d"),I=O.getImageData(0,0,T,E),B=I.data,w=0;w<E;w++)for(var z=0;z<T;z++){var H=((E-w-1)*T+z)*4,b=(w*T+z)*4;B[b+0]=M[H+0],B[b+1]=M[H+1],B[b+2]=M[H+2],B[b+3]=M[H+3]}O.putImageData(I,0,0);var Q=new Image;Q.onerror=function(){l.call(null),e.remove(P)},Q.onload=function(){l.call(null,Q),e.remove(P)},Q.src=P.toDataURL(n,h)}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),d=function(o){var a=o.config;if(!a.hideBanner){var s="WebGL";a.renderType===e.CANVAS?s="Canvas":a.renderType===e.HEADLESS&&(s="Headless");var i=a.audio,r=o.device.audio,l;if(r.webAudio&&!i.disableWebAudio?l="Web Audio":i.noAudio||!r.webAudio&&!r.audioData?l="No Audio":l="HTML5 Audio",o.device.browser.ie)window.console&&console.log("Phaser v"+e.VERSION+" / https://phaser.io");else{var n="",h=[n];if(Array.isArray(a.bannerBackgroundColor)){var u;a.bannerBackgroundColor.forEach(function(f){n=n.concat("%c "),h.push("background: "+f),u=f}),h[h.length-1]="color: "+a.bannerTextColor+"; background: "+u}else n=n.concat("%c "),h.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);h.push("background: transparent"),a.gameTitle&&(n=n.concat(a.gameTitle),a.gameVersion&&(n=n.concat(" v"+a.gameVersion)),a.hidePhaser||(n=n.concat(" / ")));var v="";a.hidePhaser||(n=n.concat("Phaser v"+e.VERSION+v+" ("+s+" | "+l+")")),n=n.concat(" %c "+a.gameURL),h[0]=n,console.log.apply(console,h)}}};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(6),o=t(1),a=t(386),s=new e({initialize:function(r,l){this.game=r,this.raf=new a,this.started=!1,this.running=!1,this.minFps=d(l,"min",5),this.targetFps=d(l,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=o,this.forceSetTimeOut=d(l,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=d(l,"deltaHistory",10),this.panicMax=d(l,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=d(l,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var i=window.performance.now();this.time=i,this.lastTime=i,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=Math.min(this._target,this.deltaHistory[r]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(i){if(this.started)return this;this.started=!0,this.running=!0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=i,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var i=window.performance.now();this.now=i;var r=i-this.lastTime;r<0&&(r=0),this.rawDelta=r;var l=this.deltaIndex,n=this.deltaHistory,h=this.deltaSmoothingMax,u=r,v=r;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,u=Math.min(u,this._target)),u>this._min&&(u=n[l],u=Math.min(u,this._min)),n[l]=u,this.deltaIndex++,this.deltaIndex>h&&(this.deltaIndex=0),v=0;for(var f=0;f<h;f++)v+=n[f];v/=h}this.delta=v,this.time+=this.rawDelta,i>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0),this.framesThisSecond++;var c=v/this._target;this.callback(i,v,c),this.lastTime=i,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(i){this.running||(i&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=o,this.raf=null,this.game=null}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(1),o=new e({initialize:function(){this.isRunning=!1,this.callback=d,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var s=this;this.step=function i(){var r=window.performance.now();s.lastTime=s.tick,s.tick=r,s.callback(r),s.timeOutID=window.requestAnimationFrame(i)},this.stepTimeout=function i(){var r=Date.now(),l=Math.min(Math.max(s.target*2+s.tick-r,0),s.target);s.lastTime=s.tick,s.tick=r,s.callback(r),s.timeOutID=window.setTimeout(i,l)}},start:function(a,s,i){this.isRunning||(this.callback=a,this.isSetTimeOut=s,this.target=i,this.isRunning=!0,this.timeOutID=s?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=d}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(22),d=function(o){var a,s=o.events;if(document.hidden!==void 0)a="visibilitychange";else{var i=["webkit","moz","ms"];i.forEach(function(l){document[l+"Hidden"]!==void 0&&(document.hidden=function(){return document[l+"Hidden"]},a=l+"visibilitychange")})}var r=function(l){document.hidden||l.type==="pause"?s.emit(e.HIDDEN):s.emit(e.VISIBLE)};a&&document.addEventListener(a,r,!1),window.onblur=function(){s.emit(e.BLUR)},window.onfocus=function(){s.emit(e.FOCUS)},window.focus&&o.config.autoFocus&&window.focus()};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(389),d=t(31),o=t(6),a=function(s){var i=o(s,"data",[]),r=o(s,"canvas",null),l=o(s,"palette",e),n=o(s,"pixelWidth",1),h=o(s,"pixelHeight",n),u=o(s,"resizeCanvas",!0),v=o(s,"clearCanvas",!0),f=o(s,"preRender",null),c=o(s,"postRender",null),g=Math.floor(Math.abs(i[0].length*n)),m=Math.floor(Math.abs(i.length*h));r||(r=d.create2D(this,g,m),u=!1,v=!1),u&&(r.width=g,r.height=m);var x=r.getContext("2d");v&&x.clearRect(0,0,g,m),f&&f(r,x);for(var y=0;y<i.length;y++)for(var T=i[y],E=0;E<T.length;E++){var R=T[E];R!=="."&&R!==" "&&(x.fillStyle=l[R],x.fillRect(E*n,y*h,n,h))}return c&&c(r,x),r};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(358),o=t(94),a=t(3),s=new e({Extends:o,initialize:function(r,l,n,h){o.call(this,"CubicBezierCurve"),Array.isArray(r)&&(h=new a(r[6],r[7]),n=new a(r[4],r[5]),l=new a(r[2],r[3]),r=new a(r[0],r[1])),this.p0=r,this.p1=l,this.p2=n,this.p3=h},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,r){r===void 0&&(r=new a);var l=this.p0,n=this.p1,h=this.p2,u=this.p3;return r.set(d(i,l.x,n.x,h.x,u.x),d(i,l.y,n.y,h.y,u.y))},draw:function(i,r){r===void 0&&(r=32);var l=this.getPoints(r);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var n=1;n<l.length;n++)i.lineTo(l[n].x,l[n].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});s.fromJSON=function(i){var r=i.points,l=new a(r[0],r[1]),n=new a(r[2],r[3]),h=new a(r[4],r[5]),u=new a(r[6],r[7]);return new s(l,n,h,u)},p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(94),o=t(36),a=t(6),s=t(196),i=t(3),r=new e({Extends:d,initialize:function(n,h,u,v,f,c,g,m){if(typeof n=="object"){var x=n;n=a(x,"x",0),h=a(x,"y",0),u=a(x,"xRadius",0),v=a(x,"yRadius",u),f=a(x,"startAngle",0),c=a(x,"endAngle",360),g=a(x,"clockwise",!1),m=a(x,"rotation",0)}else v===void 0&&(v=u),f===void 0&&(f=0),c===void 0&&(c=360),g===void 0&&(g=!1),m===void 0&&(m=0);d.call(this,"EllipseCurve"),this.p0=new i(n,h),this._xRadius=u,this._yRadius=v,this._startAngle=o(f),this._endAngle=o(c),this._clockwise=g,this._rotation=o(m)},getStartPoint:function(l){return l===void 0&&(l=new i),this.getPoint(0,l)},getResolution:function(l){return l*2},getPoint:function(l,n){n===void 0&&(n=new i);for(var h=Math.PI*2,u=this._endAngle-this._startAngle,v=Math.abs(u)<Number.EPSILON;u<0;)u+=h;for(;u>h;)u-=h;u<Number.EPSILON&&(v?u=0:u=h),this._clockwise&&!v&&(u===h?u=-h:u=u-h);var f=this._startAngle+l*u,c=this.p0.x+this._xRadius*Math.cos(f),g=this.p0.y+this._yRadius*Math.sin(f);if(this._rotation!==0){var m=Math.cos(this._rotation),x=Math.sin(this._rotation),y=c-this.p0.x,T=g-this.p0.y;c=y*m-T*x+this.p0.x,g=y*x+T*m+this.p0.y}return n.set(c,g)},setXRadius:function(l){return this.xRadius=l,this},setYRadius:function(l){return this.yRadius=l,this},setWidth:function(l){return this.xRadius=l/2,this},setHeight:function(l){return this.yRadius=l/2,this},setStartAngle:function(l){return this.startAngle=l,this},setEndAngle:function(l){return this.endAngle=l,this},setClockwise:function(l){return this.clockwise=l,this},setRotation:function(l){return this.rotation=l,this},x:{get:function(){return this.p0.x},set:function(l){this.p0.x=l}},y:{get:function(){return this.p0.y},set:function(l){this.p0.y=l}},xRadius:{get:function(){return this._xRadius},set:function(l){this._xRadius=l}},yRadius:{get:function(){return this._yRadius},set:function(l){this._yRadius=l}},startAngle:{get:function(){return s(this._startAngle)},set:function(l){this._startAngle=o(l)}},endAngle:{get:function(){return s(this._endAngle)},set:function(l){this._endAngle=o(l)}},clockwise:{get:function(){return this._clockwise},set:function(l){this._clockwise=l}},angle:{get:function(){return s(this._rotation)},set:function(l){this._rotation=o(l)}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=l}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:s(this._startAngle),endAngle:s(this._endAngle),clockwise:this._clockwise,rotation:s(this._rotation)}}});r.fromJSON=function(l){return new r(l)},p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(94),o=t(199),a=t(10),s=t(3),i=new e({Extends:d,initialize:function(l,n){d.call(this,"LineCurve"),Array.isArray(l)&&(n=new s(l[2],l[3]),l=new s(l[0],l[1])),this.p0=l,this.p1=n,this.arcLengthDivisions=1},getBounds:function(r){return r===void 0&&(r=new a),o([this.p0,this.p1],r)},getStartPoint:function(r){return r===void 0&&(r=new s),r.copy(this.p0)},getResolution:function(r){return r===void 0&&(r=1),r},getPoint:function(r,l){return l===void 0&&(l=new s),r===1?l.copy(this.p1):(l.copy(this.p1).subtract(this.p0).scale(r).add(this.p0),l)},getPointAt:function(r,l){return this.getPoint(r,l)},getTangent:function(r,l){return l===void 0&&(l=new s),l.copy(this.p1).subtract(this.p0).normalize(),l},getUtoTmapping:function(r,l,n){var h;if(l){var u=this.getLengths(n),v=u[u.length-1],f=Math.min(l,v);h=f/v}else h=r;return h},draw:function(r){return r.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});i.fromJSON=function(r){var l=r.points,n=new s(l[0],l[1]),h=new s(l[2],l[3]);return new i(n,h)},p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(3),o=new e({initialize:function(s,i){this.active=!1,this.p0=new d(s,i)},getPoint:function(a,s){return s===void 0&&(s=new d),s.copy(this.p0)},getPointAt:function(a,s){return this.getPoint(a,s)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(94),o=t(359),a=t(3),s=new e({Extends:d,initialize:function(r,l,n){d.call(this,"QuadraticBezier"),Array.isArray(r)&&(n=new a(r[4],r[5]),l=new a(r[2],r[3]),r=new a(r[0],r[1])),this.p0=r,this.p1=l,this.p2=n},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,r){r===void 0&&(r=new a);var l=this.p0,n=this.p1,h=this.p2;return r.set(o(i,l.x,n.x,h.x),o(i,l.y,n.y,h.y))},draw:function(i,r){r===void 0&&(r=32);var l=this.getPoints(r);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var n=1;n<l.length;n++)i.lineTo(l[n].x,l[n].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});s.fromJSON=function(i){var r=i.points,l=new a(r[0],r[1]),n=new a(r[2],r[3]),h=new a(r[4],r[5]);return new s(l,n,h)},p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),d=t(0),o=t(94),a=t(3),s=new d({Extends:o,initialize:function(r){r===void 0&&(r=[]),o.call(this,"SplineCurve"),this.points=[],this.addPoints(r)},addPoints:function(i){for(var r=0;r<i.length;r++){var l=new a;typeof i[r]=="number"?(l.x=i[r],l.y=i[r+1],r++):Array.isArray(i[r])?(l.x=i[r][0],l.y=i[r][1]):(l.x=i[r].x,l.y=i[r].y),this.points.push(l)}return this},addPoint:function(i,r){var l=new a(i,r);return this.points.push(l),l},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.points[0])},getResolution:function(i){return i*this.points.length},getPoint:function(i,r){r===void 0&&(r=new a);var l=this.points,n=(l.length-1)*i,h=Math.floor(n),u=n-h,v=l[h===0?h:h-1],f=l[h],c=l[h>l.length-2?l.length-1:h+1],g=l[h>l.length-3?l.length-1:h+2];return r.set(e(u,v.x,f.x,c.x,g.x),e(u,v.y,f.y,c.y,g.y))},toJSON:function(){for(var i=[],r=0;r<this.points.length;r++)i.push(this.points[r].x),i.push(this.points[r].y);return{type:this.type,points:i}}});s.fromJSON=function(i){return new s(i.points)},p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s,i,r){(!s||s==="")&&(s=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!i||i==="")&&(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=a,this.fragmentSrc=s,this.vertexSrc=i,this.uniforms=r}});p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38);e.ColorSpectrum=t(909),e.ColorToRGBA=t(910),e.ComponentToHex=t(398),e.GetColor=t(103),e.GetColor32=t(328),e.HexStringToColor=t(327),e.HSLToColor=t(911),e.HSVColorWheel=t(912),e.HSVToRGB=t(188),e.HueToComponent=t(399),e.IntegerToColor=t(189),e.IntegerToRGB=t(330),e.Interpolate=t(913),e.ObjectToColor=t(331),e.RandomRGB=t(914),e.RGBStringToColor=t(332),e.RGBToHSV=t(329),e.RGBToString=t(915),e.ValueToColor=t(187),p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d=e.toString(16);return d.length===1?"0"+d:d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return o<0&&(o+=1),o>1&&(o-=1),o<.16666666666666666?e+(d-e)*6*o:o<.5?d:o<.6666666666666666?e+(d-e)*(.6666666666666666-o)*6:e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),d=function(o){if(document.readyState==="complete"||document.readyState==="interactive"){o();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),o()};document.body?e.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!e)return window.innerHeight;var d=Math.abs(window.orientation),o={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),o.w=d===90?a.offsetHeight:window.innerWidth,o.h=d===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?o.h:o.w};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),d=function(o,a){var s=window.screen,i=s?s.orientation||s.mozOrientation||s.msOrientation:!1;if(i&&typeof i.type=="string")return i.type;if(typeof i=="string")return i;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return e.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return e.ORIENTATION.LANDSCAPE}else return a>o?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d;return e!==""&&(typeof e=="string"?d=document.getElementById(e):e&&e.nodeType===1&&(d=e)),d||(d=document.body),d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d="";try{if(window.DOMParser){var o=new DOMParser;d=o.parseFromString(e,"text/xml")}else d=new ActiveXObject("Microsoft.XMLDOM"),d.loadXML(e)}catch(a){d=null}return!d||!d.documentElement||d.getElementsByTagName("parsererror").length?null:d};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(203),o=t(9),a=t(51),s=t(22),i=t(410),r=t(411),l=t(412),n=t(413),h=t(25),u=t(177),v=new e({initialize:function(c,g){this.game=c,this.scaleManager,this.canvas,this.config=g,this.enabled=!0,this.events=new o,this.isOver=!0,this.defaultCursor="",this.keyboard=g.inputKeyboard?new i(this):null,this.mouse=g.inputMouse?new r(this):null,this.touch=g.inputTouch?new n(this):null,this.pointers=[],this.pointersTotal=g.inputActivePointers,g.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var m=0;m<=this.pointersTotal;m++){var x=new l(this,m);x.smoothFactor=g.inputSmoothFactor,this.pointers.push(x)}this.mousePointer=g.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],c.events.once(s.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(a.MANAGER_BOOT),this.game.events.on(s.PRE_RENDER,this.preRender,this),this.game.events.once(s.DESTROY,this.destroy,this)},setCanvasOver:function(f){this.isOver=!0,this.events.emit(a.GAME_OVER,f)},setCanvasOut:function(f){this.isOver=!1,this.events.emit(a.GAME_OUT,f)},preRender:function(){var f=this.game.loop.now,c=this.game.loop.delta,g=this.game.scene.getScenes(!0,!0);this.time=f,this.events.emit(a.MANAGER_UPDATE);for(var m=0;m<g.length;m++){var x=g[m];if(x.sys.input&&x.sys.input.updatePoll(f,c)&&this.globalTopOnly)return}},setDefaultCursor:function(f){this.defaultCursor=f,this.canvas.style.cursor!==f&&(this.canvas.style.cursor=f)},setCursor:function(f){f.cursor&&(this.canvas.style.cursor=f.cursor)},resetCursor:function(f){f.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(f){f===void 0&&(f=1);var c=[];this.pointersTotal+f>10&&(f=10-this.pointersTotal);for(var g=0;g<f;g++){var m=this.pointers.length,x=new l(this,m);x.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(x),this.pointersTotal++,c.push(x)}return c},updateInputPlugins:function(f,c){var g=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var m=0;m<g.length;m++){var x=g[m];if(x.sys.input){var y=x.sys.input.update(f,c);if(y&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var x=f.changedTouches[m],y=1;y<this.pointersTotal;y++){var T=c[y];if(!T.active){T.touchstart(x,f),this.activePointer=T,g.push(T);break}}this.updateInputPlugins(d.TOUCH_START,g)},onTouchMove:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var x=f.changedTouches[m],y=1;y<this.pointersTotal;y++){var T=c[y];if(T.active&&T.identifier===x.identifier){T.touchmove(x,f),this.activePointer=T,g.push(T);break}}this.updateInputPlugins(d.TOUCH_MOVE,g)},onTouchEnd:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var x=f.changedTouches[m],y=1;y<this.pointersTotal;y++){var T=c[y];if(T.active&&T.identifier===x.identifier){T.touchend(x,f),g.push(T);break}}this.updateInputPlugins(d.TOUCH_END,g)},onTouchCancel:function(f){for(var c=this.pointers,g=[],m=0;m<f.changedTouches.length;m++)for(var x=f.changedTouches[m],y=1;y<this.pointersTotal;y++){var T=c[y];if(T.active&&T.identifier===x.identifier){T.touchcancel(x,f),g.push(T);break}}this.updateInputPlugins(d.TOUCH_CANCEL,g)},onMouseDown:function(f){var c=this.mousePointer;c.down(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(d.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(f){var c=this.mousePointer;c.move(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(d.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(f){var c=this.mousePointer;c.up(f),c.updateMotion(),this.activePointer=c,this.updateInputPlugins(d.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(f){var c=this.mousePointer;c.wheel(f),this.activePointer=c,this.updateInputPlugins(d.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(f){var c=this.mouse.locked;this.mousePointer.locked=c,this.events.emit(a.POINTERLOCK_CHANGE,f,c)},inputCandidate:function(f,c){var g=f.input;if(!g||!g.enabled||!g.alwaysEnabled&&!f.willRender(c))return!1;var m=!0,x=f.parentContainer;if(x)do{if(!x.willRender(c)){m=!1;break}x=x.parentContainer}while(x);return m},hitTest:function(f,c,g,m){m===void 0&&(m=this._tempHitTest);var x=this._tempPoint,y=g.scrollX,T=g.scrollY;m.length=0;var E=f.x,R=f.y;g.getWorldPoint(E,R,x),f.worldX=x.x,f.worldY=x.y;for(var M={x:0,y:0},P=this._tempMatrix,O=this._tempMatrix2,I=0;I<c.length;I++){var B=c[I];if(!!this.inputCandidate(B,g)){var w=x.x+y*B.scrollFactorX-y,z=x.y+T*B.scrollFactorY-T;B.parentContainer?(B.getWorldTransformMatrix(P,O),P.applyInverse(w,z,M)):u(w,z,B.x,B.y,B.rotation,B.scaleX,B.scaleY,M),this.pointWithinHitArea(B,M.x,M.y)&&m.push(B)}}return m},pointWithinHitArea:function(f,c,g){c+=f.displayOriginX,g+=f.displayOriginY;var m=f.input;return m&&m.hitAreaCallback(m.hitArea,c,g,f)?(m.localX=c,m.localY=g,!0):!1},pointWithinInteractiveObject:function(f,c,g){return f.hitArea?(c+=f.gameObject.displayOriginX,g+=f.gameObject.displayOriginY,f.localX=c,f.localY=g,f.hitAreaCallback(f.hitArea,c,g,f)):!1},transformPointer:function(f,c,g,m){var x=f.position,y=f.prevPosition;y.x=x.x,y.y=x.y;var T=this.scaleManager.transformX(c),E=this.scaleManager.transformY(g),R=f.smoothFactor;!m||R===0?(x.x=T,x.y=E):(x.x=T*R+y.x*(1-R),x.y=E*R+y.y*(1-R))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(s.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var f=0;f<this.pointers.length;f++)this.pointers[f].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});p.exports=v},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),d=t(0),o=t(22),a=t(51),s=t(143),i=t(1),r=new d({initialize:function(n){this.manager=n,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,n.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputKeyboard,this.target=l.inputKeyboardEventTarget,this.addCapture(l.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(o.POST_STEP,this.postUpdate,this)},startListeners:function(){var l=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(a.MANAGER_PROCESS);var u=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!u&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!l.enabled||!l.manager)){l.queue.push(h),l.manager.events.emit(a.MANAGER_PROCESS);var u=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;l.preventDefault&&!u&&l.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var n=this.target;n&&(n.addEventListener("keydown",this.onKeyDown,!1),n.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var l=this.target;l.removeEventListener("keydown",this.onKeyDown,!1),l.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var n=this.captures,h=0;h<l.length;h++){var u=l[h];typeof u=="string"&&(u=s[u.trim().toUpperCase()]),n.indexOf(u)===-1&&n.push(u)}this.preventDefault=n.length>0},removeCapture:function(l){typeof l=="string"&&(l=l.split(",")),Array.isArray(l)||(l=[l]);for(var n=this.captures,h=0;h<l.length;h++){var u=l[h];typeof u=="string"&&(u=s[u.toUpperCase()]),e(n,u)}this.preventDefault=n.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(o.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(191),o=t(51),a=t(1),s=new e({initialize:function(r){this.manager=r,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,r.events.once(o.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputMouse,this.target=i.inputMouseEventTarget,this.passive=i.inputMousePassive,this.preventDefaultDown=i.inputMousePreventDefaultDown,this.preventDefaultUp=i.inputMousePreventDefaultUp,this.preventDefaultMove=i.inputMousePreventDefaultMove,this.preventDefaultWheel=i.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},requestPointerLock:function(){if(d.pointerLock){var i=this.target;i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock,i.requestPointerLock()}},releasePointerLock:function(){d.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var i=this.target;if(!!i){var r=this,l=this.manager,n=l.canvas,h=window&&window.focus&&l.game.config.autoFocus;this.onMouseMove=function(v){!v.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseMove(v),r.preventDefaultMove&&v.preventDefault())},this.onMouseDown=function(v){h&&window.focus(),!v.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseDown(v),r.preventDefaultDown&&v.target===n&&v.preventDefault())},this.onMouseDownWindow=function(v){!v.defaultPrevented&&r.enabled&&l&&l.enabled&&v.target!==n&&l.onMouseDown(v)},this.onMouseUp=function(v){!v.defaultPrevented&&r.enabled&&l&&l.enabled&&(l.onMouseUp(v),r.preventDefaultUp&&v.target===n&&v.preventDefault())},this.onMouseUpWindow=function(v){!v.defaultPrevented&&r.enabled&&l&&l.enabled&&v.target!==n&&l.onMouseUp(v)},this.onMouseOver=function(v){!v.defaultPrevented&&r.enabled&&l&&l.enabled&&l.setCanvasOver(v)},this.onMouseOut=function(v){!v.defaultPrevented&&r.enabled&&l&&l.enabled&&l.setCanvasOut(v)},this.onMouseWheel=function(v){!v.defaultPrevented&&r.enabled&&l&&l.enabled&&l.onMouseWheel(v),r.preventDefaultWheel&&v.target===n&&v.preventDefault()};var u={passive:!0};if(i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),i.addEventListener("mouseover",this.onMouseOver,u),i.addEventListener("mouseout",this.onMouseOut,u),this.preventDefaultWheel?i.addEventListener("wheel",this.onMouseWheel,{passive:!1}):i.addEventListener("wheel",this.onMouseWheel,u),window&&l.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,u),window.top.addEventListener("mouseup",this.onMouseUpWindow,u)}catch(v){window.addEventListener("mousedown",this.onMouseDownWindow,u),window.addEventListener("mouseup",this.onMouseUpWindow,u),this.isTop=!1}d.pointerLock&&(this.pointerLockChange=function(v){var f=r.target;r.locked=document.pointerLockElement===f||document.mozPointerLockElement===f||document.webkitPointerLockElement===f,l.onPointerLockChange(v)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("mousedown",this.onMouseDown),i.removeEventListener("mouseup",this.onMouseUp),i.removeEventListener("mouseover",this.onMouseOver),i.removeEventListener("mouseout",this.onMouseOut),window&&(i=this.isTop?window.top:window,i.removeEventListener("mousedown",this.onMouseDownWindow),i.removeEventListener("mouseup",this.onMouseUpWindow)),d.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(349),d=t(0),o=t(50),a=t(124),s=t(360),i=t(3),r=t(105),l=new d({initialize:function(h,u){this.manager=h,this.id=u,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new i,this.prevPosition=new i,this.midPoint=new i(-1,-1),this.velocity=new i,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=u===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(n){var h=n.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(n,h){return n.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var n=this.position.x,h=this.position.y,u=this.midPoint.x,v=this.midPoint.y;if(!(n===u&&h===v)){var f=s(this.motionFactor,u,n),c=s(this.motionFactor,v,h);a(f,n,.1)&&(f=n),a(c,h,.1)&&(c=h),this.midPoint.set(f,c);var g=n-f,m=h-c;this.velocity.set(g,m),this.angle=e(f,c,n,h),this.distance=Math.sqrt(g*g+m*m)}},up:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=n.timeStamp,this.wasTouch=!1)},down:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.button=n.button,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),n.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),r.macOS&&n.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=n.timeStamp),this.wasTouch=!1},move:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.locked&&(this.movementX=n.movementX||n.mozMovementX||n.webkitMovementX||0,this.movementY=n.movementY||n.mozMovementY||n.webkitMovementY||0),this.moveTime=n.timeStamp,this.wasTouch=!1},wheel:function(n){"buttons"in n&&(this.buttons=n.buttons),this.event=n,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.deltaX=n.deltaX,this.deltaY=n.deltaY,this.deltaZ=n.deltaZ,this.wasTouch=!1},touchstart:function(n,h){n.pointerId&&(this.pointerId=n.pointerId),this.identifier=n.identifier,this.target=n.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(n,h){this.event=h,this.manager.transformPointer(this,n.pageX,n.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(n,h){this.buttons=0,this.event=h,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(n,h){this.buttons=0,this.event=h,this.upElement=n.target,this.manager.transformPointer(this,n.pageX,n.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?e(this.downX,this.downY,this.x,this.y):e(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(n,h){n===void 0&&(n=10),h===void 0&&(h=[]);for(var u=this.prevPosition.x,v=this.prevPosition.y,f=this.position.x,c=this.position.y,g=0;g<n;g++){var m=1/n*g;h[g]={x:s(m,u,f),y:s(m,v,c)}}return h},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},time:{get:function(){return this.event?this.event.timeStamp:0}}});p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(51),o=t(1),a=new e({initialize:function(i){this.manager=i,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=o,this.onTouchStartWindow=o,this.onTouchMove=o,this.onTouchEnd=o,this.onTouchEndWindow=o,this.onTouchCancel=o,this.onTouchCancelWindow=o,this.onTouchOver=o,this.onTouchOut=o,i.events.once(d.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputTouch,this.target=s.inputTouchEventTarget,this.capture=s.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},startListeners:function(){var s=this,i=this.manager.canvas,r=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(u){r&&window.focus(),!u.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&(s.manager.onTouchStart(u),s.capture&&u.cancelable&&u.target===i&&u.preventDefault())},this.onTouchStartWindow=function(u){!u.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&u.target!==i&&s.manager.onTouchStart(u)},this.onTouchMove=function(u){!u.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&(s.manager.onTouchMove(u),s.capture&&u.cancelable&&u.preventDefault())},this.onTouchEnd=function(u){!u.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&(s.manager.onTouchEnd(u),s.capture&&u.cancelable&&u.target===i&&u.preventDefault())},this.onTouchEndWindow=function(u){!u.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&u.target!==i&&s.manager.onTouchEnd(u)},this.onTouchCancel=function(u){!u.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&(s.manager.onTouchCancel(u),s.capture&&u.preventDefault())},this.onTouchCancelWindow=function(u){!u.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&s.manager.onTouchCancel(u)},this.onTouchOver=function(u){!u.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&s.manager.setCanvasOver(u)},this.onTouchOut=function(u){!u.defaultPrevented&&s.enabled&&s.manager&&s.manager.enabled&&s.manager.setCanvasOut(u)};var l=this.target;if(!!l){var n={passive:!0},h={passive:!1};l.addEventListener("touchstart",this.onTouchStart,this.capture?h:n),l.addEventListener("touchmove",this.onTouchMove,this.capture?h:n),l.addEventListener("touchend",this.onTouchEnd,this.capture?h:n),l.addEventListener("touchcancel",this.onTouchCancel,this.capture?h:n),l.addEventListener("touchover",this.onTouchOver,this.capture?h:n),l.addEventListener("touchout",this.onTouchOut,this.capture?h:n),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,h),window.addEventListener("touchend",this.onTouchEndWindow,h),window.addEventListener("touchcancel",this.onTouchCancelWindow,h)),this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("touchstart",this.onTouchStart),s.removeEventListener("touchmove",this.onTouchMove),s.removeEventListener("touchend",this.onTouchEnd),s.removeEventListener("touchcancel",this.onTouchCancel),s.removeEventListener("touchover",this.onTouchOver),s.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(22),o=t(9),a=t(8),s=t(16),i=t(5),r=t(2),l=t(24),n=t(93),h=new e({Extends:o,initialize:function(v){o.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted?this.boot():v.events.once(d.BOOT,this.boot,this)},boot:function(){var u,v,f,c,g,m,x,y=this.game.config,T=y.installGlobalPlugins;for(T=T.concat(this._pendingGlobal),u=0;u<T.length;u++)v=T[u],f=r(v,"key",null),c=r(v,"plugin",null),g=r(v,"start",!1),m=r(v,"mapping",null),x=r(v,"data",null),f&&(c?this.install(f,c,g,m,x):console.warn("Missing `plugin` for key: "+f));for(T=y.installScenePlugins,T=T.concat(this._pendingScene),u=0;u<T.length;u++)v=T[u],f=r(v,"key",null),c=r(v,"plugin",null),m=r(v,"mapping",null),f&&(c?this.installScenePlugin(f,c,m):console.warn("Missing `plugin` for key: "+f));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(d.DESTROY,this.destroy,this)},addToScene:function(u,v,f){var c,g,m,x=this.game,y=u.scene,T=u.settings.map,E=u.settings.isBooted;for(c=0;c<v.length;c++)g=v[c],x[g]?(u[g]=x[g],T.hasOwnProperty(g)&&(y[T[g]]=u[g])):g==="game"&&T.hasOwnProperty(g)&&(y[T[g]]=x);for(var R=0;R<f.length;R++)for(m=f[R],c=0;c<m.length;c++)if(g=m[c],!!l.hasCore(g)){var M=l.getCore(g),P=M.mapping,O=new M.plugin(y,this,P);u[P]=O,M.custom?y[P]=O:T.hasOwnProperty(P)&&(y[T[P]]=O),E&&O.boot()}for(m=this.plugins,c=0;c<m.length;c++){var I=m[c];I.mapping&&(y[I.mapping]=I.plugin)}},getDefaultScenePlugins:function(){var u=this.game.config.defaultPlugins;return u=u.concat(this.scenePlugins),u},installScenePlugin:function(u,v,f,c,g){if(g===void 0&&(g=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+u);return}if(!l.hasCore(u))l.register(u,v,f,!0),this.scenePlugins.push(u);else if(!g&&l.hasCore(u)){console.warn("Scene Plugin key in use: "+u);return}if(c){var m=new v(c,this,u);c.sys[u]=m,f&&f!==""&&(c[f]=m),m.boot()}},install:function(u,v,f,c,g){if(f===void 0&&(f=!1),c===void 0&&(c=null),g===void 0&&(g=null),typeof v!="function")return console.warn("Invalid Plugin: "+u),null;if(l.hasCustom(u))return console.warn("Plugin key in use: "+u),null;if(c!==null&&(f=!0),!this.game.isBooted)this._pendingGlobal.push({key:u,plugin:v,start:f,mapping:c,data:g});else if(l.registerCustom(u,v,c,g),f)return this.start(u);return null},getIndex:function(u){for(var v=this.plugins,f=0;f<v.length;f++){var c=v[f];if(c.key===u)return f}return-1},getEntry:function(u){var v=this.getIndex(u);if(v!==-1)return this.plugins[v]},isActive:function(u){var v=this.getEntry(u);return v&&v.active},start:function(u,v){v===void 0&&(v=u);var f=this.getEntry(v);return f&&!f.active?(f.active=!0,f.plugin.start()):f||(f=this.createEntry(u,v)),f?f.plugin:null},createEntry:function(u,v){var f=l.getCustom(u);if(f){var c=new f.plugin(this);f={key:v,plugin:c,active:!0,mapping:f.mapping,data:f.data},this.plugins.push(f),c.init(f.data),c.start()}return f},stop:function(u){var v=this.getEntry(u);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(u,v){v===void 0&&(v=!0);var f=this.getEntry(u);if(f)return f.plugin;var c=this.getClass(u);return c&&v?(f=this.createEntry(u,u),f?f.plugin:null):c||null},getClass:function(u){return l.getCustomClass(u)},removeGlobalPlugin:function(u){var v=this.getEntry(u);v&&n(this.plugins,v),l.removeCustom(u)},removeScenePlugin:function(u){n(this.scenePlugins,u),l.remove(u)},registerGameObject:function(u,v,f){return v&&i.register(u,v),f&&s.register(u,f),this},removeGameObject:function(u,v,f){return v===void 0&&(v=!0),f===void 0&&(f=!0),v&&i.remove(u),f&&s.remove(u),this},registerFileType:function(u,v,f){a.register(u,v),f&&f.sys.load&&(f.sys.load[u]=v)},destroy:function(){for(var u=0;u<this.plugins.length;u++)this.plugins[u].plugin.destroy();l.destroyCustomPlugins(),this.game.noReturn&&l.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});p.exports=h},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),d=t(0),o=t(9),a=t(104),s=t(22),i=t(401),r=t(407),l=t(402),n=t(1),h=t(10),u=t(416),v=t(76),f=t(3),c=new d({Extends:o,initialize:function(m){o.call(this),this.game=m,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new u,this.gameSize=new u,this.baseSize=new u,this.displaySize=new u,this.scaleMode=e.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new f(1,1),this.autoRound=!1,this.autoCenter=e.CENTER.NO_CENTER,this.orientation=e.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:n,windowResize:n,fullScreenChange:n,fullScreenError:n}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(s.BOOT,this.boot,this)},boot:function(){var g=this.game;this.canvas=g.canvas,this.fullscreen=g.device.fullscreen,this.scaleMode!==e.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===e.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),g.events.on(s.PRE_STEP,this.step,this),g.events.once(s.READY,this.refresh,this),g.events.once(s.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(g){this.getParent(g),this.getParentBounds();var m=g.width,x=g.height,y=g.scaleMode,T=g.zoom,E=g.autoRound;if(typeof m=="string"){var R=this.parentSize.width;R===0&&(R=window.innerWidth);var M=parseInt(m,10)/100;m=Math.floor(R*M)}if(typeof x=="string"){var P=this.parentSize.height;P===0&&(P=window.innerHeight);var O=parseInt(x,10)/100;x=Math.floor(P*O)}this.scaleMode=y,this.autoRound=E,this.autoCenter=g.autoCenter,this.resizeInterval=g.resizeInterval,E&&(m=Math.floor(m),x=Math.floor(x)),this.gameSize.setSize(m,x),T===e.ZOOM.MAX_ZOOM&&(T=this.getMaxZoom()),this.zoom=T,T!==1&&(this._resetZoom=!0),this.baseSize.setSize(m,x),E&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),g.minWidth>0&&this.displaySize.setMin(g.minWidth*T,g.minHeight*T),g.maxWidth>0&&this.displaySize.setMax(g.maxWidth*T,g.maxHeight*T),this.displaySize.setSize(m,x),this.orientation=l(m,x)},getParent:function(g){var m=g.parent;if(m!==null){if(this.parent=r(m),this.parentIsWindow=this.parent===document.body,g.expandParent&&g.scaleMode!==e.SCALE_MODE.NONE){var x=this.parent.getBoundingClientRect();(this.parentIsWindow||x.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",x=this.parent.getBoundingClientRect(),!this.parentIsWindow&&x.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}g.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(g.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var g=this.parentSize,m=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(m.height=i(!0));var x=m.width,y=m.height;return g.width!==x||g.height!==y?(g.setSize(x,y),!0):!1},lockOrientation:function(g){var m=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return m?m.call(screen,g):!1},setParentSize:function(g,m){return this.parentSize.setSize(g,m),this.refresh()},setGameSize:function(g,m){var x=this.autoRound;x&&(g=Math.floor(g),m=Math.floor(m));var y=this.width,T=this.height;return this.gameSize.resize(g,m),this.baseSize.resize(g,m),x&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(g/m),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(y,T)},resize:function(g,m){var x=this.zoom,y=this.autoRound;y&&(g=Math.floor(g),m=Math.floor(m));var T=this.width,E=this.height;this.gameSize.resize(g,m),this.baseSize.resize(g,m),y&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(g*x,m*x),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var R=this.canvas.style,M=g*x,P=m*x;return y&&(M=Math.floor(M),P=Math.floor(P)),(M!==g||P!==m)&&(R.width=M+"px",R.height=P+"px"),this.refresh(T,E)},setZoom:function(g){return this.zoom=g,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(g,m){g===void 0&&(g=this.width),m===void 0&&(m=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var x=this.game.domContainer;if(x){this.baseSize.setCSS(x);var y=this.canvas.style,T=x.style;T.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",T.marginLeft=y.marginLeft,T.marginTop=y.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,g,m),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var g=l(this.width,this.height);g!==this.orientation&&(this.orientation=g,this.emit(a.ORIENTATION_CHANGE,g))}},updateScale:function(){var g=this.canvas.style,m=this.gameSize.width,x=this.gameSize.height,y,T,E=this.zoom,R=this.autoRound;this.scaleMode===e.SCALE_MODE.NONE?(this.displaySize.setSize(m*E,x*E),y=this.displaySize.width,T=this.displaySize.height,R&&(y=Math.floor(y),T=Math.floor(T)),this._resetZoom&&(g.width=y+"px",g.height=T+"px",this._resetZoom=!1)):this.scaleMode===e.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),y=this.displaySize.width,T=this.displaySize.height,R&&(y=Math.floor(y),T=Math.floor(T)),this.canvas.width=y,this.canvas.height=T):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),y=this.displaySize.width,T=this.displaySize.height,R&&(y=Math.floor(y),T=Math.floor(T)),g.width=y+"px",g.height=T+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var g=v(this.parentSize.width,this.gameSize.width,0,!0),m=v(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(g,m),1)},updateCenter:function(){var g=this.autoCenter;if(g!==e.CENTER.NO_CENTER){var m=this.canvas,x=m.style,y=m.getBoundingClientRect(),T=y.width,E=y.height,R=Math.floor((this.parentSize.width-T)/2),M=Math.floor((this.parentSize.height-E)/2);g===e.CENTER.CENTER_HORIZONTALLY?M=0:g===e.CENTER.CENTER_VERTICALLY&&(R=0),x.marginLeft=R+"px",x.marginTop=M+"px"}},updateBounds:function(){var g=this.canvasBounds,m=this.canvas.getBoundingClientRect();g.x=m.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),g.y=m.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),g.width=m.width,g.height=m.height},transformX:function(g){return(g-this.canvasBounds.left)*this.displayScale.x},transformY:function(g){return(g-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(g){g===void 0&&(g={navigationUI:"hide"});var m=this.fullscreen;if(!m.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!m.active){var x=this.getFullscreenTarget();m.keyboard?x[m.request](Element.ALLOW_KEYBOARD_INPUT):x[m.request](g)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(g){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,g)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var g=document.createElement("div");g.style.margin="0",g.style.padding="0",g.style.width="100%",g.style.height="100%",this.fullscreenTarget=g,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var m=this.canvas.parentNode;m.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var g=this.fullscreenTarget;if(g&&g.parentNode){var m=g.parentNode;m.insertBefore(this.canvas,g),m.removeChild(g)}}},stopFullscreen:function(){var g=this.fullscreen;if(!g.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;g.active&&document[g.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(g){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(g)},startListeners:function(){var g=this,m=this.listeners;if(m.orientationChange=function(){g.updateBounds(),g._checkOrientation=!0,g.dirty=!0},m.windowResize=function(){g.updateBounds(),g.dirty=!0},window.addEventListener("orientationchange",m.orientationChange,!1),window.addEventListener("resize",m.windowResize,!1),this.fullscreen.available){m.fullScreenChange=function(y){return g.onFullScreenChange(y)},m.fullScreenError=function(y){return g.onFullScreenError(y)};var x=["webkit","moz",""];x.forEach(function(y){document.addEventListener(y+"fullscreenchange",m.fullScreenChange,!1),document.addEventListener(y+"fullscreenerror",m.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",m.fullScreenChange,!1),document.addEventListener("MSFullscreenError",m.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(g,m){!this.parent||(this._lastCheck+=m,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var g=this.listeners;window.removeEventListener("orientationchange",g.orientationChange,!1),window.removeEventListener("resize",g.windowResize,!1);var m=["webkit","moz",""];m.forEach(function(x){document.removeEventListener(x+"fullscreenchange",g.fullScreenChange,!1),document.removeEventListener(x+"fullscreenerror",g.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",g.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",g.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===e.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===e.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});p.exports=c},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=t(0),o=t(76),a=t(3),s=new d({initialize:function(r,l,n,h){r===void 0&&(r=0),l===void 0&&(l=r),n===void 0&&(n=0),h===void 0&&(h=null),this._width=r,this._height=l,this._parent=h,this.aspectMode=n,this.aspectRatio=l===0?1:r/l,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(i){return i===void 0&&(i=0),this.aspectMode=i,this.setSize(this._width,this._height)},setSnap:function(i,r){return i===void 0&&(i=0),r===void 0&&(r=i),this.snapTo.set(i,r),this.setSize(this._width,this._height)},setParent:function(i){return this._parent=i,this.setSize(this._width,this._height)},setMin:function(i,r){return i===void 0&&(i=0),r===void 0&&(r=i),this.minWidth=e(i,0,this.maxWidth),this.minHeight=e(r,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,r){return i===void 0&&(i=Number.MAX_VALUE),r===void 0&&(r=i),this.maxWidth=e(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=e(r,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(i,r){switch(i===void 0&&(i=0),r===void 0&&(r=i),this.aspectMode){case s.NONE:this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(o(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case s.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case s.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(o(r,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case s.FIT:this.constrain(i,r,!0);break;case s.ENVELOP:this.constrain(i,r,!1);break}return this},setAspectRatio:function(i){return this.aspectRatio=i,this.setSize(this._width,this._height)},resize:function(i,r){return this._width=this.getNewWidth(o(i,this.snapTo.x)),this._height=this.getNewHeight(o(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(i,r){return r===void 0&&(r=!0),i=e(i,this.minWidth,this.maxWidth),r&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,r){return r===void 0&&(r=!0),i=e(i,this.minHeight,this.maxHeight),r&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(i,r,l){i===void 0&&(i=0),r===void 0&&(r=i),l===void 0&&(l=!0),i=this.getNewWidth(i),r=this.getNewHeight(r);var n=this.snapTo,h=r===0?1:i/r;return l&&this.aspectRatio>h||!l&&this.aspectRatio<h?(i=o(i,n.x),r=i/this.aspectRatio,n.y>0&&(r=o(r,n.y),i=r*this.aspectRatio)):(l&&this.aspectRatio<h||!l&&this.aspectRatio>h)&&(r=o(r,n.y),i=r*this.aspectRatio,n.x>0&&(i=o(i,n.x),r=i*(1/this.aspectRatio))),this._width=i,this._height=r,this},fitTo:function(i,r){return this.constrain(i,r,!0)},envelop:function(i,r){return this.constrain(i,r,!1)},setWidth:function(i){return this.setSize(i,this._height)},setHeight:function(i){return this.setSize(this._width,i)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(i){i&&i.style&&(i.style.width=this._width+"px",i.style.height=this._height+"px")},copy:function(i){return i.setAspectMode(this.aspectMode),i.aspectRatio=this.aspectRatio,i.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(i){this.setSize(i,this._height)}},height:{get:function(){return this._height},set:function(i){this.setSize(this._width,i)}}});s.NONE=0,s.WIDTH_CONTROLS_HEIGHT=1,s.HEIGHT_CONTROLS_WIDTH=2,s.FIT=3,s.ENVELOP=4,p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(144),o=t(20),a=t(22),s=t(6),i=t(95),r=t(1),l=t(418),n=t(204),h=new e({initialize:function(v,f){if(this.game=v,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++)this._pending.push({key:"default",scene:f[c],autoStart:c===0,data:{}})}v.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var u,v,f,c;for(u=0;u<this._pending.length;u++){v=this._pending[u],f=v.key,c=v.scene;var g;c instanceof l?g=this.createSceneFromInstance(f,c):typeof c=="object"?g=this.createSceneFromObject(f,c):typeof c=="function"&&(g=this.createSceneFromFunction(f,c)),f=g.sys.settings.key,this.keys[f]=g,this.scenes.push(g),this._data[f]&&(g.sys.settings.data=this._data[f].data,this._data[f].autoStart&&(v.autoStart=!0)),(v.autoStart||g.sys.settings.active)&&this._start.push(f)}for(this._pending.length=0,this._data={},this.isBooted=!0,u=0;u<this._start.length;u++)v=this._start[u],this.start(v);this._start.length=0}},processQueue:function(){var u=this._pending.length,v=this._queue.length;if(!(u===0&&v===0)){var f,c;if(u){for(f=0;f<u;f++)c=this._pending[f],this.add(c.key,c.scene,c.autoStart,c.data);for(f=0;f<this._start.length;f++)c=this._start[f],this.start(c);this._start.length=0,this._pending.length=0;return}for(f=0;f<this._queue.length;f++)c=this._queue[f],this[c.op](c.keyA,c.keyB);this._queue.length=0}},add:function(u,v,f,c){if(f===void 0&&(f=!1),c===void 0&&(c={}),this.isProcessing||!this.isBooted)return this._pending.push({key:u,scene:v,autoStart:f,data:c}),this.isBooted||(this._data[u]={data:c}),null;u=this.getKey(u,v);var g;return v instanceof l?g=this.createSceneFromInstance(u,v):typeof v=="object"?(v.key=u,g=this.createSceneFromObject(u,v)):typeof v=="function"&&(g=this.createSceneFromFunction(u,v)),g.sys.settings.data=c,u=g.sys.settings.key,this.keys[u]=g,this.scenes.push(g),(f||g.sys.settings.active)&&(this._pending.length?this._start.push(u):this.start(u)),g},remove:function(u){if(this.isProcessing)this._queue.push({op:"remove",keyA:u,keyB:null});else{var v=this.getScene(u);if(!v||v.sys.isTransitioning())return this;var f=this.scenes.indexOf(v),c=v.sys.settings.key;f>-1&&(delete this.keys[c],this.scenes.splice(f,1),this._start.indexOf(c)>-1&&(f=this._start.indexOf(c),this._start.splice(f,1)),v.sys.destroy())}return this},bootScene:function(u){var v=u.sys,f=v.settings;v.sceneUpdate=r,u.init&&(u.init.call(u,f.data),f.status=d.INIT,f.isTransition&&v.events.emit(o.TRANSITION_INIT,f.transitionFrom,f.transitionDuration));var c;v.load&&(c=v.load,c.reset()),c&&u.preload?(u.preload.call(u),c.list.size===0?this.create(u):(f.status=d.LOADING,c.once(i.COMPLETE,this.loadComplete,this),c.start())):this.create(u)},loadComplete:function(u){this.create(u.scene)},payloadComplete:function(u){this.bootScene(u.scene)},update:function(u,v){this.processQueue(),this.isProcessing=!0;for(var f=this.scenes.length-1;f>=0;f--){var c=this.scenes[f].sys;c.settings.status>d.START&&c.settings.status<=d.RUNNING&&c.step(u,v)}},render:function(u){for(var v=0;v<this.scenes.length;v++){var f=this.scenes[v].sys;f.settings.visible&&f.settings.status>=d.LOADING&&f.settings.status<d.SLEEPING&&f.render(u)}this.isProcessing=!1},create:function(u){var v=u.sys,f=v.settings;u.create&&(f.status=d.CREATING,u.create.call(u,f.data),f.status===d.DESTROYED)||(f.isTransition&&v.events.emit(o.TRANSITION_START,f.transitionFrom,f.transitionDuration),u.update&&(v.sceneUpdate=u.update),f.status=d.RUNNING,v.events.emit(o.CREATE,u))},createSceneFromFunction:function(u,v){var f=new v;if(f instanceof l){var c=f.sys.settings.key;if(c!==""&&(u=c),this.keys.hasOwnProperty(u))throw new Error("Cannot add a Scene with duplicate key: "+u);return this.createSceneFromInstance(u,f)}else return f.sys=new n(f),f.sys.settings.key=u,f.sys.init(this.game),f},createSceneFromInstance:function(u,v){var f=v.sys.settings.key;return f===""&&(v.sys.settings.key=u),v.sys.init(this.game),v},createSceneFromObject:function(u,v){var f=new l(v),c=f.sys.settings.key;c!==""?u=c:f.sys.settings.key=u,f.sys.init(this.game);for(var g=["init","preload","create","update","render"],m=0;m<g.length;m++){var x=s(v,g[m],null);x&&(f[g[m]]=x)}if(v.hasOwnProperty("extend")){for(var y in v.extend)if(!!v.extend.hasOwnProperty(y)){var T=v.extend[y];y==="data"&&f.hasOwnProperty("data")&&typeof T=="object"?f.data.merge(T):y!=="sys"&&(f[y]=T)}}return f},getKey:function(u,v){if(u||(u="default"),typeof v=="function")return u;if(v instanceof l?u=v.sys.settings.key:typeof v=="object"&&v.hasOwnProperty("key")&&(u=v.key),this.keys.hasOwnProperty(u))throw new Error("Cannot add a Scene with duplicate key: "+u);return u},getScenes:function(u,v){u===void 0&&(u=!0),v===void 0&&(v=!1);for(var f=[],c=this.scenes,g=0;g<c.length;g++){var m=c[g];m&&(!u||u&&m.sys.isActive())&&f.push(m)}return v?f.reverse():f},getScene:function(u){if(typeof u=="string"){if(this.keys[u])return this.keys[u]}else for(var v=0;v<this.scenes.length;v++)if(u===this.scenes[v])return u;return null},isActive:function(u){var v=this.getScene(u);return v?v.sys.isActive():null},isPaused:function(u){var v=this.getScene(u);return v?v.sys.isPaused():null},isVisible:function(u){var v=this.getScene(u);return v?v.sys.isVisible():null},isSleeping:function(u){var v=this.getScene(u);return v?v.sys.isSleeping():null},pause:function(u,v){var f=this.getScene(u);return f&&f.sys.pause(v),this},resume:function(u,v){var f=this.getScene(u);return f&&f.sys.resume(v),this},sleep:function(u,v){var f=this.getScene(u);return f&&!f.sys.isTransitioning()&&f.sys.sleep(v),this},wake:function(u,v){var f=this.getScene(u);return f&&f.sys.wake(v),this},run:function(u,v){var f=this.getScene(u);if(!f){for(var c=0;c<this._pending.length;c++)if(this._pending[c].key===u){this.queueOp("start",u,v);break}return this}f.sys.isSleeping()?f.sys.wake(v):f.sys.isPaused()?f.sys.resume(v):this.start(u,v)},start:function(u,v){if(!this.isBooted)return this._data[u]={autoStart:!0,data:v},this;var f=this.getScene(u);if(f){var c=f.sys;if(c.isActive()||c.isPaused())c.shutdown(),c.sceneUpdate=r,c.start(v);else{c.sceneUpdate=r,c.start(v);var g;if(c.load&&(g=c.load),g&&c.settings.hasOwnProperty("pack")&&(g.reset(),g.addPack({payload:c.settings.pack})))return c.settings.status=d.LOADING,g.once(i.COMPLETE,this.payloadComplete,this),g.start(),this}this.bootScene(f)}return this},stop:function(u,v){var f=this.getScene(u);return f&&!f.sys.isTransitioning()&&f.sys.shutdown(v),this},switch:function(u,v){var f=this.getScene(u),c=this.getScene(v);return f&&c&&f!==c&&(this.sleep(u),this.isSleeping(v)?this.wake(v):this.start(v)),this},getAt:function(u){return this.scenes[u]},getIndex:function(u){var v=this.getScene(u);return this.scenes.indexOf(v)},bringToTop:function(u){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:u,keyB:null});else{var v=this.getIndex(u);if(v!==-1&&v<this.scenes.length){var f=this.getScene(u);this.scenes.splice(v,1),this.scenes.push(f)}}return this},sendToBack:function(u){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:u,keyB:null});else{var v=this.getIndex(u);if(v!==-1&&v>0){var f=this.getScene(u);this.scenes.splice(v,1),this.scenes.unshift(f)}}return this},moveDown:function(u){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:u,keyB:null});else{var v=this.getIndex(u);if(v>0){var f=v-1,c=this.getScene(u),g=this.getAt(f);this.scenes[v]=g,this.scenes[f]=c}}return this},moveUp:function(u){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:u,keyB:null});else{var v=this.getIndex(u);if(v<this.scenes.length-1){var f=v+1,c=this.getScene(u),g=this.getAt(f);this.scenes[v]=g,this.scenes[f]=c}}return this},moveAbove:function(u,v){if(u===v)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:u,keyB:v});else{var f=this.getIndex(u),c=this.getIndex(v);if(f!==-1&&c!==-1){var g=this.getAt(c);this.scenes.splice(c,1),this.scenes.splice(f+1,0,g)}}return this},moveBelow:function(u,v){if(u===v)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:u,keyB:v});else{var f=this.getIndex(u),c=this.getIndex(v);if(f!==-1&&c!==-1){var g=this.getAt(c);this.scenes.splice(c,1),f===0?this.scenes.unshift(g):this.scenes.splice(f,0,g)}}return this},queueOp:function(u,v,f){return this._queue.push({op:u,keyA:v,keyB:f}),this},swapPosition:function(u,v){if(u===v)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:u,keyB:v});else{var f=this.getIndex(u),c=this.getIndex(v);if(f!==c&&f!==-1&&c!==-1){var g=this.getAt(f);this.scenes[f]=this.scenes[c],this.scenes[c]=g}}return this},dump:function(){for(var u=[],v=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],f=0;f<this.scenes.length;f++){var c=this.scenes[f].sys,g=c.settings.visible&&(c.settings.status===d.RUNNING||c.settings.status===d.PAUSED)?"[*] ":"[-] ";g+=c.settings.key+" ("+v[c.settings.status]+")",u.push(g)}console.log(u.join(`
`))},destroy:function(){for(var u=0;u<this.scenes.length;u++){var v=this.scenes[u].sys;v.destroy()}this.update=r,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});p.exports=h},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(204),o=new e({initialize:function(s){this.sys=new d(this,s),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),d=t(205),o=function(a){var s=a.game.config.defaultPhysicsSystem,i=e(a.settings,"physics",!1);if(!(!s&&!i)){var r=[];if(s&&r.push(d(s+"Physics")),i)for(var l in i)l=d(l.concat("Physics")),r.indexOf(l)===-1&&r.push(l);return r}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),d=function(o){var a=o.plugins.getDefaultScenePlugins(),s=e(o.settings,"plugins",!1);return Array.isArray(s)?s:a||[]};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),d=t(6),o=t(127),a=t(978),s={create:function(i){return typeof i=="string"?i={key:i}:i===void 0&&(i={}),{status:e.PENDING,key:d(i,"key",""),active:d(i,"active",!1),visible:d(i,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:d(i,"pack",!1),cameras:d(i,"cameras",null),map:d(i,"map",o(a,d(i,"mapAdd",{}))),physics:d(i,"physics",{}),loader:d(i,"loader",{}),plugins:d(i,"plugins",!1),input:d(i,"input",{})}}};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),d=t(423),o=t(0),a=t(38),s=t(33),i=t(9),r=t(106),l=t(22),n=t(388),h=t(6),u=t(425),v=t(206),f=new o({Extends:i,initialize:function(g){i.call(this),this.game=g,this.name="TextureManager",this.list={},this._tempCanvas=e.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,g.events.once(l.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(r.LOAD,this.updatePending,this),this.on(r.ERROR,this.updatePending,this);var c=this.game.config;this.addBase64("__DEFAULT",c.defaultImage),this.addBase64("__MISSING",c.missingImage),this.addBase64("__WHITE",c.whiteImage),this.game.events.once(l.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(r.LOAD),this.off(r.ERROR),this.emit(r.READY))},checkKey:function(c){return this.exists(c)?(console.error("Texture key already in use: "+c),!1):!0},remove:function(c){if(typeof c=="string")if(this.exists(c))c=this.get(c);else return console.warn("No texture found matching key: "+c),this;return this.list.hasOwnProperty(c.key)&&(c.destroy(),this.emit(r.REMOVE,c.key)),this},removeKey:function(c){return this.list.hasOwnProperty(c)&&delete this.list[c],this},addBase64:function(c,g){if(this.checkKey(c)){var m=this,x=new Image;x.onerror=function(){m.emit(r.ERROR,c)},x.onload=function(){var y=m.create(c,x);u.Image(y,0),m.emit(r.ADD,c,y),m.emit(r.LOAD,c,y)},x.src=g}return this},getBase64:function(c,g,m,x){m===void 0&&(m="image/png"),x===void 0&&(x=.92);var y="",T=this.getFrame(c,g);if(T&&(T.source.isRenderTexture||T.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(T){var E=T.canvasData,R=e.create2D(this,E.width,E.height),M=R.getContext("2d");M.drawImage(T.source.image,E.x,E.y,E.width,E.height,0,0,E.width,E.height),y=R.toDataURL(m,x),e.remove(R)}return y},addImage:function(c,g,m){var x=null;return this.checkKey(c)&&(x=this.create(c,g),u.Image(x,0),m&&x.setDataSource(m),this.emit(r.ADD,c,x)),x},addGLTexture:function(c,g,m,x){var y=null;return this.checkKey(c)&&(m===void 0&&(m=g.width),x===void 0&&(x=g.height),y=this.create(c,g,m,x),y.add("__BASE",0,0,0,m,x),this.emit(r.ADD,c,y)),y},addRenderTexture:function(c,g){var m=null;return this.checkKey(c)&&(m=this.create(c,g),m.add("__BASE",0,0,0,g.width,g.height),this.emit(r.ADD,c,m)),m},generate:function(c,g){if(this.checkKey(c)){var m=e.create(this,1,1);return g.canvas=m,n(g),this.addCanvas(c,m)}else return null},createCanvas:function(c,g,m){if(g===void 0&&(g=256),m===void 0&&(m=256),this.checkKey(c)){var x=e.create(this,g,m,s.CANVAS,!0);return this.addCanvas(c,x)}return null},addCanvas:function(c,g,m){m===void 0&&(m=!1);var x=null;return m?x=new d(this,c,g,g.width,g.height):this.checkKey(c)&&(x=new d(this,c,g,g.width,g.height),this.list[c]=x,this.emit(r.ADD,c,x)),x},addAtlas:function(c,g,m,x){return Array.isArray(m.textures)||Array.isArray(m.frames)?this.addAtlasJSONArray(c,g,m,x):this.addAtlasJSONHash(c,g,m,x)},addAtlasJSONArray:function(c,g,m,x){var y=null;if(this.checkKey(c)){if(y=this.create(c,g),Array.isArray(m))for(var T=m.length===1,E=0;E<y.source.length;E++){var R=T?m[0]:m[E];u.JSONArray(y,E,R)}else u.JSONArray(y,0,m);x&&y.setDataSource(x),this.emit(r.ADD,c,y)}return y},addAtlasJSONHash:function(c,g,m,x){var y=null;if(this.checkKey(c)){if(y=this.create(c,g),Array.isArray(m))for(var T=0;T<m.length;T++)u.JSONHash(y,T,m[T]);else u.JSONHash(y,0,m);x&&y.setDataSource(x),this.emit(r.ADD,c,y)}return y},addAtlasXML:function(c,g,m,x){var y=null;return this.checkKey(c)&&(y=this.create(c,g),u.AtlasXML(y,0,m),x&&y.setDataSource(x),this.emit(r.ADD,c,y)),y},addUnityAtlas:function(c,g,m,x){var y=null;return this.checkKey(c)&&(y=this.create(c,g),u.UnityYAML(y,0,m),x&&y.setDataSource(x),this.emit(r.ADD,c,y)),y},addSpriteSheet:function(c,g,m){var x=null;if(this.checkKey(c)){x=this.create(c,g);var y=x.source[0].width,T=x.source[0].height;u.SpriteSheet(x,0,0,0,y,T,m),this.emit(r.ADD,c,x)}return x},addSpriteSheetFromAtlas:function(c,g){if(!this.checkKey(c))return null;var m=h(g,"atlas",null),x=h(g,"frame",null);if(!(!m||!x)){var y=this.get(m),T=y.get(x);if(T){var E=this.create(c,T.source.image);return T.trimmed?u.SpriteSheetFromAtlas(E,T,g):u.SpriteSheet(E,0,T.cutX,T.cutY,T.cutWidth,T.cutHeight,g),this.emit(r.ADD,c,E),E}}},create:function(c,g,m,x){var y=null;return this.checkKey(c)&&(y=new v(this,c,g,m,x),this.list[c]=y),y},exists:function(c){return this.list.hasOwnProperty(c)},get:function(c){return c===void 0&&(c="__DEFAULT"),this.list[c]?this.list[c]:c instanceof v?c:this.list.__MISSING},cloneFrame:function(c,g){if(this.list[c])return this.list[c].get(g).clone()},getFrame:function(c,g){if(this.list[c])return this.list[c].get(g)},getTextureKeys:function(){var c=[];for(var g in this.list)g!=="__DEFAULT"&&g!=="__MISSING"&&c.push(g);return c},getPixel:function(c,g,m,x){var y=this.getFrame(m,x);if(y){c-=y.x,g-=y.y;var T=y.data.cut;if(c+=T.x,g+=T.y,c>=T.x&&c<T.r&&g>=T.y&&g<T.b){var E=this._tempContext;E.clearRect(0,0,1,1),E.drawImage(y.source.image,c,g,1,1,0,0,1,1);var R=E.getImageData(0,0,1,1);return new a(R.data[0],R.data[1],R.data[2],R.data[3])}}return null},getPixelAlpha:function(c,g,m,x){var y=this.getFrame(m,x);if(y){c-=y.x,g-=y.y;var T=y.data.cut;if(c+=T.x,g+=T.y,c>=T.x&&c<T.r&&g>=T.y&&g<T.b){var E=this._tempContext;E.clearRect(0,0,1,1),E.drawImage(y.source.image,c,g,1,1,0,0,1,1);var R=E.getImageData(0,0,1,1);return R.data[3]}}return null},setTexture:function(c,g,m){return this.list[g]&&(c.texture=this.list[g],c.frame=c.texture.get(m)),c},renameTexture:function(c,g){var m=this.get(c);return m&&c!==g?(m.key=g,this.list[g]=m,delete this.list[c],!0):!1},each:function(c,g){for(var m=[null],x=1;x<arguments.length;x++)m.push(arguments[x]);for(var y in this.list)m[0]=this.list[y],c.apply(g,m)},destroy:function(){for(var c in this.list)this.list[c].destroy();this.list={},this.game=null,e.remove(this._tempCanvas)}});p.exports=f},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(18),o=t(38),a=t(33),s=t(138),i=t(206),r=new e({Extends:i,initialize:function(n,h,u,v,f){i.call(this,n,h,u,v,f),this.add("__BASE",0,0,0,v,f),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=v,this.height=f,this.imageData=this.context.getImageData(0,0,v,f),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(l,n,h){return this.context.drawImage(h,l,n),this.update()},drawFrame:function(l,n,h,u){h===void 0&&(h=0),u===void 0&&(u=0);var v=this.manager.getFrame(l,n);if(v){var f=v.canvasData,c=v.cutWidth,g=v.cutHeight,m=v.source.resolution;return this.context.drawImage(v.source.image,f.x,f.y,c,g,h,u,c/m,g/m),this.update()}else return this},setPixel:function(l,n,h,u,v,f){f===void 0&&(f=255),l=Math.abs(Math.floor(l)),n=Math.abs(Math.floor(n));var c=this.getIndex(l,n);if(c>-1){var g=this.context.getImageData(l,n,1,1);g.data[0]=h,g.data[1]=u,g.data[2]=v,g.data[3]=f,this.context.putImageData(g,l,n)}return this},putData:function(l,n,h,u,v,f,c){return u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=l.width),c===void 0&&(c=l.height),this.context.putImageData(l,n,h,u,v,f,c),this},getData:function(l,n,h,u){l=d(Math.floor(l),0,this.width-1),n=d(Math.floor(n),0,this.height-1),h=d(h,1,this.width-l),u=d(u,1,this.height-n);var v=this.context.getImageData(l,n,h,u);return v},getPixel:function(l,n,h){h||(h=new o);var u=this.getIndex(l,n);if(u>-1){var v=this.data,f=v[u+0],c=v[u+1],g=v[u+2],m=v[u+3];h.setTo(f,c,g,m)}return h},getPixels:function(l,n,h,u){l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h=this.width),u===void 0&&(u=h),l=Math.abs(Math.round(l)),n=Math.abs(Math.round(n));for(var v=d(l,0,this.width),f=d(l+h,0,this.width),c=d(n,0,this.height),g=d(n+u,0,this.height),m=new o,x=[],y=c;y<g;y++){for(var T=[],E=v;E<f;E++)m=this.getPixel(E,y,m),T.push({x:E,y,color:m.color,alpha:m.alphaGL});x.push(T)}return x},getIndex:function(l,n){return l=Math.abs(Math.round(l)),n=Math.abs(Math.round(n)),l<this.width&&n<this.height?(l+n*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(l,n,h,u){return l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h=this.width),u===void 0&&(u=this.height),this.context.clearRect(l,n,h,u),this.update()},setSize:function(l,n){return n===void 0&&(n=l),(l!==this.width||n!==this.height)&&(this.canvas.width=l,this.canvas.height=n,this._source.width=l,this._source.height=n,this._source.isPowerOf2=s(l,n),this.frames.__BASE.setSize(l,n,0,0),this.width=l,this.height=n,this.refresh()),this},destroy:function(){i.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),d=t(0),o=t(138),a=t(168),s=new d({initialize:function(r,l,n,h,u){u===void 0&&(u=!1);var v=r.manager.game;this.renderer=v.renderer,this.texture=r,this.source=l,this.image=l,this.compressionAlgorithm=null,this.resolution=1,this.width=n||l.naturalWidth||l.videoWidth||l.width||0,this.height=h||l.naturalHeight||l.videoHeight||l.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=l instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&l instanceof HTMLVideoElement,this.isRenderTexture=l.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&l instanceof WebGLTexture,this.isPowerOf2=o(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=u,this.init(v)},init:function(i){var r=this.renderer;r&&(r.gl?this.isCanvas?this.glTexture=r.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=r.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=r.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=r.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),i.config.antialias||this.setFilter(1)},setFilter:function(i){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,i),this.scaleMode=i},setFlipY:function(i){return i===void 0&&(i=!0),this.flipY=i,this},update:function(){var i=this.renderer.gl;i&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):i&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&e.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AtlasXML:t(979),Canvas:t(980),Image:t(981),JSONArray:t(982),JSONHash:t(983),SpriteSheet:t(984),SpriteSheetFromAtlas:t(985),UnityYAML:t(986)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(427),d=t(430),o=t(432),a={create:function(s){var i=s.config.audio,r=s.device.audio;return i.noAudio||!r.webAudio&&!r.audioData?new d(s):r.webAudio&&!i.disableWebAudio?new o(s):new e(s)}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),d=t(0),o=t(70),a=t(429),s=new d({Extends:e,initialize:function(r){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,e.call(this,r)},add:function(i,r){var l=new a(this,i,r);return this.sounds.push(l),l},unlock:function(){this.locked=!1;var i=this;if(this.game.cache.audio.entries.each(function(h,u){for(var v=0;v<u.length;v++)if(u[v].dataset.locked==="true")return i.locked=!0,!1;return!0}),!!this.locked){var r=!1,l=function(){r=!0},n=function(){if(r){r=!1;return}document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",n);var h=[];if(i.game.cache.audio.entries.each(function(v,f){for(var c=0;c<f.length;c++){var g=f[c];g.dataset.locked==="true"&&h.push(g)}return!0}),h.length!==0){var u=h[h.length-1];u.oncanplaythrough=function(){u.oncanplaythrough=null,h.forEach(function(v){v.dataset.locked="false"}),i.unlocked=!0},h.forEach(function(v){v.load()})}};this.once(o.UNLOCKED,function(){for(this.forEachActiveSound(function(u){u.currentMarker===null&&u.duration===0&&(u.duration=u.tags[0].duration),u.totalDuration=u.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",l,!1),document.body.addEventListener("touchend",n,!1)}},onBlur:function(){this.forEachActiveSound(function(i){i.isPlaying&&(this.onBlurPausedSounds.push(i),i.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(i){i.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){e.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(i,r,l){return i.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:i,prop:r,value:l}),!0):!1},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this._mute},set:function(i){this._mute=i,this.forEachActiveSound(function(r){r.updateMute()}),this.emit(o.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this._volume},set:function(i){this._volume=i,this.forEachActiveSound(function(r){r.updateVolume()}),this.emit(o.GLOBAL_VOLUME,this,i)}}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),d=function(o,a,s,i,r){if(i===void 0&&(i=0),r===void 0&&(r=o.length),e(o,i,r))for(var l=i;l<r;l++){var n=o[l];if(!a||a&&s===void 0&&n.hasOwnProperty(a)||a&&s!==void 0&&n[a]===s)return n}return null};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),d=t(0),o=t(70),a=t(18),s=new d({Extends:e,initialize:function(r,l,n){if(n===void 0&&(n={}),this.tags=r.game.cache.audio.get(l),!this.tags)throw new Error('There is no audio asset with key "'+l+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,e.call(this,r,l,n)},play:function(i,r){return this.manager.isLocked(this,"play",[i,r])||!e.prototype.play.call(this,i,r)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!e.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(o.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!e.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(o.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var i=this.currentConfig.seek,r=this.currentConfig.delay,l=(this.currentMarker?this.currentMarker.start:0)+i;return this.previousTime=l,this.audio.currentTime=l,this.applyConfig(),r===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+r*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var r=this.tags[i];if(r.dataset.used==="false")return r.dataset.used="true",this.audio=r,!0}if(!this.manager.override)return!1;var l=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&l.push(h)},this),l.sort(function(h,u){return h.loop===u.loop?u.seek/u.duration-h.seek/h.duration:h.loop?1:-1});var n=l[0];return this.audio=n.audio,n.reset(),n.audio=null,n.startTime=0,n.previousTime=0,!0},playCatchPromise:function(){var i=this.audio.play();i&&i.catch(function(r){console.warn(r)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){e.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(i){if(!!this.isPlaying){if(this.startTime>0){this.startTime<i-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,i-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var r=this.currentMarker?this.currentMarker.start:0,l=r+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=l-this.manager.loopEndOffset?(this.audio.currentTime=r+Math.max(0,n-l),n=this.audio.currentTime):n<r&&(this.audio.currentTime+=r,n=this.audio.currentTime),n<this.previousTime&&this.emit(o.LOOPED,this);else if(n>=l){this.reset(),this.stopAndReleaseAudioTag(),this.emit(o.COMPLETE,this);return}this.previousTime=n}},destroy:function(){e.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){e.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(i){this.currentConfig.mute=i,!this.manager.isLocked(this,"mute",i)&&(this.updateMute(),this.emit(o.MUTE,this,i))}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.currentConfig.volume},set:function(i){this.currentConfig.volume=i,!this.manager.isLocked(this,"volume",i)&&(this.updateVolume(),this.emit(o.VOLUME,this,i))}},setVolume:function(i){return this.volume=i,this},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,!this.manager.isLocked(this,o.RATE,i)&&(this.calculateRate(),this.emit(o.RATE,this,i))}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,!this.manager.isLocked(this,o.DETUNE,i)&&(this.calculateRate(),this.emit(o.DETUNE,this,i))}},setDetune:function(i){return this.detune=i,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.isLocked(this,"seek",i)||this.startTime>0||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.isPlaying?(this.previousTime=i,this.audio.currentTime=i):this.isPaused&&(this.currentConfig.seek=i),this.emit(o.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,!this.manager.isLocked(this,"loop",i)&&(this.audio&&(this.audio.loop=i),this.emit(o.LOOP,this,i))}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.currentConfig.pan},set:function(i){this.currentConfig.pan=i,this.emit(o.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),d=t(0),o=t(9),a=t(431),s=t(1),i=new d({Extends:o,initialize:function(l){o.call(this),this.game=l,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(r,l){var n=new a(this,r,l);return this.sounds.push(n),n},addAudioSprite:function(r,l){var n=this.add(r,l);return n.spritemap={},n},play:function(r,l){return!1},playAudioSprite:function(r,l,n){return!1},remove:function(r){return e.prototype.remove.call(this,r)},removeByKey:function(r){return e.prototype.removeByKey.call(this,r)},pauseAll:s,resumeAll:s,stopAll:s,update:s,setRate:s,setDetune:s,setMute:s,setVolume:s,forEachActiveSound:function(r,l){e.prototype.forEachActiveSound.call(this,r,l)},destroy:function(){e.prototype.destroy.call(this)}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),d=t(0),o=t(9),a=t(17),s=function(){return!1},i=function(){return null},r=function(){return this},l=new d({Extends:o,initialize:function(h,u,v){v===void 0&&(v={}),o.call(this),this.manager=h,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:s,updateMarker:s,removeMarker:i,play:s,pause:s,resume:s,stop:s,destroy:function(){e.prototype.destroy.call(this)},setMute:r,setVolume:r,setRate:r,setDetune:r,setSeek:r,setLoop:r,setPan:r});p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(433),d=t(145),o=t(0),a=t(70),s=t(22),i=t(434),r=new o({Extends:d,initialize:function(n){this.context=this.createAudioContext(n),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),d.call(this,n),this.locked&&n.isBooted?this.unlock():n.events.once(s.BOOT,this.unlock,this)},createAudioContext:function(l){var n=l.config.audio;if(n.context)return n.context.resume(),n.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(l){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=l,this.masterMuteNode=l.createGain(),this.masterVolumeNode=l.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(l.destination),this.destination=this.masterMuteNode,this},add:function(l,n){var h=new i(this,l,n);return this.sounds.push(h),h},decodeAudio:function(l,n){var h;Array.isArray(l)?h=l:h=[{key:l,data:n}];for(var u=this.game.cache.audio,v=h.length,f=0;f<h.length;f++){var c=h[f],g=c.key,m=c.data;typeof m=="string"&&(m=e(m));var x=function(T,E){u.add(T,E),this.emit(a.DECODED,T),v--,v===0&&this.emit(a.DECODED_ALL)}.bind(this,g),y=function(T,E){console.error("Error decoding audio: "+T+" - ",E?E.message:""),v--,v===0&&this.emit(a.DECODED_ALL)}.bind(this,g);this.context.decodeAudioData(m,x,y)}},unlock:function(){var l=this,n=document.body,h=function u(){if(l.context&&n){var v=n.removeEventListener;l.context.resume().then(function(){v("touchstart",u),v("touchend",u),v("click",u),v("keydown",u),l.unlocked=!0},function(){v("touchstart",u),v("touchend",u),v("click",u),v("keydown",u)})}};n&&(n.addEventListener("touchstart",h,!1),n.addEventListener("touchend",h,!1),n.addEventListener("click",h,!1),n.addEventListener("keydown",h,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var l=this.context;(l.state==="suspended"||l.state==="interrupted")&&!this.locked&&l.resume()},update:function(l,n){d.prototype.update.call(this,l,n);var h=this.context;h&&h.state==="interrupted"&&h.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var l=this;this.context.close().then(function(){l.context=null})}d.prototype.destroy.call(this)},setMute:function(l){return this.mute=l,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(l){this.masterMuteNode.gain.setValueAtTime(l?0:1,0),this.emit(a.GLOBAL_MUTE,this,l)}},setVolume:function(l){return this.volume=l,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(l){this.masterVolumeNode.gain.setValueAtTime(l,0),this.emit(a.GLOBAL_VOLUME,this,l)}}});p.exports=r},function(p,C){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),d=0;d<t.length;d++)e[t.charCodeAt(d)]=d;var o=function(a){a=a.substr(a.indexOf(",")+1);var s=a.length,i=s*.75,r=0,l,n,h,u;a[s-1]==="="&&(i--,a[s-2]==="="&&i--);for(var v=new ArrayBuffer(i),f=new Uint8Array(v),c=0;c<s;c+=4)l=e[a.charCodeAt(c)],n=e[a.charCodeAt(c+1)],h=e[a.charCodeAt(c+2)],u=e[a.charCodeAt(c+3)],f[r++]=l<<2|n>>4,f[r++]=(n&15)<<4|h>>2,f[r++]=(h&3)<<6|u&63;return v};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),d=t(0),o=t(70),a=new d({Extends:e,initialize:function(i,r,l){if(l===void 0&&(l={}),this.audioBuffer=i.game.cache.audio.get(r),!this.audioBuffer)throw new Error('Audio key "'+r+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=i.context.createGain(),this.volumeNode=i.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),i.context.createStereoPanner?(this.pannerNode=i.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(i.destination)):this.volumeNode.connect(i.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,e.call(this,i,r,l)},play:function(s,i){return e.prototype.play.call(this,s,i)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(o.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(o.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(o.RESUME,this),!0)},stop:function(){return e.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(o.STOP,this),!0):!1},createAndStartBufferSource:function(){var s=this.currentConfig.seek,i=this.currentConfig.delay,r=this.manager.context.currentTime+i,l=(this.currentMarker?this.currentMarker.start:0)+s,n=this.duration-s;this.playTime=r-s,this.startTime=r,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,r),Math.max(0,l),Math.max(0,n)),this.resetConfig()},createAndStartLoopBufferSource:function(){var s=this.getLoopTime(),i=this.currentMarker?this.currentMarker.start:0,r=this.duration;this.loopTime=s,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,s),Math.max(0,i),Math.max(0,r))},createBufferSource:function(){var s=this,i=this.manager.context.createBufferSource();return i.buffer=this.audioBuffer,i.connect(this.muteNode),i.onended=function(r){r.target===s.source&&(s.currentConfig.loop?s.hasLooped=!0:s.hasEnded=!0)},i},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),e.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,e.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(o.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(o.LOOPED,this))},destroy:function(){e.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){e.prototype.calculateRate.call(this);var s=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,s),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,s)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var s=0,i=0;i<this.rateUpdates.length;i++){var r=0;i<this.rateUpdates.length-1?r=this.rateUpdates[i+1].time:r=this.manager.context.currentTime-this.playTime,s+=(r-this.rateUpdates[i].time)*this.rateUpdates[i].rate}return s},getLoopTime:function(){for(var s=0,i=0;i<this.rateUpdates.length-1;i++)s+=(this.rateUpdates[i+1].time-this.rateUpdates[i].time)*this.rateUpdates[i].rate;var r=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+r.time+(this.duration-s)/r.rate},rate:{get:function(){return this.currentConfig.rate},set:function(s){this.currentConfig.rate=s,this.calculateRate(),this.emit(o.RATE,this,s)}},setRate:function(s){return this.rate=s,this},detune:{get:function(){return this.currentConfig.detune},set:function(s){this.currentConfig.detune=s,this.calculateRate(),this.emit(o.DETUNE,this,s)}},setDetune:function(s){return this.detune=s,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(s){this.currentConfig.mute=s,this.muteNode.gain.setValueAtTime(s?0:1,0),this.emit(o.MUTE,this,s)}},setMute:function(s){return this.mute=s,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(s){this.currentConfig.volume=s,this.volumeNode.gain.setValueAtTime(s,0),this.emit(o.VOLUME,this,s)}},setVolume:function(s){return this.volume=s,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(s){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(s=Math.min(Math.max(0,s),this.duration),this.currentConfig.seek=s,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(o.SEEK,this,s))}},setSeek:function(s){return this.seek=s,this},loop:{get:function(){return this.currentConfig.loop},set:function(s){this.currentConfig.loop=s,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),s&&this.createAndStartLoopBufferSource()),this.emit(o.LOOP,this,s)}},setLoop:function(s){return this.loop=s,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(s){this.currentConfig.pan=s,this.pannerNode&&this.pannerNode.pan.setValueAtTime(s,this.manager.context.currentTime),this.emit(o.PAN,this,s)}},setPan:function(s){return this.pan=s,this}});p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var d=e.length,o=e[0].length,a=new Array(o),s=0;s<o;s++){a[s]=new Array(d);for(var i=d-1;i>-1;i--)a[s][i]=e[i][s]}return a};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(o,a,s){var i=o[a];o[a]=o[s],o[s]=i}function e(o,a){return o<a?-1:o>a?1:0}var d=function(o,a,s,i,r){for(s===void 0&&(s=0),i===void 0&&(i=o.length-1),r===void 0&&(r=e);i>s;){if(i-s>600){var l=i-s+1,n=a-s+1,h=Math.log(l),u=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*u*(l-u)/l)*(n-l/2<0?-1:1),f=Math.max(s,Math.floor(a-n*u/l+v)),c=Math.min(i,Math.floor(a+(l-n)*u/l+v));d(o,a,f,c,r)}var g=o[a],m=s,x=i;for(t(o,s,a),r(o[i],g)>0&&t(o,s,i);m<x;){for(t(o,m,x),m++,x--;r(o[m],g)<0;)m++;for(;r(o[x],g)>0;)x--}r(o[s],g)===0?t(o,s,x):(x++,t(o,x,i)),x<=a&&(s=x+1),a<=x&&(i=x-1)}};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),d=t(131),o=function(s,i,r){for(var l=[],n=0;n<s.length;n++)for(var h=0;h<i.length;h++)for(var u=0;u<r;u++)l.push({a:s[n],b:i[h]});return l},a=function(s,i,r){var l=e(r,"max",0),n=e(r,"qty",1),h=e(r,"random",!1),u=e(r,"randomB",!1),v=e(r,"repeat",0),f=e(r,"yoyo",!1),c=[];if(u&&d(i),v===-1)if(l===0)v=0;else{var g=s.length*i.length*n;f&&(g*=2),v=Math.ceil(l/g)}for(var m=0;m<=v;m++){var x=o(s,i,n);h&&d(x),c=c.concat(x),f&&(x.reverse(),c=c.concat(x))}return l&&c.splice(l),c};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={PROCESS_QUEUE_ADD:t(1041),PROCESS_QUEUE_REMOVE:t(1042)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(13),d=function(o,a){var s=e(a,"anims",null);if(s===null)return o;if(typeof s=="string")o.anims.play(s);else if(typeof s=="object"){var i=o.anims,r=e(s,"key",void 0);if(r){var l=e(s,"startFrame",void 0),n=e(s,"delay",0),h=e(s,"repeat",0),u=e(s,"repeatDelay",0),v=e(s,"yoyo",!1),f=e(s,"play",!1),c=e(s,"delayedPlay",0),g={key:r,delay:n,repeat:h,repeatDelay:u,yoyo:v,startFrame:l};f?i.play(g):c>0?i.playAfterDelay(g,c):i.load(g)}}return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(109),o=new e({initialize:function(s,i,r,l,n){this.parent=s,this.x=i,this.y=r,this.frame=l,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof d&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,s,i){return this.x=a,this.y=s,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(a,s){return this.x=a,this.y=s,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,s){return this.flipX=a,this.flipY=s,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=function(o,a,s){s===void 0&&(s=new e);var i=Math.min(o.x,a.x),r=Math.min(o.y,a.y),l=Math.max(o.right,a.right)-i,n=Math.max(o.bottom,a.bottom)-r;return s.setTo(i,r,l,n)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(1055),a=t(15),s=t(7),i=t(202),r=t(20),l=t(140),n=new e({Extends:a,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Origin,d.ScrollFactor,d.Transform,d.Visible,o],initialize:function(u,v,f,c,g,m){a.call(this,u,"DOMElement"),this.parent=u.sys.game.domContainer,this.cache=u.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new l,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(v,f),typeof c=="string"?c[0]==="#"?this.setElement(c.substr(1),g,m):this.createElement(c,g,m):c&&this.setElement(c,g,m),u.sys.events.on(r.SLEEP,this.handleSceneEvent,this),u.sys.events.on(r.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(h){var u=this.node,v=u.style;u&&(v.display=h.settings.visible?"block":"none")},setSkew:function(h,u){return h===void 0&&(h=0),u===void 0&&(u=h),this.skewX=h,this.skewY=u,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var u=0;u<h.length;u++)this.node.addEventListener(h[u],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var u=0;u<h.length;u++)this.node.removeEventListener(h[u],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,u,v){return this.setElement(document.createElement(h),u,v)},setElement:function(h,u,v){this.removeElement();var f;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),f=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(f=h),!f)return this;if(this.node=f,u&&s(u))for(var c in u)f.style[c]=u[c];else typeof u=="string"&&(f.style=u);return f.style.zIndex="0",f.style.display="inline",f.style.position="absolute",f.phaser=this,this.parent&&this.parent.appendChild(f),v&&(f.innerText=v),this.updateSize()},createFromCache:function(h,u){var v=this.cache.get(h);return v&&this.createFromHTML(v,u),this},createFromHTML:function(h,u){u===void 0&&(u="div"),this.removeElement();var v=document.createElement(u);return this.node=v,v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),v.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(i(this.node),this.node=null),this},updateSize:function(){var h=this.node,u=h.getBoundingClientRect();return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=u.width||0,this.displayHeight=u.height||0,this},getChildByProperty:function(h,u){if(this.node){for(var v=this.node.querySelectorAll("*"),f=0;f<v.length;f++)if(v[f][h]===u)return v[f]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preUpdate:function(){var h=this.parentContainer,u=this.node;u&&h&&!h.willRender()&&(u.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(r.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(r.WAKE,this.handleSceneEvent,this)}});p.exports=n},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1056),d=t(15),o=t(25),a=new o,s=new o,i=new o,r=function(l,n,h,u){if(!!n.node){var v=n.node.style,f=n.scene.sys.settings;if(!v||!f.visible||d.RENDER_MASK!==n.renderFlags||n.cameraFilter!==0&&n.cameraFilter&h.id||n.parentContainer&&!n.parentContainer.willRender()){v.display="none";return}var c=n.parentContainer,g=h.alpha*n.alpha;c&&(g*=c.alpha);var m=a,x=s,y=i,T=0,E=0,R="0%",M="0%";u?(T=n.width*n.scaleX*n.originX,E=n.height*n.scaleY*n.originY,x.applyITRS(n.x-T,n.y-E,n.rotation,n.scaleX,n.scaleY),m.copyFrom(h.matrix),m.multiplyWithOffset(u,-h.scrollX*n.scrollFactorX,-h.scrollY*n.scrollFactorY),x.e=n.x-T,x.f=n.y-E,m.multiply(x,y)):(T=n.width*n.originX,E=n.height*n.originY,x.applyITRS(n.x-T,n.y-E,n.rotation,n.scaleX,n.scaleY),m.copyFrom(h.matrix),R=100*n.originX+"%",M=100*n.originY+"%",x.e-=h.scrollX*n.scrollFactorX,x.f-=h.scrollY*n.scrollFactorY,m.multiply(x,y)),n.transformOnly||(v.display="block",v.opacity=g,v.zIndex=n._depth,v.pointerEvents=n.pointerEvents,v.mixBlendMode=e[n._blendMode]),v.transform=y.getCSSMatrix()+" skew("+n.skewX+"rad, "+n.skewY+"rad) rotate3d("+n.rotate3d.x+","+n.rotate3d.y+","+n.rotate3d.z+","+n.rotate3d.w+n.rotate3dAngle+")",v.transformOrigin=R+" "+M}};p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(15),a=t(1060),s=new e({Extends:o,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.Origin,d.ScrollFactor,d.Size,d.Texture,d.Tint,d.Transform,d.Visible,a],initialize:function(r){o.call(this,r,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(218),d=t(98),o=t(14),a=t(4),s=function(i,r,l){l===void 0&&(l=new a);var n=d(r,0,o.PI2);return e(i,n,l)};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(447),d=t(218),o=t(98),a=t(14),s=function(i,r,l,n){n===void 0&&(n=[]),!r&&l>0&&(r=e(i)/l);for(var h=0;h<r;h++){var u=o(h/r,0,a.PI2);n.push(d(i,u))}return n};p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d=e.width/2,o=e.height/2,a=Math.pow(d-o,2)/Math.pow(d+o,2);return Math.PI*(d+o)*(1+3*a/(10+Math.sqrt(4-3*a)))};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),d=t(30),o=function(a,s,i,r,l,n){var h=s.commandBuffer,u=h.length,v=l||a.currentContext;if(!(u===0||!d(a,v,s,i,r))){i.addToRenderList(s);var f=1,c=1,g=0,m=0,x=1,y=0,T=0,E=0;v.beginPath();for(var R=0;R<u;++R){var M=h[R];switch(M){case e.ARC:v.arc(h[R+1],h[R+2],h[R+3],h[R+4],h[R+5],h[R+6]),R+=7;break;case e.LINE_STYLE:x=h[R+1],g=h[R+2],f=h[R+3],y=(g&16711680)>>>16,T=(g&65280)>>>8,E=g&255,v.strokeStyle="rgba("+y+","+T+","+E+","+f+")",v.lineWidth=x,R+=3;break;case e.FILL_STYLE:m=h[R+1],c=h[R+2],y=(m&16711680)>>>16,T=(m&65280)>>>8,E=m&255,v.fillStyle="rgba("+y+","+T+","+E+","+c+")",R+=2;break;case e.BEGIN_PATH:v.beginPath();break;case e.CLOSE_PATH:v.closePath();break;case e.FILL_PATH:n||v.fill();break;case e.STROKE_PATH:n||v.stroke();break;case e.FILL_RECT:n?v.rect(h[R+1],h[R+2],h[R+3],h[R+4]):v.fillRect(h[R+1],h[R+2],h[R+3],h[R+4]),R+=4;break;case e.FILL_TRIANGLE:v.beginPath(),v.moveTo(h[R+1],h[R+2]),v.lineTo(h[R+3],h[R+4]),v.lineTo(h[R+5],h[R+6]),v.closePath(),n||v.fill(),R+=6;break;case e.STROKE_TRIANGLE:v.beginPath(),v.moveTo(h[R+1],h[R+2]),v.lineTo(h[R+3],h[R+4]),v.lineTo(h[R+5],h[R+6]),v.closePath(),n||v.stroke(),R+=6;break;case e.LINE_TO:v.lineTo(h[R+1],h[R+2]),R+=2;break;case e.MOVE_TO:v.moveTo(h[R+1],h[R+2]),R+=2;break;case e.LINE_FX_TO:v.lineTo(h[R+1],h[R+2]),R+=5;break;case e.MOVE_FX_TO:v.moveTo(h[R+1],h[R+2]),R+=5;break;case e.SAVE:v.save();break;case e.RESTORE:v.restore();break;case e.TRANSLATE:v.translate(h[R+1],h[R+2]),R+=2;break;case e.SCALE:v.scale(h[R+1],h[R+2]),R+=2;break;case e.ROTATE:v.rotate(h[R+1]),R+=1;break;case e.GRADIENT_FILL_STYLE:R+=5;break;case e.GRADIENT_LINE_STYLE:R+=6;break}}v.restore()}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(137),o=t(80),a=t(2),s=t(68),i=new e({initialize:function(l,n,h,u){u===void 0&&(u=!1),this.propertyKey=n,this.propertyValue=h,this.defaultValue=h,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=u,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(l)},loadConfig:function(r,l){r===void 0&&(r={}),l&&(this.propertyKey=l),this.propertyValue=a(r,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(r){return this.propertyValue=r,this.setMethods()},setMethods:function(){var r=this.propertyValue,l=typeof r;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,l==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(r))this.onEmit=this.randomStaticValueEmit;else if(l==="function")this.emitOnly?this.onEmit=r:this.onUpdate=r;else if(l==="object"&&this.hasBoth(r,"start","end")){this.start=r.start,this.end=r.end;var n=this.has(r,"random");if(n&&(this.onEmit=this.randomRangedValueEmit),this.has(r,"steps"))this.steps=r.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var h=this.has(r,"ease")?r.ease:"Linear";this.ease=o(h,r.easeParams),n||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if(l==="object"&&this.hasBoth(r,"min","max"))this.start=r.min,this.end=r.max,this.onEmit=this.randomRangedValueEmit;else if(l==="object"&&this.has(r,"random")){var u=r.random;Array.isArray(u)&&(this.start=u[0],this.end=u[1]),this.onEmit=this.randomRangedValueEmit}else l==="object"&&this.hasEither(r,"onEmit","onUpdate")&&(this.has(r,"onEmit")&&(this.onEmit=r.onEmit),this.has(r,"onUpdate")&&(this.onUpdate=r.onUpdate));return this},has:function(r,l){return r.hasOwnProperty(l)},hasBoth:function(r,l,n){return r.hasOwnProperty(l)&&r.hasOwnProperty(n)},hasEither:function(r,l,n){return r.hasOwnProperty(l)||r.hasOwnProperty(n)},defaultEmit:function(r,l,n){return n},defaultUpdate:function(r,l,n,h){return h},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var r=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[r]},randomRangedValueEmit:function(r,l){var n=d(this.start,this.end);return r&&r.data[l]&&(r.data[l].min=n),n},steppedEmit:function(){var r=this.counter,l=this.counter+(this.end-this.start)/this.steps;return this.counter=s(l,this.start,this.end),r},easedValueEmit:function(r,l){if(r&&r.data[l]){var n=r.data[l];n.min=this.start,n.max=this.end}return this.start},easeValueUpdate:function(r,l,n){var h=r.data[l];return(h.max-h.min)*this.ease(n)+h.min}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(2),o=new e({initialize:function(s,i,r,l,n){if(typeof s=="object"){var h=s;s=d(h,"x",0),i=d(h,"y",0),r=d(h,"power",0),l=d(h,"epsilon",100),n=d(h,"gravity",50)}else s===void 0&&(s=0),i===void 0&&(i=0),r===void 0&&(r=0),l===void 0&&(l=100),n===void 0&&(n=50);this.x=s,this.y=i,this.active=!0,this._gravity=n,this._power=0,this._epsilon=0,this.power=r,this.epsilon=l},update:function(a,s){var i=this.x-a.x,r=this.y-a.y,l=i*i+r*r;if(l!==0){var n=Math.sqrt(l);l<this._epsilon&&(l=this._epsilon);var h=this._power*s/(l*n)*100;a.velocityX+=i*h,a.velocityY+=r*h}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(a){this._epsilon=a*a}},power:{get:function(){return this._power/this._gravity},set:function(a){this._power=a*this._gravity}},gravity:{get:function(){return this._gravity},set:function(a){var s=this.power;this._gravity=a,this.power=s}}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(36),o=t(50),a=new e({initialize:function(i){this.emitter=i,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(s,i){var r=this.emitter;this.frame=r.getFrame(),r.emitZone&&r.emitZone.getPoint(this),s===void 0?this.x+=r.x.onEmit(this,"x"):this.x+=s,i===void 0?this.y+=r.y.onEmit(this,"y"):this.y+=i,this.life=r.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var l=r.speedX.onEmit(this,"speedX"),n=r.speedY?r.speedY.onEmit(this,"speedY"):l;if(r.radial){var h=d(r.angle.onEmit(this,"angle"));this.velocityX=Math.cos(h)*Math.abs(l),this.velocityY=Math.sin(h)*Math.abs(n)}else if(r.moveTo){var u=r.moveToX.onEmit(this,"moveToX"),v=r.moveToY?r.moveToY.onEmit(this,"moveToY"):u,f=Math.atan2(v-this.y,u-this.x),c=o(this.x,this.y,u,v)/(this.life/1e3);this.velocityX=Math.cos(f)*c,this.velocityY=Math.sin(f)*c}else this.velocityX=l,this.velocityY=n;r.acceleration&&(this.accelerationX=r.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=r.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=r.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=r.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=r.delay.onEmit(this,"delay"),this.scaleX=r.scaleX.onEmit(this,"scaleX"),this.scaleY=r.scaleY?r.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=r.rotate.onEmit(this,"rotate"),this.rotation=d(this.angle),this.bounce=r.bounce.onEmit(this,"bounce"),this.alpha=r.alpha.onEmit(this,"alpha"),this.tint=r.tint.onEmit(this,"tint")},computeVelocity:function(s,i,r,l){var n=this.velocityX,h=this.velocityY,u=this.accelerationX,v=this.accelerationY,f=this.maxVelocityX,c=this.maxVelocityY;n+=s.gravityX*r,h+=s.gravityY*r,u&&(n+=u*r),v&&(h+=v*r),n>f?n=f:n<-f&&(n=-f),h>c?h=c:h<-c&&(h=-c),this.velocityX=n,this.velocityY=h;for(var g=0;g<l.length;g++)l[g].update(this,i,r)},checkBounds:function(s){var i=s.bounds,r=-this.bounce;this.x<i.x&&s.collideLeft?(this.x=i.x,this.velocityX*=r):this.x>i.right&&s.collideRight&&(this.x=i.right,this.velocityX*=r),this.y<i.y&&s.collideTop?(this.y=i.y,this.velocityY*=r):this.y>i.bottom&&s.collideBottom&&(this.y=i.bottom,this.velocityY*=r)},update:function(s,i,r){if(this.delayCurrent>0)return this.delayCurrent-=s,!1;var l=this.emitter,n=1-this.lifeCurrent/this.life;return this.lifeT=n,this.computeVelocity(l,s,i,r),this.x+=this.velocityX*i,this.y+=this.velocityY*i,l.bounds&&this.checkBounds(l),l.deathZone&&l.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=l.scaleX.onUpdate(this,"scaleX",n,this.scaleX),l.scaleY?this.scaleY=l.scaleY.onUpdate(this,"scaleY",n,this.scaleY):this.scaleY=this.scaleX,this.angle=l.rotate.onUpdate(this,"rotate",n,this.angle),this.rotation=d(this.angle),this.alpha=l.alpha.onUpdate(this,"alpha",n,this.alpha),this.tint=l.tint.onUpdate(this,"tint",n,this.tint),this.lifeCurrent-=s,this.lifeCurrent<=0)}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),d=t(0),o=t(11),a=t(453),s=t(454),i=t(449),r=t(2),l=t(210),n=t(455),h=t(126),u=t(451),v=t(456),f=t(10),c=t(79),g=t(3),m=t(68),x=new d({Mixins:[o.BlendMode,o.Mask,o.ScrollFactor,o.Visible],initialize:function(T,E){this.manager=T,this.texture=T.texture,this.frames=[T.defaultFrame],this.defaultFrame=T.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=u,this.x=new i(E,"x",0,!0),this.y=new i(E,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new i(E,"accelerationX",0,!0),this.accelerationY=new i(E,"accelerationY",0,!0),this.maxVelocityX=new i(E,"maxVelocityX",1e4,!0),this.maxVelocityY=new i(E,"maxVelocityY",1e4,!0),this.speedX=new i(E,"speedX",0,!0),this.speedY=new i(E,"speedY",0,!0),this.moveTo=!1,this.moveToX=new i(E,"moveToX",0,!0),this.moveToY=new i(E,"moveToY",0,!0),this.bounce=new i(E,"bounce",0,!0),this.scaleX=new i(E,"scaleX",1),this.scaleY=new i(E,"scaleY",1),this.tint=new i(E,"tint",16777215),this.alpha=new i(E,"alpha",1),this.lifespan=new i(E,"lifespan",1e3,!0),this.angle=new i(E,"angle",{min:0,max:360},!0),this.rotate=new i(E,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new i(E,"quantity",1,!0),this.delay=new i(E,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=e.NORMAL,this.follow=null,this.followOffset=new g,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,E&&this.fromJSON(E)},fromJSON:function(y){if(!y)return this;var T=0,E="";for(T=0;T<this.configFastMap.length;T++)E=this.configFastMap[T],h(y,E)&&(this[E]=r(y,E));for(T=0;T<this.configOpMap.length;T++)E=this.configOpMap[T],h(y,E)&&this[E].loadConfig(y);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,h(y,"speed")&&(this.speedX.loadConfig(y,"speed"),this.speedY=null),(n(y,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),h(y,"scale")&&(this.scaleX.loadConfig(y,"scale"),this.scaleY=null),h(y,"callbackScope")){var R=r(y,"callbackScope",null);this.emitCallbackScope=R,this.deathCallbackScope=R}return h(y,"emitZone")&&this.setEmitZone(y.emitZone),h(y,"deathZone")&&this.setDeathZone(y.deathZone),h(y,"bounds")&&this.setBounds(y.bounds),h(y,"followOffset")&&this.followOffset.setFromObject(r(y,"followOffset",0)),h(y,"frame")&&this.setFrame(y.frame),h(y,"reserve")&&this.reserve(y.reserve),this},toJSON:function(y){y===void 0&&(y={});var T=0,E="";for(T=0;T<this.configFastMap.length;T++)E=this.configFastMap[T],y[E]=this[E];for(T=0;T<this.configOpMap.length;T++)E=this.configOpMap[T],this[E]&&(y[E]=this[E].toJSON());return this.speedY||(delete y.speedX,y.speed=this.speedX.toJSON()),this.scaleY||(delete y.scaleX,y.scale=this.scaleX.toJSON()),y},startFollow:function(y,T,E,R){return T===void 0&&(T=0),E===void 0&&(E=0),R===void 0&&(R=!1),this.follow=y,this.followOffset.set(T,E),this.trackVisible=R,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return l(this.frames);var y=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=m(this.currentFrame+1,0,this._frameLength)),y},setFrame:function(y,T,E){T===void 0&&(T=!0),E===void 0&&(E=1),this.randomFrame=T,this.frameQuantity=E,this.currentFrame=0,this._frameCounter=0;var R=typeof y;if(Array.isArray(y)||R==="string"||R==="number")this.manager.setEmitterFrames(y,this);else if(R==="object"){var M=y;y=r(M,"frames",null),y&&this.manager.setEmitterFrames(y,this);var P=r(M,"cycle",!1);this.randomFrame=!P,this.frameQuantity=r(M,"quantity",E)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(y){return y===void 0&&(y=!0),this.radial=y,this},setPosition:function(y,T){return this.x.onChange(y),this.y.onChange(T),this},setBounds:function(y,T,E,R){if(typeof y=="object"){var M=y;y=M.x,T=M.y,E=h(M,"w")?M.w:M.width,R=h(M,"h")?M.h:M.height}return this.bounds?this.bounds.setTo(y,T,E,R):this.bounds=new f(y,T,E,R),this},setSpeedX:function(y){return this.speedX.onChange(y),this.radial=!1,this},setSpeedY:function(y){return this.speedY&&(this.speedY.onChange(y),this.radial=!1),this},setSpeed:function(y){return this.speedX.onChange(y),this.speedY=null,this.radial=!0,this},setScaleX:function(y){return this.scaleX.onChange(y),this},setScaleY:function(y){return this.scaleY.onChange(y),this},setScale:function(y){return this.scaleX.onChange(y),this.scaleY=null,this},setGravityX:function(y){return this.gravityX=y,this},setGravityY:function(y){return this.gravityY=y,this},setGravity:function(y,T){return this.gravityX=y,this.gravityY=T,this},setAlpha:function(y){return this.alpha.onChange(y),this},setTint:function(y){return this.tint.onChange(y),this},setEmitterAngle:function(y){return this.angle.onChange(y),this},setAngle:function(y){return this.angle.onChange(y),this},setLifespan:function(y){return this.lifespan.onChange(y),this},setQuantity:function(y){return this.quantity.onChange(y),this},setFrequency:function(y,T){return this.frequency=y,this._counter=0,T&&this.quantity.onChange(T),this},setEmitZone:function(y){if(y===void 0)this.emitZone=null;else{var T=r(y,"type","random"),E=r(y,"source",null);switch(T){case"random":this.emitZone=new v(E);break;case"edge":var R=r(y,"quantity",1),M=r(y,"stepRate",0),P=r(y,"yoyo",!1),O=r(y,"seamless",!0);this.emitZone=new s(E,R,M,P,O);break}}return this},setDeathZone:function(y){if(y===void 0)this.deathZone=null;else{var T=r(y,"type","onEnter"),E=r(y,"source",null);if(E&&typeof E.contains=="function"){var R=T==="onEnter";this.deathZone=new a(E,R)}}return this},reserve:function(y){for(var T=this.dead,E=0;E<y;E++)T.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(y,T){return y===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof y=="function"&&(this.emitCallback=y,T&&(this.emitCallbackScope=T)),this},onParticleDeath:function(y,T){return y===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof y=="function"&&(this.deathCallback=y,T&&(this.deathCallbackScope=T)),this},killAll:function(){for(var y=this.dead,T=this.alive;T.length>0;)y.push(T.pop());return this},forEachAlive:function(y,T){for(var E=this.alive,R=E.length,M=0;M<R;++M)y.call(T,E[M],this);return this},forEachDead:function(y,T){for(var E=this.dead,R=E.length,M=0;M<R;++M)y.call(T,E[M],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return c(this.alive,this.depthSortCallback),this},flow:function(y,T){return T===void 0&&(T=1),this.frequency=y,this.quantity.onChange(T),this.start()},explode:function(y,T,E){return this.frequency=-1,this.emitParticle(y,T,E)},emitParticleAt:function(y,T,E){return this.emitParticle(E,y,T)},emitParticle:function(y,T,E){if(!this.atLimit()){y===void 0&&(y=this.quantity.onEmit());for(var R=this.dead,M=this.follow?this.follow.x+this.followOffset.x:T,P=this.follow?this.follow.y+this.followOffset.y:E,O=0;O<y;O++){var I=R.pop();if(I||(I=new this.particleClass(this)),I.fire(M,P),this.particleBringToTop?this.alive.push(I):this.alive.unshift(I),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,I,this),this.atLimit())break}return I}},preUpdate:function(y,T){T*=this.timeScale;var E=T/1e3;this.trackVisible&&(this.visible=this.follow.visible);var R=this.manager.getProcessors(),M=this.alive,P=this.dead,O=0,I=[],B=M.length;for(O=0;O<B;O++){var w=M[O];w.update(T,E,R)&&I.push({index:O,particle:w})}if(B=I.length,B>0){var z=this.deathCallback,H=this.deathCallbackScope;for(O=B-1;O>=0;O--){var b=I[O];M.splice(b.index,1),P.push(b.particle),z&&z.call(H,b.particle),b.particle.resetPosition()}}!this.on||(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=T,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(y,T){return y.y-T.y}});p.exports=x},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s){this.source=a,this.killOnEnter=s},willKill:function(o){var a=this.source.contains(o.x,o.y);return a&&this.killOnEnter||!a&&!this.killOnEnter}});p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s,i,r,l){r===void 0&&(r=!1),l===void 0&&(l=!0),this.source=a,this.points=[],this.quantity=s,this.stepRate=i,this.yoyo=r,this.counter=-1,this.seamless=l,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var o=this.points[0],a=this.points[this.points.length-1];o.x===a.x&&o.y===a.y&&this.points.pop()}var s=this._length;return this._length=this.points.length,this._length<s&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(o){return this.source=o,this.updateSource()},getPoint:function(o){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(o.x=a.x,o.y=a.y)}});p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){for(var o=0;o<d.length;o++)if(e.hasOwnProperty(d[o]))return!0;return!1};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(3),o=new e({initialize:function(s){this.source=s,this._tempVec=new d},getPoint:function(a){var s=this._tempVec;this.source.getRandomPoint(s),a.x=s.x,a.y=s.y}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(73),a=new e({Extends:o,Mixins:[d.PathFollower],initialize:function(i,r,l,n,h,u){o.call(this,i,l,n,h,u),this.path=r},preUpdate:function(s,i){this.anims.update(s,i),this.pathUpdate(s)}});p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=e.canvas,s=e.context,i=e.style,r=[],l=0,n=o.length;i.maxLines>0&&i.maxLines<o.length&&(n=i.maxLines),i.syncFont(a,s);for(var h=0;h<n;h++){var u=i.strokeThickness;u+=s.measureText(o[h]).width,i.wordWrap&&(u-=s.measureText(" ").width),r[h]=Math.ceil(u),l=Math.max(l,r[h])}var v=d.fontSize+i.strokeThickness,f=v*n,c=e.lineSpacing;return n>1&&(f+=c*(n-1)),{width:l,height:f,lines:n,lineWidths:r,lineSpacing:c,lineHeight:v}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(13),o=t(6),a=t(460),s={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|M\xC3\u2030qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},i=new e({initialize:function(l,n){this.parent=l,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(n,!1,!0);var h=o(n,"metrics",!1);h?this.metrics={ascent:o(h,"ascent",0),descent:o(h,"descent",0),fontSize:o(h,"fontSize",0)}:this.metrics=a(this)},setStyle:function(r,l,n){l===void 0&&(l=!0),n===void 0&&(n=!1),r&&r.hasOwnProperty("fontSize")&&typeof r.fontSize=="number"&&(r.fontSize=r.fontSize.toString()+"px");for(var h in s){var u=n?s[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=o(r,s[h][0],u):this[h]=d(r,s[h][0],u)}var v=o(r,"font",null);v!==null&&this.setFont(v,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var f=o(r,"fill",null);return f!==null&&(this.color=f),l?this.update(!0):this.parent},syncFont:function(r,l){l.font=this._font},syncStyle:function(r,l){l.textBaseline="alphabetic",l.fillStyle=this.color,l.strokeStyle=this.stroke,l.lineWidth=this.strokeThickness,l.lineCap="round",l.lineJoin="round"},syncShadow:function(r,l){l?(r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur):(r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowColor=0,r.shadowBlur=0)},update:function(r){return r&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(r,l){l===void 0&&(l=!0);var n=r,h="",u="";if(typeof r!="string")n=o(r,"fontFamily","Courier"),h=o(r,"fontSize","16px"),u=o(r,"fontStyle","");else{var v=r.split(" "),f=0;u=v.length>2?v[f++]:"",h=v[f++]||"16px",n=v[f++]||"Courier"}return(n!==this.fontFamily||h!==this.fontSize||u!==this.fontStyle)&&(this.fontFamily=n,this.fontSize=h,this.fontStyle=u,l&&this.update(!0)),this.parent},setFontFamily:function(r){return this.fontFamily!==r&&(this.fontFamily=r,this.update(!0)),this.parent},setFontStyle:function(r){return this.fontStyle!==r&&(this.fontStyle=r,this.update(!0)),this.parent},setFontSize:function(r){return typeof r=="number"&&(r=r.toString()+"px"),this.fontSize!==r&&(this.fontSize=r,this.update(!0)),this.parent},setTestString:function(r){return this.testString=r,this.update(!0)},setFixedSize:function(r,l){return this.fixedWidth=r,this.fixedHeight=l,r&&(this.parent.width=r),l&&(this.parent.height=l),this.update(!1)},setBackgroundColor:function(r){return this.backgroundColor=r,this.update(!1)},setFill:function(r){return this.color=r,this.update(!1)},setColor:function(r){return this.color=r,this.update(!1)},setResolution:function(r){return this.resolution=r,this.update(!1)},setStroke:function(r,l){return l===void 0&&(l=this.strokeThickness),r===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==r||this.strokeThickness!==l)&&(this.stroke=r,this.strokeThickness=l,this.update(!0)),this.parent},setShadow:function(r,l,n,h,u,v){return r===void 0&&(r=0),l===void 0&&(l=0),n===void 0&&(n="#000"),h===void 0&&(h=0),u===void 0&&(u=!1),v===void 0&&(v=!0),this.shadowOffsetX=r,this.shadowOffsetY=l,this.shadowColor=n,this.shadowBlur=h,this.shadowStroke=u,this.shadowFill=v,this.update(!1)},setShadowOffset:function(r,l){return r===void 0&&(r=0),l===void 0&&(l=r),this.shadowOffsetX=r,this.shadowOffsetY=l,this.update(!1)},setShadowColor:function(r){return r===void 0&&(r="#000"),this.shadowColor=r,this.update(!1)},setShadowBlur:function(r){return r===void 0&&(r=0),this.shadowBlur=r,this.update(!1)},setShadowStroke:function(r){return this.shadowStroke=r,this.update(!1)},setShadowFill:function(r){return this.shadowFill=r,this.update(!1)},setWordWrapWidth:function(r,l){return l===void 0&&(l=!1),this.wordWrapWidth=r,this.wordWrapUseAdvanced=l,this.update(!1)},setWordWrapCallback:function(r,l){return l===void 0&&(l=null),this.wordWrapCallback=r,this.wordWrapCallbackScope=l,this.update(!1)},setAlign:function(r){return r===void 0&&(r="left"),this.align=r,this.update(!1)},setMaxLines:function(r){return r===void 0&&(r=0),this.maxLines=r,this.update(!1)},getTextMetrics:function(){var r=this.metrics;return{ascent:r.ascent,descent:r.descent,fontSize:r.fontSize}},toJSON:function(){var r={};for(var l in s)r[l]=this[l];return r.metrics=this.getTextMetrics(),r},destroy:function(){this.parent=void 0}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),d=function(o){var a=e.create(this),s=a.getContext("2d");o.syncFont(a,s);var i=s.measureText(o.testString);if("actualBoundingBoxAscent"in i){var r=i.actualBoundingBoxAscent,l=i.actualBoundingBoxDescent;return e.remove(a),{ascent:r,descent:l,fontSize:r+l}}var n=Math.ceil(i.width*o.baselineX),h=n,u=2*h;h=h*o.baselineY|0,a.width=n,a.height=u,s.fillStyle="#f00",s.fillRect(0,0,n,u),s.font=o._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o.testString,0,h);var v={ascent:0,descent:0,fontSize:0},f=s.getImageData(0,0,n,u);if(!f)return v.ascent=h,v.descent=h+6,v.fontSize=v.ascent+v.descent,e.remove(a),v;var c=f.data,g=c.length,m=n*4,x,y,T=0,E=!1;for(x=0;x<h;x++){for(y=0;y<m;y+=4)if(c[T+y]!==255){E=!0;break}if(!E)T+=m;else break}for(v.ascent=h-x,T=g-m,E=!1,x=u;x>h;x--){for(y=0;y<m;y+=4)if(c[T+y]!==255){E=!0;break}if(!E)T-=m;else break}return v.descent=x-h,v.fontSize=v.ascent+v.descent,e.remove(a),v};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1097),d=t(0),o=t(36),a=t(59),s=t(65),i=t(14),r=t(34),l=new d({Extends:r,Mixins:[e],initialize:function(h,u,v,f,c,g,m,x,y){u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=128),c===void 0&&(c=0),g===void 0&&(g=360),m===void 0&&(m=!1),r.call(this,h,"Arc",new s(0,0,f)),this._startAngle=c,this._endAngle=g,this._anticlockwise=m,this._iterations=.01,this.setPosition(u,v);var T=this.geom.radius*2;this.setSize(T,T),x!==void 0&&this.setFillStyle(x,y),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(n){this._iterations=n,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(n){this.geom.radius=n;var h=n*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(n){this._startAngle=n,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(n){this._endAngle=n,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(n){this._anticlockwise=n,this.updateData()}},setRadius:function(n){return this.radius=n,this},setIterations:function(n){return n===void 0&&(n=.01),this.iterations=n,this},setStartAngle:function(n,h){return this._startAngle=n,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(n,h){return this._endAngle=n,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var n=this._iterations,h=n,u=this.geom.radius,v=o(this._startAngle),f=o(this._endAngle),c=this._anticlockwise,g=u,m=u;f-=v,c?f<-i.PI2?f=-i.PI2:f>0&&(f=-i.PI2+f%i.PI2):f>i.PI2?f=i.PI2:f<0&&(f=i.PI2+f%i.PI2);for(var x=[g+Math.cos(v)*u,m+Math.sin(v)*u],y;h<1;)y=f*h+v,x.push(g+Math.cos(y)*u,m+Math.sin(y)*u),h+=n;return y=f+v,x.push(g+Math.cos(y)*u,m+Math.sin(y)*u),x.push(g+Math.cos(v)*u,m+Math.sin(v)*u),this.pathIndexes=a(x),this.pathData=x,this}});p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(1100),o=t(59),a=t(10),s=t(34),i=new e({Extends:s,Mixins:[d],initialize:function(l,n,h,u,v,f){n===void 0&&(n=0),h===void 0&&(h=0),s.call(this,l,"Curve",u),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(n,h),v!==void 0&&this.setFillStyle(v,f),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){var r=this._curveBounds,l=this._smoothness;this.geom.getBounds(r,l),this.setSize(r.width,r.height),this.updateDisplayOrigin();for(var n=[],h=this.geom.getPoints(l),u=0;u<h.length;u++)n.push(h[u].x,h[u].y);return n.push(h[0].x,h[0].y),this.pathIndexes=o(n),this.pathData=n,this}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(59),o=t(1103),a=t(111),s=t(34),i=new e({Extends:s,Mixins:[o],initialize:function(l,n,h,u,v,f,c){n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=128),v===void 0&&(v=128),s.call(this,l,"Ellipse",new a(u/2,v/2,u,v)),this._smoothness=64,this.setPosition(n,h),this.width=u,this.height=v,f!==void 0&&this.setFillStyle(f,c),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSize:function(r,l){return this.width=r,this.height=l,this.geom.setPosition(r/2,l/2),this.geom.setSize(r,l),this.updateData()},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){for(var r=[],l=this.geom.getPoints(this._smoothness),n=0;n<l.length;n++)r.push(l[n].x,l[n].y);return r.push(l[0].x,l[0].y),this.pathIndexes=d(r),this.pathData=r,this}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(34),o=t(1106),a=new e({Extends:d,Mixins:[o],initialize:function(i,r,l,n,h,u,v,f,c,g,m){r===void 0&&(r=0),l===void 0&&(l=0),n===void 0&&(n=128),h===void 0&&(h=128),u===void 0&&(u=32),v===void 0&&(v=32),d.call(this,i,"Grid",null),this.cellWidth=u,this.cellHeight=v,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(r,l),this.setSize(n,h),this.setFillStyle(f,c),g!==void 0&&this.setOutlineStyle(g,m),this.updateDisplayOrigin()},setFillStyle:function(s,i){return i===void 0&&(i=1),s===void 0?this.showCells=!1:(this.fillColor=s,this.fillAlpha=i,this.showCells=!0),this},setAltFillStyle:function(s,i){return i===void 0&&(i=1),s===void 0?this.showAltCells=!1:(this.altFillColor=s,this.altFillAlpha=i,this.showAltCells=!0),this},setOutlineStyle:function(s,i){return i===void 0&&(i=1),s===void 0?this.showOutline=!1:(this.outlineFillColor=s,this.outlineFillAlpha=i,this.showOutline=!0),this}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1109),d=t(0),o=t(34),a=new d({Extends:o,Mixins:[e],initialize:function(i,r,l,n,h,u,v,f){r===void 0&&(r=0),l===void 0&&(l=0),n===void 0&&(n=48),h===void 0&&(h=32),u===void 0&&(u=15658734),v===void 0&&(v=10066329),f===void 0&&(f=13421772),o.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=u,this.fillLeft=v,this.fillRight=f,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(r,l),this.setSize(n,h),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setFaces:function(s,i,r){return s===void 0&&(s=!0),i===void 0&&(i=!0),r===void 0&&(r=!0),this.showTop=s,this.showLeft=i,this.showRight=r,this},setFillStyle:function(s,i,r){return this.fillTop=s,this.fillLeft=i,this.fillRight=r,this.isFilled=!0,this}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(1112),o=t(34),a=new e({Extends:o,Mixins:[d],initialize:function(i,r,l,n,h,u,v,f,c){r===void 0&&(r=0),l===void 0&&(l=0),n===void 0&&(n=48),h===void 0&&(h=32),u===void 0&&(u=!1),v===void 0&&(v=15658734),f===void 0&&(f=10066329),c===void 0&&(c=13421772),o.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=v,this.fillLeft=f,this.fillRight=c,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=u,this.isFilled=!0,this.setPosition(r,l),this.setSize(n,h),this.updateDisplayOrigin()},setProjection:function(s){return this.projection=s,this},setReversed:function(s){return this.isReversed=s,this},setFaces:function(s,i,r){return s===void 0&&(s=!0),i===void 0&&(i=!0),r===void 0&&(r=!0),this.showTop=s,this.showLeft=i,this.showRight=r,this},setFillStyle:function(s,i,r){return this.fillTop=s,this.fillLeft=i,this.fillRight=r,this.isFilled=!0,this}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(34),o=t(47),a=t(1115),s=new e({Extends:d,Mixins:[a],initialize:function(r,l,n,h,u,v,f,c,g){l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=0),v===void 0&&(v=128),f===void 0&&(f=0),d.call(this,r,"Line",new o(h,u,v,f));var m=Math.max(1,this.geom.right-this.geom.left),x=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(l,n),this.setSize(m,x),c!==void 0&&this.setStrokeStyle(1,c,g),this.updateDisplayOrigin()},setLineWidth:function(i,r){return r===void 0&&(r=i),this._startWidth=i,this._endWidth=r,this.lineWidth=i,this},setTo:function(i,r,l,n){return this.geom.setTo(i,r,l,n),this}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1118),d=t(0),o=t(59),a=t(469),s=t(227),i=t(34),r=t(472),l=new d({Extends:i,Mixins:[e],initialize:function(h,u,v,f,c,g){u===void 0&&(u=0),v===void 0&&(v=0),i.call(this,h,"Polygon",new s(f));var m=a(this.geom);this.setPosition(u,v),this.setSize(m.width,m.height),c!==void 0&&this.setFillStyle(c,g),this.updateDisplayOrigin(),this.updateData()},smooth:function(n){n===void 0&&(n=1);for(var h=0;h<n;h++)r(this.geom);return this.updateData()},updateData:function(){for(var n=[],h=this.geom.points,u=0;u<h.length;u++)n.push(h[u].x,h[u].y);return n.push(h[0].x,h[0].y),this.pathIndexes=o(n),this.pathData=n,this}});p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=function(o,a){a===void 0&&(a=new e);for(var s=1/0,i=1/0,r=-s,l=-i,n,h=0;h<o.points.length;h++)n=o.points[h],s=Math.min(s,n.x),i=Math.min(i,n.y),r=Math.max(r,n.x),l=Math.max(l,n.y);return a.x=s,a.y=i,a.width=r-s,a.height=l-i,a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),d=t(47),o=t(471),a=function(s,i,r,l){l===void 0&&(l=[]);var n=s.points,h=o(s);!i&&r>0&&(i=h/r);for(var u=0;u<i;u++)for(var v=h*(u/i),f=0,c=0;c<n.length;c++){var g=n[c],m=n[(c+1)%n.length],x=new d(g.x,g.y,m.x,m.y),y=e(x);if(v<f||v>f+y){f+=y;continue}var T=x.getPoint((v-f)/y);l.push(T);break}return l};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),d=t(47),o=function(a){for(var s=a.points,i=0,r=0;r<s.length;r++){var l=s[r],n=s[(r+1)%s.length],h=new d(l.x,l.y,n.x,n.y);i+=e(h)}return i};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(d,o){return d[0]=o[0],d[1]=o[1],d},e=function(d){var o,a=[],s=d.points;for(o=0;o<s.length;o++)a.push([s[o].x,s[o].y]);var i=[];for(a.length>0&&i.push(t([0,0],a[0])),o=0;o<a.length-1;o++){var r=a[o],l=a[o+1],n=r[0],h=r[1],u=l[0],v=l[1];i.push([.85*n+.15*u,.85*h+.15*v]),i.push([.15*n+.85*u,.15*h+.85*v])}return a.length>1&&i.push(t([0,0],a[a.length-1])),d.setTo(i)};p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(10),o=t(34),a=t(1121),s=new e({Extends:o,Mixins:[a],initialize:function(r,l,n,h,u,v,f){l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h=128),u===void 0&&(u=128),o.call(this,r,"Rectangle",new d(0,0,h,u)),this.setPosition(l,n),this.setSize(h,u),v!==void 0&&this.setFillStyle(v,f),this.updateDisplayOrigin(),this.updateData()},setSize:function(i,r){return this.width=i,this.height=r,this.geom.setSize(i,r),this.updateData(),this},updateData:function(){var i=[],r=this.geom,l=this._tempLine;return r.getLineA(l),i.push(l.x1,l.y1,l.x2,l.y2),r.getLineB(l),i.push(l.x2,l.y2),r.getLineC(l),i.push(l.x2,l.y2),r.getLineD(l),i.push(l.x2,l.y2),this.pathData=i,this}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1124),d=t(0),o=t(59),a=t(34),s=new d({Extends:a,Mixins:[e],initialize:function(r,l,n,h,u,v,f,c){l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h=5),u===void 0&&(u=32),v===void 0&&(v=64),a.call(this,r,"Star",null),this._points=h,this._innerRadius=u,this._outerRadius=v,this.setPosition(l,n),this.setSize(v*2,v*2),f!==void 0&&this.setFillStyle(f,c),this.updateDisplayOrigin(),this.updateData()},setPoints:function(i){return this._points=i,this.updateData()},setInnerRadius:function(i){return this._innerRadius=i,this.updateData()},setOuterRadius:function(i){return this._outerRadius=i,this.updateData()},points:{get:function(){return this._points},set:function(i){this._points=i,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(i){this._innerRadius=i,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(i){this._outerRadius=i,this.updateData()}},updateData:function(){var i=[],r=this._points,l=this._innerRadius,n=this._outerRadius,h=Math.PI/2*3,u=Math.PI/r,v=n,f=n;i.push(v,f+-n);for(var c=0;c<r;c++)i.push(v+Math.cos(h)*n,f+Math.sin(h)*n),h+=u,i.push(v+Math.cos(h)*l,f+Math.sin(h)*l),h+=u;return i.push(v,f+-n),this.pathIndexes=o(i),this.pathData=i,this}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(34),o=t(82),a=t(1127),s=new e({Extends:d,Mixins:[a],initialize:function(r,l,n,h,u,v,f,c,g,m,x){l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=128),v===void 0&&(v=64),f===void 0&&(f=0),c===void 0&&(c=128),g===void 0&&(g=128),d.call(this,r,"Triangle",new o(h,u,v,f,c,g));var y=this.geom.right-this.geom.left,T=this.geom.bottom-this.geom.top;this.setPosition(l,n),this.setSize(y,T),m!==void 0&&this.setFillStyle(m,x),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,r,l,n,h,u){return this.geom.setTo(i,r,l,n,h,u),this.updateData()},updateData:function(){var i=[],r=this.geom,l=this._tempLine;return r.getLineA(l),i.push(l.x1,l.y1,l.x2,l.y2),r.getLineB(l),i.push(l.x2,l.y2),r.getLineC(l),i.push(l.x2,l.y2),this.pathData=i,this}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=t(67),o=function(a,s,i){i===void 0&&(i=new e);var r=a.getLineA(),l=a.getLineB(),n=a.getLineC();if(s<=0||s>=1)return i.x=r.x1,i.y=r.y1,i;var h=d(r),u=d(l),v=d(n),f=h+u+v,c=f*s,g=0;return c<h?(g=c/h,i.x=r.x1+(r.x2-r.x1)*g,i.y=r.y1+(r.y2-r.y1)*g):c>h+u?(c-=h+u,g=c/v,i.x=n.x1+(n.x2-n.x1)*g,i.y=n.y1+(n.y2-n.y1)*g):(c-=h,g=c/u,i.x=l.x1+(l.x2-l.x1)*g,i.y=l.y1+(l.y2-l.y1)*g),i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),d=t(4),o=function(a,s,i,r){r===void 0&&(r=[]);var l=a.getLineA(),n=a.getLineB(),h=a.getLineC(),u=e(l),v=e(n),f=e(h),c=u+v+f;!s&&i>0&&(s=c/i);for(var g=0;g<s;g++){var m=c*(g/s),x=0,y=new d;m<u?(x=m/u,y.x=l.x1+(l.x2-l.x1)*x,y.y=l.y1+(l.y2-l.y1)*x):m>u+v?(m-=u+v,x=m/f,y.x=h.x1+(h.x2-h.x1)*x,y.y=h.y1+(h.y2-h.y1)*x):(m-=u,x=m/v,y.x=n.x1+(n.x2-n.x1)*x,y.y=n.y1+(n.y2-n.y1)*x),r.push(y)}return r};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(d))return e[d]=o,!0;if(d.indexOf(".")!==-1){for(var a=d.split("."),s=e,i=e,r=0;r<a.length;r++)if(s.hasOwnProperty(a[r]))i=s,s=s[a[r]];else return!1;return i[a[a.length-1]]=o,!0}return!1};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),d=t(117),o=function(a,s,i,r,l,n,h){if(r===void 0&&(r=!1),n===void 0&&(n=16777215),h===void 0&&(h=1),a.length!==s.length){console.warn("GenerateVerts: vertices and uvs count not equal");return}var u={faces:[],vertices:[]},v,f,c,g,m,x,y,T,E,R,M,P=r?3:2,O=Array.isArray(n),I=Array.isArray(h);if(Array.isArray(i)&&i.length>0)for(v=0;v<i.length;v++){var B=i[v],w=i[v]*2,z=i[v]*P;f=a[z],c=a[z+1],g=r?a[z+2]:0,m=s[w],x=s[w+1],y=O?n[B]:n,T=I?h[B]:h,E=0,R=0,M=0,l&&(E=l[z],R=l[z+1],M=r?l[z+2]:0),u.vertices.push(new d(f,c,g,m,x,y,T,E,R,M))}else{var H=0,b=0;for(v=0;v<a.length;v+=P)f=a[v],c=a[v+1],g=r?a[v+2]:0,m=s[H],x=s[H+1],y=O?n[b]:n,T=I?h[b]:h,E=0,R=0,M=0,l&&(E=l[v],R=l[v+1],M=r?l[v+2]:0),u.vertices.push(new d(f,c,g,m,x,y,T,E,R,M)),H+=2,b++}for(v=0;v<u.vertices.length;v+=3){var Q=u.vertices[v],D=u.vertices[v+1],F=u.vertices[v+2];u.faces.push(new e(Q,D,F))}return u};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),d=t(69),o=t(39),a=t(117),s=new o,i=new o,r=new d,l=function(n,h,u,v,f,c,g,m,x,y){u===void 0&&(u=1),v===void 0&&(v=0),f===void 0&&(f=0),c===void 0&&(c=0),g===void 0&&(g=0),m===void 0&&(m=0),x===void 0&&(x=0),y===void 0&&(y=!0);var T={faces:[],verts:[]},E=n.materials;s.set(v,f,c),i.set(g,m,x),r.fromRotationXYTranslation(i,s,y);for(var R=0;R<n.models.length;R++)for(var M=n.models[R],P=M.vertices,O=M.textureCoords,I=M.faces,B=0;B<I.length;B++){var w=I[B],z=w.vertices[0],H=w.vertices[1],b=w.vertices[2],Q=P[z.vertexIndex],D=P[H.vertexIndex],F=P[b.vertexIndex],G=z.textureCoordsIndex,N=H.textureCoordsIndex,X=b.textureCoordsIndex,V=G===-1?{u:0,v:1}:O[G],W=N===-1?{u:0,v:0}:O[N],Z=X===-1?{u:1,v:1}:O[X],et=16777215;w.material!==""&&E[w.material]&&(et=E[w.material]);var it=new a(Q.x*u,Q.y*u,Q.z*u,V.u,V.v,et).transformMat4(r),ht=new a(D.x*u,D.y*u,D.z*u,W.u,W.v,et).transformMat4(r),vt=new a(F.x*u,F.y*u,F.z*u,Z.u,Z.v,et).transformMat4(r);T.verts.push(it,ht,vt),T.faces.push(new e(it,ht,vt))}return h&&(h.faces=h.faces.concat(T.faces),h.vertices=h.vertices.concat(T.verts)),T};p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),d=t(0),o=t(11),a=t(200),s=t(12),i=new d({Extends:e,Mixins:[o.ScrollFactor,o.Visible],initialize:function(l,n,h,u,v,f,c){e.call(this,l,n,h),this.color=new a(u,v,f),this.intensity=c,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(r){return!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},setColor:function(r){var l=s.getFloatsFromUintRGB(r);return this.color.set(l[0],l[1],l[2]),this},setIntensity:function(r){return this.intensity=r,this},setRadius:function(r){return this.radius=r,this}});i.RENDER_MASK=15,p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(151),d=t(0),o=t(50),a=t(481),s=t(150),i=t(200),r=t(74),l=t(79),n=t(12),h=new d({initialize:function(){this.lights=[],this.ambientColor=new i(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(u,v,f,c,g,m){return this.systems.displayList.add(new s(this.scene,u,v,f,c,g,m))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(u){for(var v=this.lights,f=u.worldView,c=[],g=0;g<v.length;g++){var m=v[g];m.willRender(u)&&e(m,f)&&c.push({light:m,distance:o(m.x,m.y,f.centerX,f.centerY)})}return c.length>this.maxLights&&(l(c,this.sortByDistance),c=c.slice(0,this.maxLights)),this.visibleLights=c.length,c},sortByDistance:function(u,v){return u.distance>=v.distance},setAmbientColor:function(u){var v=n.getFloatsFromUintRGB(u);return this.ambientColor.set(v[0],v[1],v[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(u,v,f,c,g){u===void 0&&(u=0),v===void 0&&(v=0),f===void 0&&(f=128),c===void 0&&(c=16777215),g===void 0&&(g=1);var m=n.getFloatsFromUintRGB(c),x=new a(u,v,f,m[0],m[1],m[2],g);return this.lights.push(x),x},removeLight:function(u){var v=this.lights.indexOf(u);return v>=0&&r(this.lights,v),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});p.exports=h},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(56),d=t(17),o={Circle:t(1191),Ellipse:t(1201),Intersects:t(484),Line:t(1221),Mesh:t(1243),Point:t(1246),Polygon:t(1260),Rectangle:t(502),Triangle:t(1293)};o=d(!1,o,e),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CircleToCircle:t(231),CircleToRectangle:t(151),GetCircleToCircle:t(1211),GetCircleToRectangle:t(1212),GetLineToCircle:t(232),GetLineToLine:t(485),GetLineToPoints:t(486),GetLineToPolygon:t(487),GetLineToRectangle:t(234),GetRaysFromPointToPolygon:t(1213),GetRectangleIntersection:t(1214),GetRectangleToRectangle:t(1215),GetRectangleToTriangle:t(1216),GetTriangleToCircle:t(1217),GetTriangleToLine:t(492),GetTriangleToTriangle:t(1218),LineToCircle:t(233),LineToLine:t(96),LineToRectangle:t(488),PointToLine:t(496),PointToLineSegment:t(1219),RectangleToRectangle:t(152),RectangleToTriangle:t(489),RectangleToValues:t(1220),TriangleToCircle:t(491),TriangleToLine:t(493),TriangleToTriangle:t(494)}},function(p,C,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),d=function(o,a,s){var i=o.x1,r=o.y1,l=o.x2,n=o.y2,h=a.x1,u=a.y1,v=a.x2,f=a.y2,c=l-i,g=n-r,m=v-h,x=f-u,y=x*c-m*g;if(c===0||y===0)return!1;var T=(c*(u-r)+g*(i-h))/(m*g-x*c),E=(h+m*T-i)/c;return E<0||T<0||T>1?null:(s===void 0&&(s=new e),s.set(i+c*E,r+g*E,E))};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),d=t(485),o=t(47),a=new o,s=new e,i=function(r,l,n){n===void 0&&(n=new e);var h=!1;n.set(),s.set();for(var u=l[0],v=1;v<l.length;v++){var f=l[v];a.setTo(u.x,u.y,f.x,f.y),u=f,d(r,a,s)&&(!h||s.z<n.z)&&(n.copy(s),h=!0)}return h?n:null};p.exports=i},function(p,C,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),d=t(140),o=t(486),a=new e,s=function(i,r,l){l===void 0&&(l=new d),Array.isArray(r)||(r=[r]);var n=!1;l.set(),a.set();for(var h=0;h<r.length;h++)o(i,r[h].points,a)&&(!n||a.z<l.z)&&(l.set(a.x,a.y,a.z,h),n=!0);return n?l:null};p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.x1,a=e.y1,s=e.x2,i=e.y2,r=d.x,l=d.y,n=d.right,h=d.bottom,u=0;if(o>=r&&o<=n&&a>=l&&a<=h||s>=r&&s<=n&&i>=l&&i<=h)return!0;if(o<r&&s>=r){if(u=a+(i-a)*(r-o)/(s-o),u>l&&u<=h)return!0}else if(o>n&&s<=n&&(u=a+(i-a)*(n-o)/(s-o),u>=l&&u<=h))return!0;if(a<l&&i>=l){if(u=o+(s-o)*(l-a)/(i-a),u>=r&&u<=n)return!0}else if(a>h&&i<=h&&(u=o+(s-o)*(h-a)/(i-a),u>=r&&u<=n))return!0;return!1};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),d=t(57),o=t(235),a=t(490),s=function(i,r){if(r.left>i.right||r.right<i.left||r.top>i.bottom||r.bottom<i.top)return!1;var l=r.getLineA(),n=r.getLineB(),h=r.getLineC();if(d(i,l.x1,l.y1)||d(i,l.x2,l.y2)||d(i,n.x1,n.y1)||d(i,n.x2,n.y2)||d(i,h.x1,h.y1)||d(i,h.x2,h.y2))return!0;var u=i.getLineA(),v=i.getLineB(),f=i.getLineC(),c=i.getLineD();if(e(l,u)||e(l,v)||e(l,f)||e(l,c)||e(n,u)||e(n,v)||e(n,f)||e(n,c)||e(h,u)||e(h,v)||e(h,f)||e(h,c))return!0;var g=a(i),m=o(r,g,!0);return m.length>0};p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d===void 0&&(d=[]),d.push({x:e.x,y:e.y}),d.push({x:e.right,y:e.y}),d.push({x:e.right,y:e.bottom}),d.push({x:e.x,y:e.bottom}),d};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(233),d=t(115),o=function(a,s){return a.left>s.right||a.right<s.left||a.top>s.bottom||a.bottom<s.top?!1:!!(d(a,s.x,s.y)||e(a.getLineA(),s)||e(a.getLineB(),s)||e(a.getLineC(),s))};p.exports=o},function(p,C,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=t(493),o=t(96),a=function(s,i,r){if(r===void 0&&(r=[]),d(s,i))for(var l=s.getLineA(),n=s.getLineB(),h=s.getLineC(),u=[new e,new e,new e],v=[o(l,i,u[0]),o(n,i,u[1]),o(h,i,u[2])],f=0;f<3;f++)v[f]&&r.push(u[f]);return r};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),d=function(o,a){return!!(o.contains(a.x1,a.y1)||o.contains(a.x2,a.y2)||e(o.getLineA(),a)||e(o.getLineB(),a)||e(o.getLineC(),a))};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(235),d=t(495),o=t(96),a=function(s,i){if(s.left>i.right||s.right<i.left||s.top>i.bottom||s.bottom<i.top)return!1;var r=s.getLineA(),l=s.getLineB(),n=s.getLineC(),h=i.getLineA(),u=i.getLineB(),v=i.getLineC();if(o(r,h)||o(r,u)||o(r,v)||o(l,h)||o(l,u)||o(l,v)||o(n,h)||o(n,u)||o(n,v))return!0;var f=d(s),c=e(i,f,!0);return c.length>0||(f=d(i),c=e(s,f,!0),c.length>0)};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d===void 0&&(d=[]),d.push({x:e.x1,y:e.y1}),d.push({x:e.x2,y:e.y2}),d.push({x:e.x3,y:e.y3}),d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){o===void 0&&(o=1);var a=d.x1,s=d.y1,i=d.x2,r=d.y2,l=e.x,n=e.y,h=(i-a)*(i-a)+(r-s)*(r-s);if(h===0)return!1;var u=((l-a)*(i-a)+(n-s)*(r-s))/h;if(u<0)return Math.sqrt((a-l)*(a-l)+(s-n)*(s-n))<=o;if(u>=0&&u<=1){var v=((s-n)*(i-a)-(a-l)*(r-s))/h;return Math.abs(v)*Math.sqrt(h)<=o}else return Math.sqrt((i-l)*(i-l)+(r-n)*(r-n))<=o};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),d=t(68),o=t(97),a=function(s){var i=o(s)-e.TAU;return d(i,-Math.PI,Math.PI)};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=!0,e="untitled",d="",o="";function a(g){var m=g.indexOf("#");return m>-1?g.substring(0,m):g}function s(g){return g.models.length===0&&g.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),d="",g.models[g.models.length-1]}function i(g,m){var x=g.length>=2?g[1]:e;m.models.push({faces:[],name:x,textureCoords:[],vertexNormals:[],vertices:[]}),d=""}function r(g){g.length===2&&(d=g[1])}function l(g,m){var x=g.length,y=x>=2?parseFloat(g[1]):0,T=x>=3?parseFloat(g[2]):0,E=x>=4?parseFloat(g[3]):0;s(m).vertices.push({x:y,y:T,z:E})}function n(g,m){var x=g.length,y=x>=2?parseFloat(g[1]):0,T=x>=3?parseFloat(g[2]):0,E=x>=4?parseFloat(g[3]):0;isNaN(y)&&(y=0),isNaN(T)&&(T=0),isNaN(E)&&(E=0),t&&(T=1-T),s(m).textureCoords.push({u:y,v:T,w:E})}function h(g,m){var x=g.length,y=x>=2?parseFloat(g[1]):0,T=x>=3?parseFloat(g[2]):0,E=x>=4?parseFloat(g[3]):0;s(m).vertexNormals.push({x:y,y:T,z:E})}function u(g,m){var x=g.length-1;if(!(x<3)){for(var y={group:d,material:o,vertices:[]},T=0;T<x;T++){var E=g[T+1],R=E.split("/"),M=R.length;if(!(M<1||M>3)){var P=0,O=0,I=0;P=parseInt(R[0],10),M>1&&R[1]!==""&&(O=parseInt(R[1],10)),M>2&&(I=parseInt(R[2],10)),P!==0&&(P<0&&(P=s(m).vertices.length+1+P),O-=1,P-=1,I-=1,y.vertices.push({textureCoordsIndex:O,vertexIndex:P,vertexNormalIndex:I}))}}s(m).faces.push(y)}}function v(g,m){g.length>=2&&m.materialLibraries.push(g[1])}function f(g){g.length>=2&&(o=g[1])}var c=function(g,m){m===void 0&&(m=!0),t=m;var x={materials:{},materialLibraries:[],models:[]};d="",o="";for(var y=g.split(`
`),T=0;T<y.length;T++){var E=a(y[T]),R=E.replace(/\s\s+/g," ").trim().split(" ");switch(R[0].toLowerCase()){case"o":i(R,x);break;case"g":r(R);break;case"v":l(R,x);break;case"vt":n(R,x);break;case"vn":h(R,x);break;case"f":u(R,x);break;case"mtllib":v(R,x);break;case"usemtl":f(R);break}}return x};p.exports=c},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),d=function(o){for(var a={},s=o.split(`
`),i="",r=0;r<s.length;r++){var l=s[r].trim();if(!(l.indexOf("#")===0||l==="")){var n=l.replace(/\s\s+/g," ").trim().split(" ");switch(n[0].toLowerCase()){case"newmtl":{i=n[1];break}case"kd":{var h=Math.floor(n[1]*255),u=n.length>=2?Math.floor(n[2]*255):h,v=n.length>=3?Math.floor(n[3]*255):h;a[i]=e(h,u,v);break}}}}return a};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x*e.x+e.y*e.y};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10);e.Area=t(1267),e.Ceil=t(1268),e.CeilAll=t(1269),e.CenterOn=t(190),e.Clone=t(1270),e.Contains=t(57),e.ContainsPoint=t(1271),e.ContainsRect=t(503),e.CopyFrom=t(1272),e.Decompose=t(490),e.Equals=t(1273),e.FitInside=t(1274),e.FitOutside=t(1275),e.Floor=t(1276),e.FloorAll=t(1277),e.FromPoints=t(199),e.FromXY=t(1278),e.GetAspectRatio=t(237),e.GetCenter=t(1279),e.GetPoint=t(171),e.GetPoints=t(306),e.GetSize=t(1280),e.Inflate=t(1281),e.Intersection=t(1282),e.MarchingAnts=t(316),e.MergePoints=t(1283),e.MergeRect=t(1284),e.MergeXY=t(1285),e.Offset=t(1286),e.OffsetPoint=t(1287),e.Overlaps=t(1288),e.Perimeter=t(130),e.PerimeterPoint=t(1289),e.Random=t(174),e.RandomOutside=t(1290),e.SameDimensions=t(1291),e.Scale=t(1292),e.Union=t(441),p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d.width*d.height>e.width*e.height?!1:d.x>e.x&&d.x<e.right&&d.right>e.x&&d.right<e.right&&d.y>e.y&&d.y<e.bottom&&d.bottom>e.y&&d.bottom<e.bottom};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){return a===void 0&&(a=new e),a.x=(o.x1+o.x2+o.x3)/3,a.y=(o.y1+o.y2+o.y3)/3,a};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e.x1+=d,e.y1+=o,e.x2+=d,e.y2+=o,e.x3+=d,e.y3+=o,e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);function d(a,s,i,r){var l=a-i,n=s-r,h=l*l+n*n;return Math.sqrt(h)}var o=function(a,s){s===void 0&&(s=new e);var i=a.x1,r=a.y1,l=a.x2,n=a.y2,h=a.x3,u=a.y3,v=d(h,u,l,n),f=d(i,r,h,u),c=d(l,n,i,r),g=v+f+c;return s.x=(i*v+l*f+h*c)/g,s.y=(r*v+n*f+u*c)/g,s};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return function(o,a,s,i){var r=e.getPixelAlpha(a,s,i.texture.key,i.frame.name);return r&&r>=d}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return{gameObject:e,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:d,hitAreaCallback:o,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s){this.pad=a,this.events=a.events,this.index=s,this.value=0,this.threshold=.1},update:function(o){this.value=o},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(239),o=new e({initialize:function(s,i){this.pad=s,this.events=s.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var s=this.pad,i=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(d.BUTTON_DOWN,s,this,a),this.pad.emit(d.GAMEPAD_BUTTON_DOWN,i,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(d.BUTTON_UP,s,this,a),this.pad.emit(d.GAMEPAD_BUTTON_UP,i,a,this))},destroy:function(){this.pad=null,this.events=null}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(509),d=t(510),o=t(0),a=t(9),s=t(3),i=new o({Extends:a,initialize:function(l,n){a.call(this),this.manager=l,this.pad=n,this.id=n.id,this.index=n.index;for(var h=[],u=0;u<n.buttons.length;u++)h.push(new d(this,u));this.buttons=h;var v=[];for(u=0;u<n.axes.length;u++)v.push(new e(this,u));this.axes=v,this.vibration=n.vibrationActuator;var f={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:f,this._LCRight=h[15]?h[15]:f,this._LCTop=h[12]?h[12]:f,this._LCBottom=h[13]?h[13]:f,this._RCLeft=h[2]?h[2]:f,this._RCRight=h[1]?h[1]:f,this._RCTop=h[3]?h[3]:f,this._RCBottom=h[0]?h[0]:f,this._FBLeftTop=h[4]?h[4]:f,this._FBLeftBottom=h[6]?h[6]:f,this._FBRightTop=h[5]?h[5]:f,this._FBRightBottom=h[7]?h[7]:f;var c={value:0};this._HAxisLeft=v[0]?v[0]:c,this._VAxisLeft=v[1]?v[1]:c,this._HAxisRight=v[2]?v[2]:c,this._VAxisRight=v[3]?v[3]:c,this.leftStick=new s,this.rightStick=new s,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(r){return this.axes[r].getValue()},setAxisThreshold:function(r){for(var l=0;l<this.axes.length;l++)this.axes[l].threshold=r},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(r){return this.buttons[r].value},isButtonDown:function(r){return this.buttons[r].pressed},update:function(r){if(!(r.timestamp<this._created)){var l,n=this.buttons,h=r.buttons,u=n.length;for(l=0;l<u;l++)n[l].update(h[l].value);var v=this.axes,f=r.axes;for(u=v.length,l=0;l<u;l++)v[l].update(f[l]);u>=2&&(this.leftStick.set(v[0].getValue(),v[1].getValue()),u>=4&&this.rightStick.set(v[2].getValue(),v[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var r;for(r=0;r<this.buttons.length;r++)this.buttons[r].destroy();for(r=0;r<this.axes.length;r++)this.axes[r].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(9),o=t(154),a=new e({Extends:d,initialize:function(i,r){d.call(this),this.plugin=i,this.keyCode=r,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(s){return this.emitOnRepeat=s,this},onDown:function(s){this.originalEvent=s,this.enabled&&(this.altKey=s.altKey,this.ctrlKey=s.ctrlKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.location=s.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(o.DOWN,this,s):(this.isDown=!0,this.isUp=!1,this.timeDown=s.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(o.DOWN,this,s)))},onUp:function(s){this.originalEvent=s,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=s.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(o.UP,this,s))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(154),o=t(2),a=t(514),s=t(516),i=new e({initialize:function(l,n,h){if(h===void 0&&(h={}),n.length<2)return!1;this.manager=l,this.enabled=!0,this.keyCodes=[];for(var u=0;u<n.length;u++){var v=n[u];typeof v=="string"?this.keyCodes.push(v.toUpperCase().charCodeAt(0)):typeof v=="number"?this.keyCodes.push(v):v.hasOwnProperty("keyCode")&&this.keyCodes.push(v.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=o(h,"resetOnWrongKey",!0),this.maxKeyDelay=o(h,"maxKeyDelay",0),this.resetOnMatch=o(h,"resetOnMatch",!1),this.deleteOnMatch=o(h,"deleteOnMatch",!1);var f=this,c=function(g){if(!(f.matched||!f.enabled)){var m=a(g,f);m&&(f.manager.emit(d.COMBO_MATCH,f,g),f.resetOnMatch?s(f):f.deleteOnMatch&&f.destroy())}};this.onKeyDown=c,this.manager.on(d.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(d.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(515),d=function(o,a){if(a.matched)return!0;var s=!1,i=!1;if(o.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var r=a.timeLastMatched+a.maxKeyDelay;o.timeStamp<=r&&(i=!0,s=e(o,a))}else i=!0,s=e(o,a);return!i&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),s&&(a.timeLastMatched=o.timeStamp,a.matched=!0,a.timeMatched=o.timeStamp),s};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d.timeLastMatched=e.timeStamp,d.index++,d.index===d.size?!0:(d.current=d.keyCodes[d.index],!1)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(240),d=function(o,a){var s=e(a,o.xhrSettings),i=new XMLHttpRequest;if(i.open("GET",o.src,s.async,s.user,s.password),i.responseType=o.xhrSettings.responseType,i.timeout=s.timeout,s.headers)for(var r in s.headers)i.setRequestHeader(r,s.headers[r]);return s.header&&s.headerValue&&i.setRequestHeader(s.header,s.headerValue),s.requestedWith&&i.setRequestHeader("X-Requested-With",s.requestedWith),s.overrideMimeType&&i.overrideMimeType(s.overrideMimeType),s.withCredentials&&(i.withCredentials=!0),i.onload=o.onLoad.bind(o,i),i.onerror=o.onError.bind(o,i),i.onprogress=o.onProgress.bind(o),i.send(),i};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(519),r=t(7),l=new e({Extends:o,initialize:function(h,u,v,f,c){if(r(u)){var g=u;u=s(g,"key"),f=s(g,"xhrSettings"),c=s(g,"context",c)}var m={type:"audio",cache:h.cacheManager.audio,extension:v.type,responseType:"arraybuffer",key:u,url:v.url,xhrSettings:f,config:{context:c}};o.call(this,h,m)},onProcess:function(){this.state=d.FILE_PROCESSING;var n=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){n.data=h,n.onProcessComplete()},function(h){console.error("Error decoding audio: "+n.key+" - ",h?h.message:null),n.onProcessError()}),this.config.context=null}});l.create=function(n,h,u,v,f){var c=n.systems.game,g=c.config.audio,m=c.device.audio;r(h)&&(u=s(h,"url",[]),v=s(h,"config",{}));var x=l.getAudioURL(c,u);return x?m.webAudio&&!g.disableWebAudio?new l(n,h,x,f,c.sound.context):new i(n,h,x,v):null},l.getAudioURL=function(n,h){Array.isArray(h)||(h=[h]);for(var u=0;u<h.length;u++){var v=s(h[u],"url",h[u]);if(v.indexOf("blob:")===0||v.indexOf("data:")===0)return{url:v,type:""};var f=v.match(/\.([a-zA-Z0-9]+)($|\?)/);if(f=s(h[u],"type",f?f[1]:"").toLowerCase(),n.device.audio[f])return{url:v,type:f}}return null},a.register("audio",function(n,h,u,v){var f=this.systems.game,c=f.config.audio,g=f.device.audio;if(c.noAudio||!g.webAudio&&!g.audioData)return this;var m;if(Array.isArray(n))for(var x=0;x<n.length;x++)m=l.create(this,n[x]),m&&this.addFile(m);else m=l.create(this,n,h,u,v),m&&this.addFile(m);return this}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(95),o=t(23),a=t(2),s=t(155),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v){if(i(h)){var f=h;h=a(f,"key"),v=a(f,"config",v)}var c={type:"audio",cache:n.cacheManager.audio,extension:u.type,key:h,url:u.url,config:v};o.call(this,n,c),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var l=0;l<this.data.length;l++){var n=this.data[l];n.oncanplaythrough=null,n.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(l){var n=l.target;n.oncanplaythrough=null,n.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var l=this.config&&this.config.instances||1;this.filesTotal=l,this.filesLoaded=0,this.percentComplete=0;for(var n=0;n<l;n++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+n).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(n=0;n<this.data.length;n++)h=this.data[n],h.src=s(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v){var f="js";if(i(h)){var c=h;h=s(c,"key"),u=s(c,"url"),v=s(c,"xhrSettings"),f=s(c,"extension",f)}var g={type:"script",cache:!1,extension:f,responseType:"text",key:h,url:u,xhrSettings:v};o.call(this,n,g)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(l,n,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,n,h));return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(522),d=t(157),o=t(0),a=t(62),s=t(524),i=t(525),r=new o({initialize:function(n){this.world=n,this.scene=n.scene,this.sys=n.scene.sys},collider:function(l,n,h,u,v){return this.world.addCollider(l,n,h,u,v)},overlap:function(l,n,h,u,v){return this.world.addOverlap(l,n,h,u,v)},existing:function(l,n){var h=n?a.STATIC_BODY:a.DYNAMIC_BODY;return this.world.enableBody(l,h),l},staticImage:function(l,n,h,u){var v=new e(this.scene,l,n,h,u);return this.sys.displayList.add(v),this.world.enableBody(v,a.STATIC_BODY),v},image:function(l,n,h,u){var v=new e(this.scene,l,n,h,u);return this.sys.displayList.add(v),this.world.enableBody(v,a.DYNAMIC_BODY),v},staticSprite:function(l,n,h,u){var v=new d(this.scene,l,n,h,u);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,a.STATIC_BODY),v},sprite:function(l,n,h,u){var v=new d(this.scene,l,n,h,u);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,a.DYNAMIC_BODY),v},staticGroup:function(l,n){return this.sys.updateList.add(new i(this.world,this.world.scene,l,n))},group:function(l,n){return this.sys.updateList.add(new s(this.world,this.world.scene,l,n))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(243),o=t(125),a=new e({Extends:o,Mixins:[d.Acceleration,d.Angular,d.Bounce,d.Debug,d.Drag,d.Enable,d.Friction,d.Gravity,d.Immovable,d.Mass,d.Pushable,d.Size,d.Velocity],initialize:function(i,r,l,n,h){o.call(this,i,r,l,n,h),this.body=null}});p.exports=a},function(p,C,t){var e=t(244),d=t(65),o=t(231),a=t(151),s=function(i,r,l,n,h,u){var v=e(i,r-n,l-n,2*n,2*n,h,u);if(v.length===0)return v;for(var f=new d(r,l,n),c=new d,g=[],m=0;m<v.length;m++){var x=v[m];x.isCircle?(c.setTo(x.center.x,x.center.y,x.halfWidth),o(f,c)&&g.push(x)):a(f,x)&&g.push(x)}return g};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),d=t(0),o=t(62),a=t(2),s=t(113),i=t(7),r=new d({Extends:s,initialize:function(n,h,u,v){if(!u&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(i(u))v=u,u=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(u)&&i(u[0])){v=u[0];var f=this;u.forEach(function(c){c.internalCreateCallback=f.createCallbackHandler,c.internalRemoveCallback=f.removeCallbackHandler}),u=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=n,v.classType=a(v,"classType",e),this.physicsType=o.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:a(v,"collideWorldBounds",!1),setBoundsRectangle:a(v,"customBoundsRectangle",null),setAccelerationX:a(v,"accelerationX",0),setAccelerationY:a(v,"accelerationY",0),setAllowDrag:a(v,"allowDrag",!0),setAllowGravity:a(v,"allowGravity",!0),setAllowRotation:a(v,"allowRotation",!0),setBounceX:a(v,"bounceX",0),setBounceY:a(v,"bounceY",0),setDragX:a(v,"dragX",0),setDragY:a(v,"dragY",0),setEnable:a(v,"enable",!0),setGravityX:a(v,"gravityX",0),setGravityY:a(v,"gravityY",0),setFrictionX:a(v,"frictionX",0),setFrictionY:a(v,"frictionY",0),setMaxVelocityX:a(v,"maxVelocityX",1e4),setMaxVelocityY:a(v,"maxVelocityY",1e4),setVelocityX:a(v,"velocityX",0),setVelocityY:a(v,"velocityY",0),setAngularVelocity:a(v,"angularVelocity",0),setAngularAcceleration:a(v,"angularAcceleration",0),setAngularDrag:a(v,"angularDrag",0),setMass:a(v,"mass",1),setImmovable:a(v,"immovable",!1)},s.call(this,h,u,v),this.type="PhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,o.DYNAMIC_BODY);var n=l.body;for(var h in this.defaults)n[h](this.defaults[h])},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},setVelocity:function(l,n,h){h===void 0&&(h=0);for(var u=this.getChildren(),v=0;v<u.length;v++)u[v].body.velocity.set(l+v*h,n+v*h);return this},setVelocityX:function(l,n){n===void 0&&(n=0);for(var h=this.getChildren(),u=0;u<h.length;u++)h[u].body.velocity.x=l+u*n;return this},setVelocityY:function(l,n){n===void 0&&(n=0);for(var h=this.getChildren(),u=0;u<h.length;u++)h[u].body.velocity.y=l+u*n;return this}});p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),d=t(0),o=t(62),a=t(2),s=t(113),i=t(7),r=new d({Extends:s,initialize:function(n,h,u,v){!u&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:e}:i(u)?(v=u,u=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=a(v,"classType",e)):Array.isArray(u)&&i(u[0])?(v=u,u=null,v.forEach(function(f){f.internalCreateCallback=this.createCallbackHandler,f.internalRemoveCallback=this.removeCallbackHandler,f.createMultipleCallback=this.createMultipleCallbackHandler,f.classType=a(f,"classType",e)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=n,this.physicsType=o.STATIC_BODY,s.call(this,h,u,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(l){l.body||this.world.enableBody(l,o.STATIC_BODY)},removeCallbackHandler:function(l){l.body&&this.world.disableBody(l)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var l=this.children.entries,n=0;n<l.length;n++)l[n].body.reset();return this}});p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(350),d=t(527),o=t(18),a=t(0),s=t(528),i=t(62),r=t(50),l=t(9),n=t(245),h=t(124),u=t(354),v=t(355),f=t(246),c=t(247),g=t(529),m=t(6),x=t(14),y=t(211),T=t(530),E=t(10),R=t(531),M=t(532),P=t(537),O=t(538),I=t(149),B=t(539),w=t(248),z=t(25),H=t(3),b=t(68),Q=new a({Extends:l,initialize:function(F,G){l.call(this),this.scene=F,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new y,this.gravity=new H(m(G,"gravity.x",0),m(G,"gravity.y",0)),this.bounds=new E(m(G,"x",0),m(G,"y",0),m(G,"width",F.sys.scale.width),m(G,"height",F.sys.scale.height)),this.checkCollision={up:m(G,"checkCollision.up",!0),down:m(G,"checkCollision.down",!0),left:m(G,"checkCollision.left",!0),right:m(G,"checkCollision.right",!0)},this.fps=m(G,"fps",60),this.fixedStep=m(G,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=m(G,"timeScale",1),this.OVERLAP_BIAS=m(G,"overlapBias",4),this.TILE_BIAS=m(G,"tileBias",16),this.forceX=m(G,"forceX",!1),this.isPaused=m(G,"isPaused",!1),this._total=0,this.drawDebug=m(G,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:m(G,"debugShowBody",!0),debugShowStaticBody:m(G,"debugShowStaticBody",!0),debugShowVelocity:m(G,"debugShowVelocity",!0),bodyDebugColor:m(G,"debugBodyColor",16711935),staticBodyDebugColor:m(G,"debugStaticBodyColor",255),velocityDebugColor:m(G,"debugVelocityColor",65280)},this.maxEntries=m(G,"maxEntries",16),this.useTree=m(G,"useTree",!0),this.tree=new R(this.maxEntries),this.staticTree=new R(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new z,this._tempMatrix2=new z,this.drawDebug&&this.createDebugGraphic()},enable:function(D,F){F===void 0&&(F=i.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var N=D[G];if(N.isParent)for(var X=N.getChildren(),V=0;V<X.length;V++){var W=X[V];W.isParent?this.enable(W,F):this.enableBody(W,F)}else this.enableBody(N,F)}},enableBody:function(D,F){return F===void 0&&(F=i.DYNAMIC_BODY),D.body||(F===i.DYNAMIC_BODY?D.body=new d(this,D):F===i.STATIC_BODY&&(D.body=new B(this,D))),this.add(D.body),D},add:function(D){return D.physicsType===i.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===i.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var F=0;F<D.length;F++){var G=D[F];if(G.isParent)for(var N=G.getChildren(),X=0;X<N.length;X++){var V=N[X];V.isParent?this.disable(V):this.disableBody(V.body)}else this.disableBody(G.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===i.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===i.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,F,G,N,X,V,W,Z){return this.bounds.setTo(D,F,G,N),X!==void 0&&this.setBoundsCollision(X,V,W,Z),this},setBoundsCollision:function(D,F,G,N){return D===void 0&&(D=!0),F===void 0&&(F=!0),G===void 0&&(G=!0),N===void 0&&(N=!0),this.checkCollision.left=D,this.checkCollision.right=F,this.checkCollision.up=G,this.checkCollision.down=N,this},pause:function(){return this.isPaused=!0,this.emit(n.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(n.RESUME),this},addCollider:function(D,F,G,N,X){G===void 0&&(G=null),N===void 0&&(N=null),X===void 0&&(X=G);var V=new s(this,!1,D,F,G,N,X);return this.colliders.add(V),V},addOverlap:function(D,F,G,N,X){G===void 0&&(G=null),N===void 0&&(N=null),X===void 0&&(X=G);var V=new s(this,!0,D,F,G,N,X);return this.colliders.add(V),V},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,F){if(!(this.isPaused||this.bodies.size===0)){var G,N=this._frameTime,X=this._frameTimeMS*this.timeScale;this._elapsed+=F;var V,W=this.bodies.entries,Z=this._elapsed>=X;for(this.fixedStep||(N=F*.001,Z=!0,this._elapsed=0),G=0;G<W.length;G++)V=W[G],V.enable&&V.preUpdate(Z,N);if(Z){this._elapsed-=X,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(W));var et=this.colliders.update();for(G=0;G<et.length;G++){var it=et[G];it.active&&it.update()}this.emit(n.WORLD_STEP,N)}for(;this._elapsed>=X;)this._elapsed-=X,this.step(N)}},step:function(D){var F,G,N=this.bodies.entries,X=N.length;for(F=0;F<X;F++)G=N[F],G.enable&&G.update(D);this.useTree&&(this.tree.clear(),this.tree.load(N));var V=this.colliders.update();for(F=0;F<V.length;F++){var W=V[F];W.active&&W.update()}this.emit(n.WORLD_STEP,D),this.stepsLastFrame++},postUpdate:function(){var D,F,G=this.bodies.entries,N=G.length,X=this.bodies,V=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<N;D++)F=G[D],F.enable&&F.postUpdate();if(this.drawDebug){var W=this.debugGraphic;for(W.clear(),D=0;D<N;D++)F=G[D],F.willDrawDebug()&&F.drawDebug(W);for(G=V.entries,N=G.length,D=0;D<N;D++)F=G[D],F.willDrawDebug()&&F.drawDebug(W)}var Z=this.pendingDestroy;if(Z.size>0){var et=this.tree,it=this.staticTree;for(G=Z.entries,N=G.length,D=0;D<N;D++)F=G[D],F.physicsType===i.DYNAMIC_BODY?(et.remove(F),X.delete(F)):F.physicsType===i.STATIC_BODY&&(it.remove(F),V.delete(F)),F.world=void 0,F.gameObject=void 0;Z.clear()}},updateMotion:function(D,F){D.allowRotation&&this.computeAngularVelocity(D,F),this.computeVelocity(D,F)},computeAngularVelocity:function(D,F){var G=D.angularVelocity,N=D.angularAcceleration,X=D.angularDrag,V=D.maxAngular;N?G+=N*F:D.allowDrag&&X&&(X*=F,u(G-X,0,.1)?G-=X:v(G+X,0,.1)?G+=X:G=0),G=o(G,-V,V);var W=G-D.angularVelocity;D.angularVelocity+=W,D.rotation+=D.angularVelocity*F},computeVelocity:function(D,F){var G=D.velocity.x,N=D.acceleration.x,X=D.drag.x,V=D.maxVelocity.x,W=D.velocity.y,Z=D.acceleration.y,et=D.drag.y,it=D.maxVelocity.y,ht=D.speed,vt=D.maxSpeed,lt=D.allowDrag,xt=D.useDamping;D.allowGravity&&(G+=(this.gravity.x+D.gravity.x)*F,W+=(this.gravity.y+D.gravity.y)*F),N?G+=N*F:lt&&X&&(xt?(X=Math.pow(X,F),G*=X,ht=Math.sqrt(G*G+W*W),h(ht,0,.001)&&(G=0)):(X*=F,u(G-X,0,.01)?G-=X:v(G+X,0,.01)?G+=X:G=0)),Z?W+=Z*F:lt&&et&&(xt?(et=Math.pow(et,F),W*=et,ht=Math.sqrt(G*G+W*W),h(ht,0,.001)&&(W=0)):(et*=F,u(W-et,0,.01)?W-=et:v(W+et,0,.01)?W+=et:W=0)),G=o(G,-V,V),W=o(W,-it,it),D.velocity.set(G,W),vt>-1&&ht>vt&&(D.velocity.normalize().scale(vt),ht=vt),D.speed=ht},separate:function(D,F,G,N,X,V){if(!V&&!D.enable||!F.enable||D.checkCollision.none||F.checkCollision.none||!this.intersects(D,F)||G&&G.call(N,D.gameObject,F.gameObject)===!1)return!1;if(D.isCircle&&F.isCircle)return this.separateCircle(D,F,X);if(D.isCircle!==F.isCircle){var W=D.isCircle?F:D,Z=D.isCircle?D:F,et={x:W.x,y:W.y,right:W.right,bottom:W.bottom},it=Z.center;if((it.y<et.y||it.y>et.bottom)&&(it.x<et.x||it.x>et.right))return this.separateCircle(D,F,X)}var ht=!1,vt=!1;X?(ht=P(D,F,X,this.OVERLAP_BIAS),vt=O(D,F,X,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(ht=P(D,F,X,this.OVERLAP_BIAS),this.intersects(D,F)&&(vt=O(D,F,X,this.OVERLAP_BIAS))):(vt=O(D,F,X,this.OVERLAP_BIAS),this.intersects(D,F)&&(ht=P(D,F,X,this.OVERLAP_BIAS)));var lt=ht||vt;return lt&&(X?(D.onOverlap||F.onOverlap)&&this.emit(n.OVERLAP,D.gameObject,F.gameObject,D,F):(D.onCollide||F.onCollide)&&this.emit(n.COLLIDE,D.gameObject,F.gameObject,D,F)),lt},separateCircle:function(D,F,G,N){f(D,F,!1,N),c(D,F,!1,N);var X=0;if(D.isCircle!==F.isCircle){var V={x:F.isCircle?D.position.x:F.position.x,y:F.isCircle?D.position.y:F.position.y,right:F.isCircle?D.right:F.right,bottom:F.isCircle?D.bottom:F.bottom},W={x:D.isCircle?D.center.x:F.center.x,y:D.isCircle?D.center.y:F.center.y,radius:D.isCircle?D.halfWidth:F.halfWidth};W.y<V.y?W.x<V.x?X=r(W.x,W.y,V.x,V.y)-W.radius:W.x>V.right&&(X=r(W.x,W.y,V.right,V.y)-W.radius):W.y>V.bottom&&(W.x<V.x?X=r(W.x,W.y,V.x,V.bottom)-W.radius:W.x>V.right&&(X=r(W.x,W.y,V.right,V.bottom)-W.radius)),X*=-1}else X=D.halfWidth+F.halfWidth-r(D.center.x,D.center.y,F.center.x,F.center.y);if(D.overlapR=X,F.overlapR=X,G||X===0||D.immovable&&F.immovable||D.customSeparateX||F.customSeparateX)return X!==0&&(D.onOverlap||F.onOverlap)&&this.emit(n.OVERLAP,D.gameObject,F.gameObject,D,F),X!==0;var Z=D.center.x-F.center.x,et=D.center.y-F.center.y,it=Math.sqrt(Math.pow(Z,2)+Math.pow(et,2)),ht=(F.center.x-D.center.x)/it||0,vt=(F.center.y-D.center.y)/it||0,lt=2*(D.velocity.x*ht+D.velocity.y*vt-F.velocity.x*ht-F.velocity.y*vt)/(D.mass+F.mass);(D.immovable||F.immovable)&&(lt*=2),D.immovable||(D.velocity.x=D.velocity.x-lt/D.mass*ht,D.velocity.y=D.velocity.y-lt/D.mass*vt),F.immovable||(F.velocity.x=F.velocity.x+lt/F.mass*ht,F.velocity.y=F.velocity.y+lt/F.mass*vt),!D.immovable&&!F.immovable&&(X/=2);var xt=e(D.center,F.center),st=(X+x.EPSILON)*Math.cos(xt),mt=(X+x.EPSILON)*Math.sin(xt);return D.immovable||(D.x-=st,D.y-=mt,D.updateCenter()),F.immovable||(F.x+=st,F.y+=mt,F.updateCenter()),D.velocity.x*=D.bounce.x,D.velocity.y*=D.bounce.y,F.velocity.x*=F.bounce.x,F.velocity.y*=F.bounce.y,(D.onCollide||F.onCollide)&&this.emit(n.COLLIDE,D.gameObject,F.gameObject,D,F),!0},intersects:function(D,F){return D===F?!1:!D.isCircle&&!F.isCircle?!(D.right<=F.position.x||D.bottom<=F.position.y||D.position.x>=F.right||D.position.y>=F.bottom):D.isCircle?F.isCircle?r(D.center.x,D.center.y,F.center.x,F.center.y)<=D.halfWidth+F.halfWidth:this.circleBodyIntersects(D,F):this.circleBodyIntersects(F,D)},circleBodyIntersects:function(D,F){var G=o(D.center.x,F.left,F.right),N=o(D.center.y,F.top,F.bottom),X=(D.center.x-G)*(D.center.x-G),V=(D.center.y-N)*(D.center.y-N);return X+V<=D.halfWidth*D.halfWidth},overlap:function(D,F,G,N,X){return G===void 0&&(G=null),N===void 0&&(N=null),X===void 0&&(X=G),this.collideObjects(D,F,G,N,X,!0)},collide:function(D,F,G,N,X){return G===void 0&&(G=null),N===void 0&&(N=null),X===void 0&&(X=G),this.collideObjects(D,F,G,N,X,!1)},collideObjects:function(D,F,G,N,X,V){var W,Z;D.isParent&&D.physicsType===void 0&&(D=D.children.entries),F&&F.isParent&&F.physicsType===void 0&&(F=F.children.entries);var et=Array.isArray(D),it=Array.isArray(F);if(this._total=0,!et&&!it)this.collideHandler(D,F,G,N,X,V);else if(!et&&it)for(W=0;W<F.length;W++)this.collideHandler(D,F[W],G,N,X,V);else if(et&&!it)if(F)for(W=0;W<D.length;W++)this.collideHandler(D[W],F,G,N,X,V);else for(W=0;W<D.length;W++){var ht=D[W];for(Z=W+1;Z<D.length;Z++)W!==Z&&this.collideHandler(ht,D[Z],G,N,X,V)}else for(W=0;W<D.length;W++)for(Z=0;Z<F.length;Z++)this.collideHandler(D[W],F[Z],G,N,X,V);return this._total>0},collideHandler:function(D,F,G,N,X,V){if(F===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,G,N,X,V);if(!D||!F)return!1;if(D.body){if(F.body)return this.collideSpriteVsSprite(D,F,G,N,X,V);if(F.isParent)return this.collideSpriteVsGroup(D,F,G,N,X,V);if(F.isTilemap)return this.collideSpriteVsTilemapLayer(D,F,G,N,X,V)}else if(D.isParent){if(F.body)return this.collideSpriteVsGroup(F,D,G,N,X,V);if(F.isParent)return this.collideGroupVsGroup(D,F,G,N,X,V);if(F.isTilemap)return this.collideGroupVsTilemapLayer(D,F,G,N,X,V)}else if(D.isTilemap){if(F.body)return this.collideSpriteVsTilemapLayer(F,D,G,N,X,V);if(F.isParent)return this.collideGroupVsTilemapLayer(F,D,G,N,X,V)}},collideSpriteVsSprite:function(D,F,G,N,X,V){return!D.body||!F.body?!1:(this.separate(D.body,F.body,N,X,V)&&(G&&G.call(X,D,F),this._total++),!0)},collideSpriteVsGroup:function(D,F,G,N,X,V){var W=D.body;if(!(F.length===0||!W||!W.enable||W.checkCollision.none)){var Z,et,it;if(this.useTree||F.physicsType===i.STATIC_BODY){var ht=this.treeMinMax;ht.minX=W.left,ht.minY=W.top,ht.maxX=W.right,ht.maxY=W.bottom;var vt=F.physicsType===i.DYNAMIC_BODY?this.tree.search(ht):this.staticTree.search(ht);for(et=vt.length,Z=0;Z<et;Z++)it=vt[Z],!(W===it||!it.enable||it.checkCollision.none||!F.contains(it.gameObject))&&this.separate(W,it,N,X,V,!0)&&(G&&G.call(X,W.gameObject,it.gameObject),this._total++)}else{var lt=F.getChildren(),xt=F.children.entries.indexOf(D);for(et=lt.length,Z=0;Z<et;Z++)it=lt[Z].body,!(!it||Z===xt||!it.enable)&&this.separate(W,it,N,X,V)&&(G&&G.call(X,W.gameObject,it.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,F,G,N,X,V){var W=D.getChildren();if(W.length===0)return!1;for(var Z=!1,et=0;et<W.length;et++)W[et].body&&this.collideSpriteVsTilemapLayer(W[et],F,G,N,X,V)&&(Z=!0);return Z},collideTiles:function(D,F,G,N,X){return!D.body.enable||F.length===0?!1:this.collideSpriteVsTilesHandler(D,F,G,N,X,!1,!1)},overlapTiles:function(D,F,G,N,X){return!D.body.enable||F.length===0?!1:this.collideSpriteVsTilesHandler(D,F,G,N,X,!0,!1)},collideSpriteVsTilemapLayer:function(D,F,G,N,X,V){var W=D.body;if(!W.enable||W.checkCollision.none)return!1;var Z=W.position.x,et=W.position.y,it=W.width,ht=W.height,vt=F.layer;if(vt.tileWidth>vt.baseTileWidth){var lt=(vt.tileWidth-vt.baseTileWidth)*F.scaleX;Z-=lt,it+=lt}if(vt.tileHeight>vt.baseTileHeight){var xt=(vt.tileHeight-vt.baseTileHeight)*F.scaleY;ht+=xt}var st=g(Z,et,it,ht,null,F.scene.cameras.main,F.layer);return st.length===0?!1:this.collideSpriteVsTilesHandler(D,st,G,N,X,V,!0)},collideSpriteVsTilesHandler:function(D,F,G,N,X,V,W){for(var Z=D.body,et,it={left:0,right:0,top:0,bottom:0},ht,vt=!1,lt=0;lt<F.length;lt++){et=F[lt],ht=et.tilemapLayer;var xt=ht.tileToWorldXY(et.x,et.y);it.left=xt.x,it.top=xt.y,et.baseHeight!==et.height&&(it.top-=(et.height-et.baseHeight)*ht.scaleY),it.right=it.left+et.width*ht.scaleX,it.bottom=it.top+et.height*ht.scaleY,w(it,Z)&&(!N||N.call(X,D,et))&&T(et,D)&&(V||M(lt,Z,et,it,ht,this.TILE_BIAS,W))&&(this._total++,vt=!0,G&&G.call(X,D,et),V&&Z.onOverlap?this.emit(n.TILE_OVERLAP,D,et,Z):Z.onCollide&&this.emit(n.TILE_COLLIDE,D,et,Z))}return vt},collideGroupVsGroup:function(D,F,G,N,X,V){if(!(D.length===0||F.length===0))for(var W=D.getChildren(),Z=0;Z<W.length;Z++)this.collideSpriteVsGroup(W[Z],F,G,N,X,V)},wrap:function(D,F){D.body?this.wrapObject(D,F):D.getChildren?this.wrapArray(D.getChildren(),F):Array.isArray(D)?this.wrapArray(D,F):this.wrapObject(D,F)},wrapArray:function(D,F){for(var G=0;G<D.length;G++)this.wrapObject(D[G],F)},wrapObject:function(D,F){F===void 0&&(F=0),D.x=b(D.x,this.bounds.left-F,this.bounds.right+F),D.y=b(D.y,this.bounds.top-F,this.bounds.bottom+F)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});p.exports=Q},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(62),o=t(245),a=t(196),s=t(10),i=t(57),r=t(3),l=new e({initialize:function(h,u){var v=u.displayWidth?u.displayWidth:64,f=u.displayHeight?u.displayHeight:64;this.world=h,this.gameObject=u,this.transform={x:u.x,y:u.y,rotation:u.angle,scaleX:u.scaleX,scaleY:u.scaleY,displayOriginX:u.displayOriginX,displayOriginY:u.displayOriginY},this.debugShowBody=h.defaults.debugShowBody,this.debugShowVelocity=h.defaults.debugShowVelocity,this.debugBodyColor=h.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(u.x-u.scaleX*u.displayOriginX,u.y-u.scaleY*u.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=u.angle,this.preRotation=u.angle,this.width=v,this.height=f,this.sourceWidth=v,this.sourceHeight=f,u.frame&&(this.sourceWidth=u.frame.realWidth,this.sourceHeight=u.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(f/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new r,this.newVelocity=new r,this.deltaMax=new r,this.acceleration=new r,this.allowDrag=!0,this.drag=new r,this.allowGravity=!0,this.gravity=new r,this.bounce=new r,this.worldBounce=null,this.customBoundsRectangle=h.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new r(1e4,1e4),this.maxSpeed=-1,this.friction=new r(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=d.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=d.DYNAMIC_BODY,this._sx=u.scaleX,this._sy=u.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new s},updateBounds:function(){var n=this.gameObject,h=this.transform;if(n.parentContainer){var u=n.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);h.x=u.tx,h.y=u.ty,h.rotation=a(u.rotation),h.scaleX=u.scaleX,h.scaleY=u.scaleY,h.displayOriginX=n.displayOriginX,h.displayOriginY=n.displayOriginY}else h.x=n.x,h.y=n.y,h.rotation=n.angle,h.scaleX=n.scaleX,h.scaleY=n.scaleY,h.displayOriginX=n.displayOriginX,h.displayOriginY=n.displayOriginY;var v=!1;if(this.syncBounds){var f=n.getBounds(this._bounds);this.width=f.width,this.height=f.height,v=!0}else{var c=Math.abs(h.scaleX),g=Math.abs(h.scaleY);(this._sx!==c||this._sy!==g)&&(this.width=this.sourceWidth*c,this.height=this.sourceHeight*g,this._sx=c,this._sy=g,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var n=this.transform;this.position.x=n.x+n.scaleX*(this.offset.x-n.displayOriginX),this.position.y=n.y+n.scaleY*(this.offset.y-n.displayOriginY),this.updateCenter()},resetFlags:function(n){n===void 0&&(n=!1);var h=this.wasTouching,u=this.touching,v=this.blocked;n?(h.none=!0,h.up=!1,h.down=!1,h.left=!1,h.right=!1):(h.none=u.none,h.up=u.up,h.down=u.down,h.left=u.left,h.right=u.right),u.none=!0,u.up=!1,u.down=!1,u.left=!1,u.right=!1,v.none=!0,v.up=!1,v.down=!1,v.left=!1,v.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(n,h){n&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),n&&this.update(h)},update:function(n){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,n);var h=this.velocity.x,u=this.velocity.y;this.newVelocity.set(h*n,u*n),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(u,h),this.speed=Math.sqrt(h*h+u*u),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(o.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var n=this.position.x-this.prevFrame.x,h=this.position.y-this.prevFrame.y;if(this.moves){var u=this.deltaMax.x,v=this.deltaMax.y;u!==0&&n!==0&&(n<0&&n<-u?n=-u:n>0&&n>u&&(n=u)),v!==0&&h!==0&&(h<0&&h<-v?h=-v:h>0&&h>v&&(h=v)),this.gameObject.x+=n,this.gameObject.y+=h}n<0?this.facing=d.FACING_LEFT:n>0&&(this.facing=d.FACING_RIGHT),h<0?this.facing=d.FACING_UP:h>0&&(this.facing=d.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=n,this._ty=h},setBoundsRectangle:function(n){return this.customBoundsRectangle=n||this.world.bounds,this},checkWorldBounds:function(){var n=this.position,h=this.customBoundsRectangle,u=this.world.checkCollision,v=this.worldBounce?-this.worldBounce.x:-this.bounce.x,f=this.worldBounce?-this.worldBounce.y:-this.bounce.y,c=!1;return n.x<h.x&&u.left?(n.x=h.x,this.velocity.x*=v,this.blocked.left=!0,c=!0):this.right>h.right&&u.right&&(n.x=h.right-this.width,this.velocity.x*=v,this.blocked.right=!0,c=!0),n.y<h.y&&u.up?(n.y=h.y,this.velocity.y*=f,this.blocked.up=!0,c=!0):this.bottom>h.bottom&&u.down&&(n.y=h.bottom-this.height,this.velocity.y*=f,this.blocked.down=!0,c=!0),c&&(this.blocked.none=!1,this.updateCenter()),c},setOffset:function(n,h){return h===void 0&&(h=n),this.offset.set(n,h),this},setSize:function(n,h,u){u===void 0&&(u=!0);var v=this.gameObject;if(!n&&v.frame&&(n=v.frame.realWidth),!h&&v.frame&&(h=v.frame.realHeight),this.sourceWidth=n,this.sourceHeight=h,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),u&&v.getCenter){var f=(v.width-n)/2,c=(v.height-h)/2;this.offset.set(f,c)}return this.isCircle=!1,this.radius=0,this},setCircle:function(n,h,u){return h===void 0&&(h=this.offset.x),u===void 0&&(u=this.offset.y),n>0?(this.isCircle=!0,this.radius=n,this.sourceWidth=n*2,this.sourceHeight=n*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,u),this.updateCenter()):this.isCircle=!1,this},reset:function(n,h){this.stop();var u=this.gameObject;u.setPosition(n,h),u.getTopLeft?u.getTopLeft(this.position):this.position.set(n,h),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=u.angle,this.preRotation=u.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(n){return n.x=this.x,n.y=this.y,n.right=this.right,n.bottom=this.bottom,n},hitTest:function(n,h){if(!this.isCircle)return i(this,n,h);if(this.radius>0&&n>=this.left&&n<=this.right&&h>=this.top&&h<=this.bottom){var u=(this.center.x-n)*(this.center.x-n),v=(this.center.y-h)*(this.center.y-h);return u+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(n){var h=this.position,u=h.x+this.halfWidth,v=h.y+this.halfHeight;this.debugShowBody&&(n.lineStyle(n.defaultStrokeWidth,this.debugBodyColor),this.isCircle?n.strokeCircle(u,v,this.width/2):(this.checkCollision.up&&n.lineBetween(h.x,h.y,h.x+this.width,h.y),this.checkCollision.right&&n.lineBetween(h.x+this.width,h.y,h.x+this.width,h.y+this.height),this.checkCollision.down&&n.lineBetween(h.x,h.y+this.height,h.x+this.width,h.y+this.height),this.checkCollision.left&&n.lineBetween(h.x,h.y,h.x,h.y+this.height))),this.debugShowVelocity&&(n.lineStyle(n.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),n.lineBetween(u,v,u+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(n,h,u,v){n===void 0&&(n=!0),this.collideWorldBounds=n;var f=h!==void 0,c=u!==void 0;return(f||c)&&(this.worldBounce||(this.worldBounce=new r),f&&(this.worldBounce.x=h),c&&(this.worldBounce.y=u)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(n,h){return this.velocity.set(n,h),n=this.velocity.x,h=this.velocity.y,this.speed=Math.sqrt(n*n+h*h),this},setVelocityX:function(n){this.velocity.x=n;var h=n,u=this.velocity.y;return this.speed=Math.sqrt(h*h+u*u),this},setVelocityY:function(n){this.velocity.y=n;var h=this.velocity.x,u=n;return this.speed=Math.sqrt(h*h+u*u),this},setMaxVelocity:function(n,h){return this.maxVelocity.set(n,h),this},setMaxVelocityX:function(n){return this.maxVelocity.x=n,this},setMaxVelocityY:function(n){return this.maxVelocity.y=n,this},setMaxSpeed:function(n){return this.maxSpeed=n,this},setBounce:function(n,h){return this.bounce.set(n,h),this},setBounceX:function(n){return this.bounce.x=n,this},setBounceY:function(n){return this.bounce.y=n,this},setAcceleration:function(n,h){return this.acceleration.set(n,h),this},setAccelerationX:function(n){return this.acceleration.x=n,this},setAccelerationY:function(n){return this.acceleration.y=n,this},setAllowDrag:function(n){return n===void 0&&(n=!0),this.allowDrag=n,this},setAllowGravity:function(n){return n===void 0&&(n=!0),this.allowGravity=n,this},setAllowRotation:function(n){return n===void 0&&(n=!0),this.allowRotation=n,this},setDrag:function(n,h){return this.drag.set(n,h),this},setDamping:function(n){return this.useDamping=n,this},setDragX:function(n){return this.drag.x=n,this},setDragY:function(n){return this.drag.y=n,this},setGravity:function(n,h){return this.gravity.set(n,h),this},setGravityX:function(n){return this.gravity.x=n,this},setGravityY:function(n){return this.gravity.y=n,this},setFriction:function(n,h){return this.friction.set(n,h),this},setFrictionX:function(n){return this.friction.x=n,this},setFrictionY:function(n){return this.friction.y=n,this},setAngularVelocity:function(n){return this.angularVelocity=n,this},setAngularAcceleration:function(n){return this.angularAcceleration=n,this},setAngularDrag:function(n){return this.angularDrag=n,this},setMass:function(n){return this.mass=n,this},setImmovable:function(n){return n===void 0&&(n=!0),this.immovable=n,this},setEnable:function(n){return n===void 0&&(n=!0),this.enable=n,this},processX:function(n,h,u,v){this.x+=n,this.updateCenter(),h!==null&&(this.velocity.x=h);var f=this.blocked;u&&(f.left=!0),v&&(f.right=!0)},processY:function(n,h,u,v){this.y+=n,this.updateCenter(),h!==null&&(this.velocity.y=h);var f=this.blocked;u&&(f.up=!0),v&&(f.down=!0)},x:{get:function(){return this.position.x},set:function(n){this.position.x=n}},y:{get:function(){return this.position.y},set:function(n){this.position.y=n}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s,i,r,l,n,h){this.world=a,this.name="",this.active=!0,this.overlapOnly=s,this.object1=i,this.object2=r,this.collideCallback=l,this.processCallback=n,this.callbackContext=h},setName:function(o){return this.name=o,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=t(3),o=new d,a=new d,s=function(i,r,l,n,h,u,v){var f=v.tilemapLayer.tilemap._convert.WorldToTileXY;f(i,r,!0,o,u,v);var c=o.x,g=o.y;f(i+l,r+n,!1,a,u,v);var m=Math.ceil(a.x),x=Math.ceil(a.y);return e(c,g,m-c,x-g,h,v)};p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,d,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,d,e):!0};p.exports=t},function(p,C,t){/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(436);function d(x){var y=[".left",".top",".right",".bottom"];if(!(this instanceof d))return new d(x,y);this._maxEntries=Math.max(4,x||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}d.prototype={all:function(){return this._all(this.data,[])},search:function(x){var y=this.data,T=[],E=this.toBBox;if(!c(x,y))return T;for(var R=[],M,P,O,I;y;){for(M=0,P=y.children.length;M<P;M++)O=y.children[M],I=y.leaf?E(O):O,c(x,I)&&(y.leaf?T.push(O):f(x,I)?this._all(O,T):R.push(O));y=R.pop()}return T},collides:function(x){var y=this.data,T=this.toBBox;if(!c(x,y))return!1;for(var E=[],R,M,P,O;y;){for(R=0,M=y.children.length;R<M;R++)if(P=y.children[R],O=y.leaf?T(P):P,c(x,O)){if(y.leaf||f(x,O))return!0;E.push(P)}y=E.pop()}return!1},load:function(x){if(!(x&&x.length))return this;if(x.length<this._minEntries){for(var y=0,T=x.length;y<T;y++)this.insert(x[y]);return this}var E=this._build(x.slice(),0,x.length-1,0);if(!this.data.children.length)this.data=E;else if(this.data.height===E.height)this._splitRoot(this.data,E);else{if(this.data.height<E.height){var R=this.data;this.data=E,E=R}this._insert(E,this.data.height-E.height-1,!0)}return this},insert:function(x){return x&&this._insert(x,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(x,y){if(!x)return this;for(var T=this.data,E=this.toBBox(x),R=[],M=[],P,O,I,B;T||R.length;){if(T||(T=R.pop(),O=R[R.length-1],P=M.pop(),B=!0),T.leaf&&(I=o(x,T.children,y),I!==-1))return T.children.splice(I,1),R.push(T),this._condense(R),this;!B&&!T.leaf&&f(T,E)?(R.push(T),M.push(P),P=0,O=T,T=T.children[0]):O?(P++,T=O.children[P],B=!1):T=null}return this},toBBox:function(x){return x},compareMinX:r,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(x){return this.data=x,this},_all:function(x,y){for(var T=[];x;)x.leaf?y.push.apply(y,x.children):T.push.apply(T,x.children),x=T.pop();return y},_build:function(x,y,T,E){var R=T-y+1,M=this._maxEntries,P;if(R<=M)return P=g(x.slice(y,T+1)),a(P,this.toBBox),P;E||(E=Math.ceil(Math.log(R)/Math.log(M)),M=Math.ceil(R/Math.pow(M,E-1))),P=g([]),P.leaf=!1,P.height=E;var O=Math.ceil(R/M),I=O*Math.ceil(Math.sqrt(M)),B,w,z,H;for(m(x,y,T,I,this.compareMinX),B=y;B<=T;B+=I)for(z=Math.min(B+I-1,T),m(x,B,z,O,this.compareMinY),w=B;w<=z;w+=O)H=Math.min(w+O-1,z),P.children.push(this._build(x,w,H,E-1));return a(P,this.toBBox),P},_chooseSubtree:function(x,y,T,E){for(var R,M,P,O,I,B,w,z;E.push(y),!(y.leaf||E.length-1===T);){for(w=z=1/0,R=0,M=y.children.length;R<M;R++)P=y.children[R],I=n(P),B=u(x,P)-I,B<z?(z=B,w=I<w?I:w,O=P):B===z&&I<w&&(w=I,O=P);y=O||y.children[0]}return y},_insert:function(x,y,T){var E=this.toBBox,R=T?x:E(x),M=[],P=this._chooseSubtree(R,this.data,y,M);for(P.children.push(x),i(P,R);y>=0&&M[y].children.length>this._maxEntries;)this._split(M,y),y--;this._adjustParentBBoxes(R,M,y)},_split:function(x,y){var T=x[y],E=T.children.length,R=this._minEntries;this._chooseSplitAxis(T,R,E);var M=this._chooseSplitIndex(T,R,E),P=g(T.children.splice(M,T.children.length-M));P.height=T.height,P.leaf=T.leaf,a(T,this.toBBox),a(P,this.toBBox),y?x[y-1].children.push(P):this._splitRoot(T,P)},_splitRoot:function(x,y){this.data=g([x,y]),this.data.height=x.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(x,y,T){var E,R,M,P,O,I,B,w;for(I=B=1/0,E=y;E<=T-y;E++)R=s(x,0,E,this.toBBox),M=s(x,E,T,this.toBBox),P=v(R,M),O=n(R)+n(M),P<I?(I=P,w=E,B=O<B?O:B):P===I&&O<B&&(B=O,w=E);return w},_chooseSplitAxis:function(x,y,T){var E=x.leaf?this.compareMinX:r,R=x.leaf?this.compareMinY:l,M=this._allDistMargin(x,y,T,E),P=this._allDistMargin(x,y,T,R);M<P&&x.children.sort(E)},_allDistMargin:function(x,y,T,E){x.children.sort(E);var R=this.toBBox,M=s(x,0,y,R),P=s(x,T-y,T,R),O=h(M)+h(P),I,B;for(I=y;I<T-y;I++)B=x.children[I],i(M,x.leaf?R(B):B),O+=h(M);for(I=T-y-1;I>=y;I--)B=x.children[I],i(P,x.leaf?R(B):B),O+=h(P);return O},_adjustParentBBoxes:function(x,y,T){for(var E=T;E>=0;E--)i(y[E],x)},_condense:function(x){for(var y=x.length-1,T;y>=0;y--)x[y].children.length===0?y>0?(T=x[y-1].children,T.splice(T.indexOf(x[y]),1)):this.clear():a(x[y],this.toBBox)},compareMinX:function(x,y){return x.left-y.left},compareMinY:function(x,y){return x.top-y.top},toBBox:function(x){return{minX:x.left,minY:x.top,maxX:x.right,maxY:x.bottom}}};function o(x,y,T){if(!T)return y.indexOf(x);for(var E=0;E<y.length;E++)if(T(x,y[E]))return E;return-1}function a(x,y){s(x,0,x.children.length,y,x)}function s(x,y,T,E,R){R||(R=g(null)),R.minX=1/0,R.minY=1/0,R.maxX=-1/0,R.maxY=-1/0;for(var M=y,P;M<T;M++)P=x.children[M],i(R,x.leaf?E(P):P);return R}function i(x,y){return x.minX=Math.min(x.minX,y.minX),x.minY=Math.min(x.minY,y.minY),x.maxX=Math.max(x.maxX,y.maxX),x.maxY=Math.max(x.maxY,y.maxY),x}function r(x,y){return x.minX-y.minX}function l(x,y){return x.minY-y.minY}function n(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function h(x){return x.maxX-x.minX+(x.maxY-x.minY)}function u(x,y){return(Math.max(y.maxX,x.maxX)-Math.min(y.minX,x.minX))*(Math.max(y.maxY,x.maxY)-Math.min(y.minY,x.minY))}function v(x,y){var T=Math.max(x.minX,y.minX),E=Math.max(x.minY,y.minY),R=Math.min(x.maxX,y.maxX),M=Math.min(x.maxY,y.maxY);return Math.max(0,R-T)*Math.max(0,M-E)}function f(x,y){return x.minX<=y.minX&&x.minY<=y.minY&&y.maxX<=x.maxX&&y.maxY<=x.maxY}function c(x,y){return y.minX<=x.maxX&&y.minY<=x.maxY&&y.maxX>=x.minX&&y.maxY>=x.minY}function g(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(x,y,T,E,R){for(var M=[y,T],P;M.length;)T=M.pop(),y=M.pop(),!(T-y<=E)&&(P=y+Math.ceil((T-y)/E/2)*E,e(x,P,y,T,R),M.push(y,P,P,T))}p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(533),d=t(535),o=t(248),a=function(s,i,r,l,n,h,u){var v=l.left,f=l.top,c=l.right,g=l.bottom,m=r.faceLeft||r.faceRight,x=r.faceTop||r.faceBottom;if(u||(m=!0,x=!0),!m&&!x)return!1;var y=0,T=0,E=0,R=1;if(i.deltaAbsX()>i.deltaAbsY()?E=-1:i.deltaAbsX()<i.deltaAbsY()&&(R=-1),i.deltaX()!==0&&i.deltaY()!==0&&m&&x&&(E=Math.min(Math.abs(i.position.x-c),Math.abs(i.right-v)),R=Math.min(Math.abs(i.position.y-g),Math.abs(i.bottom-f))),E<R){if(m&&(y=e(i,r,v,c,h,u),y!==0&&!o(l,i)))return!0;x&&(T=d(i,r,f,g,h,u))}else{if(x&&(T=d(i,r,f,g,h,u),T!==0&&!o(l,i)))return!0;m&&(y=e(i,r,v,c,h,u))}return y!==0||T!==0};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(534),d=function(o,a,s,i,r,l){var n=0,h=a.faceLeft,u=a.faceRight,v=a.collideLeft,f=a.collideRight;return l||(h=!0,u=!0,v=!0,f=!0),o.deltaX()<0&&f&&o.checkCollision.left?u&&o.x<i&&(n=o.x-i,n<-r&&(n=0)):o.deltaX()>0&&v&&o.checkCollision.right&&h&&o.right>s&&(n=o.right-s,n>r&&(n=0)),n!==0&&(o.customSeparateX?o.overlapX=n:e(o,n)),n};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d<0?(e.blocked.none=!1,e.blocked.left=!0):d>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=d,e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(536),d=function(o,a,s,i,r,l){var n=0,h=a.faceTop,u=a.faceBottom,v=a.collideUp,f=a.collideDown;return l||(h=!0,u=!0,v=!0,f=!0),o.deltaY()<0&&f&&o.checkCollision.up?u&&o.y<i&&(n=o.y-i,n<-r&&(n=0)):o.deltaY()>0&&v&&o.checkCollision.down&&h&&o.bottom>s&&(n=o.bottom-s,n>r&&(n=0)),n!==0&&(o.customSeparateY?o.overlapY=n:e(o,n)),n};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d<0?(e.blocked.none=!1,e.blocked.up=!0):d>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=d,e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(246),d=t(1389),o=function(a,s,i,r){var l=e(a,s,i,r),n=a.immovable,h=s.immovable;if(i||l===0||n&&h||a.customSeparateX||s.customSeparateX)return l!==0||a.embedded&&s.embedded;var u=d.Set(a,s,l);return!n&&!h?u>0?!0:d.Check():(n?d.RunImmovableBody1(u):h&&d.RunImmovableBody2(u),!0)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(247),d=t(1390),o=function(a,s,i,r){var l=e(a,s,i,r),n=a.immovable,h=s.immovable;if(i||l===0||n&&h||a.customSeparateY||s.customSeparateY)return l!==0||a.embedded&&s.embedded;var u=d.Set(a,s,l);return!n&&!h?u>0?!0:d.Check():(n?d.RunImmovableBody1(u):h&&d.RunImmovableBody2(u),!0)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),d=t(0),o=t(62),a=t(57),s=t(3),i=new d({initialize:function(l,n){var h=n.displayWidth?n.displayWidth:64,u=n.displayHeight?n.displayHeight:64;this.world=l,this.gameObject=n,this.debugShowBody=l.defaults.debugShowStaticBody,this.debugBodyColor=l.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new s,this.position=new s(n.x-h*n.originX,n.y-u*n.originY),this.width=h,this.height=u,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new s(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=s.ZERO,this.allowGravity=!1,this.gravity=s.ZERO,this.bounce=s.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=o.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(r,l){return r&&r!==this.gameObject&&(this.gameObject.body=null,r.body=this,this.gameObject=r),l&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var r=this.gameObject;return r.getTopLeft(this.position),this.width=r.displayWidth,this.height=r.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(r,l){return l===void 0&&(l=r),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(r,l),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(r,l,n){n===void 0&&(n=!0);var h=this.gameObject;if(!r&&h.frame&&(r=h.frame.realWidth),!l&&h.frame&&(l=h.frame.realHeight),this.world.staticTree.remove(this),this.width=r,this.height=l,this.halfWidth=Math.floor(r/2),this.halfHeight=Math.floor(l/2),n&&h.getCenter){var u=h.displayWidth/2,v=h.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(r,l,n){return l===void 0&&(l=this.offset.x),n===void 0&&(n=this.offset.y),r>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=r,this.width=r*2,this.height=r*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(l,n),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(r,l){var n=this.gameObject;r===void 0&&(r=n.x),l===void 0&&(l=n.y),this.world.staticTree.remove(this),n.setPosition(r,l),n.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(r){return r.x=this.x,r.y=this.y,r.right=this.right,r.bottom=this.bottom,r},hitTest:function(r,l){return this.isCircle?e(this,r,l):a(this,r,l)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(r){var l=this.position,n=l.x+this.halfWidth,h=l.y+this.halfHeight;this.debugShowBody&&(r.lineStyle(r.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?r.strokeCircle(n,h,this.width/2):r.strokeRect(l.x,l.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(r){return r<=0&&(r=.1),this.mass=r,this},x:{get:function(){return this.position.x},set:function(r){this.world.staticTree.remove(this),this.position.x=r,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(r){this.world.staticTree.remove(this),this.position.y=r,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});p.exports=i},function(p,C,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(0),d=new e({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),d=new e,o=function(a,s,i,r){var l=i.tilemapLayer,n=l.cullPaddingX,h=l.cullPaddingY,u=l.tilemap.tileToWorldXY(a,s,d,r,l);return u.x>r.worldView.x+l.scaleX*i.tileWidth*(-n-.5)&&u.x<r.worldView.right+l.scaleX*i.tileWidth*(n-.5)&&u.y>r.worldView.y+l.scaleY*i.tileHeight*(-h-1)&&u.y<r.worldView.bottom+l.scaleY*i.tileHeight*(h-.5)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=function(o,a,s,i,r,l,n){for(var h=e(s,i,r,l,null,n),u=0;u<h.length;u++)h[u]&&h[u].index===o&&(h[u].index=a)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=t(139),o=t(76),a=new e,s=function(i,r){var l=i.tilemapLayer.tilemap,n=i.tilemapLayer,h=Math.floor(l.tileWidth*n.scaleX),u=Math.floor(l.tileHeight*n.scaleY),v=o(r.worldView.x-n.x,h,0,!0)-n.cullPaddingX,f=d(r.worldView.right-n.x,h,0,!0)+n.cullPaddingX,c=o(r.worldView.y-n.y,u,0,!0)-n.cullPaddingY,g=d(r.worldView.bottom-n.y,u,0,!0)+n.cullPaddingY;return a.setTo(v,c,f-v,g-c)};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(543),d=t(159),o=function(a,s,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var l=a.tilemapLayer,n=e(a,s);return(l.skipCull||l.scrollFactorX!==1||l.scrollFactorY!==1)&&(n.left=0,n.right=a.width,n.top=0,n.bottom=a.height),d(a,n,r,i),i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(546),d=t(159),o=function(a,s,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var l=a.tilemapLayer;if(!l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1){var n=e(a,s);d(a,n,r,i)}return i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),d=t(76),o=function(a,s){var i=a.tilemapLayer.tilemap,r=a.tilemapLayer,l=Math.floor(i.tileWidth*r.scaleX),n=Math.floor(i.tileHeight*r.scaleY),h=a.hexSideLength,u=(n-h)/2+h,v=d(s.worldView.x-r.x,l,0,!0)-r.cullPaddingX,f=e(s.worldView.right-r.x,l,0,!0)+r.cullPaddingX,c=d(s.worldView.y-r.y,u,0,!0)-r.cullPaddingY,g=e(s.worldView.bottom-r.y,u,0,!0)+r.cullPaddingY;return{left:v,right:f,top:c,bottom:g}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(541),d=function(o,a,s,i){s===void 0&&(s=[]),i===void 0&&(i=0),s.length=0;var r=o.tilemapLayer,l=o.data,n=o.width,h=o.height,u=0,v=n,f=0,c=h;if(!r.skipCull){var g,m,x;if(i===0){for(m=f;m<c;m++)for(g=u;l[m]&&g<v;g++)if(e(g,m,o,a)){if(x=l[m][g],!x||x.index===-1||!x.visible||x.alpha===0)continue;s.push(x)}}else if(i===1){for(m=f;m<c;m++)for(g=v;l[m]&&g>=u;g--)if(e(g,m,o,a)){if(x=l[m][g],!x||x.index===-1||!x.visible||x.alpha===0)continue;s.push(x)}}else if(i===2){for(m=c;m>=f;m--)for(g=u;l[m]&&g<v;g++)if(e(g,m,o,a)){if(x=l[m][g],!x||x.index===-1||!x.visible||x.alpha===0)continue;s.push(x)}}else if(i===3){for(m=c;m>=f;m--)for(g=v;l[m]&&g>=u;g--)if(e(g,m,o,a)){if(x=l[m][g],!x||x.index===-1||!x.visible||x.alpha===0)continue;s.push(x)}}}return r.tilesDrawn=s.length,r.tilesTotal=n*h,s};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(549),d=t(159),o=function(a,s,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var l=a.tilemapLayer;if(!l.skipCull&&l.scrollFactorX===1&&l.scrollFactorY===1){var n=e(a,s);d(a,n,r,i)}return i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),d=t(76),o=function(a,s){var i=a.tilemapLayer.tilemap,r=a.tilemapLayer,l=Math.floor(i.tileWidth*r.scaleX),n=Math.floor(i.tileHeight*r.scaleY),h=d(s.worldView.x-r.x,l,0,!0)-r.cullPaddingX,u=e(s.worldView.right-r.x,l,0,!0)+r.cullPaddingX,v=d(s.worldView.y-r.y,n/2,0,!0)-r.cullPaddingY,f=e(s.worldView.bottom-r.y,n/2,0,!0)+r.cullPaddingY;return{left:h,right:u,top:v,bottom:f}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),d=function(o,a,s,i,r){s||(s=new e);var l=r.baseTileWidth,n=r.baseTileHeight,h=r.tilemapLayer,u=0,v=0;h&&(i||(i=h.scene.cameras.main),u=h.x+i.scrollX*(1-h.scrollFactorX),l*=h.scaleX,v=h.y+i.scrollY*(1-h.scrollFactorY),n*=h.scaleY);var f=r.hexSideLength,c=(n-f)/2+f,g=u+o*l+a%2*(l/2),m=v+a*c;return s.set(g,m)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),d=function(o,a,s,i,r){s||(s=new e);var l=r.baseTileWidth,n=r.baseTileHeight,h=r.tilemapLayer,u=0,v=0;h&&(i||(i=h.scene.cameras.main),u=h.x+i.scrollX*(1-h.scrollFactorX),l*=h.scaleX,v=h.y+i.scrollY*(1-h.scrollFactorY),n*=h.scaleY);var f=u+(o-a)*(l/2),c=v+(o+a)*(n/2);return s.set(f,c)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),d=function(o,a,s,i,r){s||(s=new e);var l=r.baseTileWidth,n=r.baseTileHeight,h=r.tilemapLayer,u=0,v=0;h&&(i||(i=h.scene.cameras.main),u=h.x+i.scrollX*(1-h.scrollFactorX),l*=h.scaleX,v=h.y+i.scrollY*(1-h.scrollFactorY),n*=h.scaleY);var f=u+o*l+a%2*(l/2),c=v+a*(n/2);return s.set(f,c)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(253),d=t(254),o=t(3),a=function(s,i,r,l,n){return r||(r=new o(0,0)),r.x=e(s,l,n),r.y=d(i,l,n),r};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=o.baseTileHeight,s=o.tilemapLayer,i=0;s&&(d===void 0&&(d=s.scene.cameras.main),i=s.y+d.scrollY*(1-s.scrollFactorY),a*=s.scaleY);var r=s.tilemap.hexSideLength,l=(a-r)/2+r;return i+e*l};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=o.baseTileHeight,s=o.tilemapLayer,i=0;return s&&(d===void 0&&(d=s.scene.cameras.main),i=s.y+d.scrollY*(1-s.scrollFactorY),a*=s.scaleY),i+e*(a/2)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),d=function(o,a,s,i,r,l){i||(i=new e);var n=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(r||(r=u.scene.cameras.main),a=a-(u.y+r.scrollY*(1-u.scrollFactorY)),h*=u.scaleY,o=o-(u.x+r.scrollX*(1-u.scrollFactorX)),n*=u.scaleX);var v=l.hexSideLength,f=(h-v)/2+v,c=s?Math.floor(a/f):a/f,g=s?Math.floor((o-c%2*.5*n)/n):(o-c%2*.5*n)/n;return i.set(g,c)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),d=function(o,a,s,i,r,l){i||(i=new e);var n=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(r||(r=u.scene.cameras.main),a=a-(u.y+r.scrollY*(1-u.scrollFactorY)),h*=u.scaleY,o=o-(u.x+r.scrollX*(1-u.scrollFactorX)),n*=u.scaleX);var v=s?Math.floor((o/(n/2)+a/(h/2))/2):(o/(n/2)+a/(h/2))/2,f=s?Math.floor((a/(h/2)-o/(n/2))/2):(a/(h/2)-o/(n/2))/2;return i.set(v,f)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),d=function(o,a,s,i,r,l){i||(i=new e);var n=l.baseTileWidth,h=l.baseTileHeight,u=l.tilemapLayer;u&&(r||(r=u.scene.cameras.main),a=a-(u.y+r.scrollY*(1-u.scrollFactorY)),h*=u.scaleY,o=o-(u.x+r.scrollX*(1-u.scrollFactorX)),n*=u.scaleX);var v=s?Math.floor(a/(h/2)):a/(h/2),f=s?Math.floor((o+v%2*.5*n)/n):(o+v%2*.5*n)/n;return i.set(f,v)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(255),d=t(256),o=t(3),a=function(s,i,r,l,n,h){return r===void 0&&(r=!0),l||(l=new o(0,0)),l.x=e(s,r,n,h),l.y=d(i,r,n,h),l};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=a.baseTileHeight,i=a.tilemapLayer;i&&(o||(o=i.scene.cameras.main),e=e-(i.y+o.scrollY*(1-i.scrollFactorY)),s*=i.scaleY);var r=a.hexSideLength,l=(s-r)/2+r;return d?Math.floor(e/l):e/l};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=a.baseTileHeight,i=a.tilemapLayer;return i&&(o||(o=i.scene.cameras.main),e=e-(i.y+o.scrollY*(1-i.scrollFactorY)),s*=i.scaleY),d?Math.floor(e/(s/2)):e/(s/2)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),d=function(o,a,s){if(e(o,a,s)){var i=s.data[a][o];return i!==null&&i.index>-1}else return!1};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),d=t(119),o=t(252),a=function(s,i,r,l,n){if(r===void 0&&(r=!0),l===void 0&&(l=!0),!d(s,i,n))return null;var h=n.data[i][s];if(h)n.data[i][s]=r?null:new e(n,-1,s,i,n.tileWidth,n.tileHeight);else return null;return l&&h&&h.collides&&o(s,i,n),h};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),d=t(259),o=t(565),a=t(566),s=t(577),i=function(r,l,n,h,u,v){var f;switch(l){case e.ARRAY_2D:f=d(r,n,h,u,v);break;case e.CSV:f=o(r,n,h,u,v);break;case e.TILED_JSON:f=a(r,n,v);break;case e.WELTMEISTER:f=s(r,n,v);break;default:console.warn("Unrecognized tilemap data format: "+l),f=null}return f};p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),d=t(259),o=function(a,s,i,r,l){var n=s.trim().split(`
`).map(function(u){return u.split(",")}),h=d(a,n,i,r,l);return h.format=e.CSV,h};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(567),d=t(568),o=t(29),a=t(40),s=t(258),i=t(121),r=t(569),l=t(570),n=t(573),h=t(575),u=function(v,f,c){var g=new i({width:f.width,height:f.height,name:v,tileWidth:f.tilewidth,tileHeight:f.tileheight,orientation:s(f.orientation),format:a.TILED_JSON,version:f.version,properties:f.properties,renderOrder:f.renderorder,infinite:f.infinite});g.orientation===o.HEXAGONAL&&(g.hexSideLength=f.hexsidelength),g.layers=n(f,c),g.images=r(f);var m=h(f);return g.tilesets=m.tilesets,g.imageCollections=m.imageCollections,g.objects=l(f),g.tiles=d(g),e(g),g};p.exports=u},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),d=function(o){for(var a,s,i,r,l,n=0;n<o.layers.length;n++){a=o.layers[n],r=null;for(var h=0;h<a.data.length;h++){l=a.data[h];for(var u=0;u<l.length;u++)s=l[u],!(s===null||s.index<0)&&(i=o.tiles[s.index][2],r=o.tilesets[i],s.width=r.tileWidth,s.height=r.tileHeight,r.tileProperties&&r.tileProperties[s.index-r.firstgid]&&(s.properties=e(s.properties,r.tileProperties[s.index-r.firstgid])))}}};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),d=function(o){var a,s,i=[];for(a=0;a<o.imageCollections.length;a++)for(var r=o.imageCollections[a],l=r.images,n=0;n<l.length;n++){var h=l[n];s=new e(h.image,h.gid,r.imageWidth,r.imageHeight,0,0),s.updateTileData(r.imageWidth,r.imageHeight),o.tilesets.push(s)}for(a=0;a<o.tilesets.length;a++){s=o.tilesets[a];for(var u=s.tileMargin,v=s.tileMargin,f=0,c=0,g=0,m=s.firstgid;m<s.firstgid+s.total&&(i[m]=[u,v,a],u+=s.tileWidth+s.tileSpacing,f++,!(f===s.total||(c++,c===s.columns&&(u=s.tileMargin,v+=s.tileHeight+s.tileSpacing,c=0,g++,g===s.rows))));m++);}return i};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),d=t(161),o=function(a){for(var s=[],i=[],r=d(a);r.i<r.layers.length||i.length>0;){if(r.i>=r.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=i.pop();continue}var l=r.layers[r.i];if(r.i++,l.type!=="imagelayer"){if(l.type==="group"){var n=d(a,l,r);i.push(r),r=n}continue}var h=e(l,"offsetx",0)+e(l,"startx",0),u=e(l,"offsety",0)+e(l,"starty",0);s.push({name:r.name+l.name,image:l.image,x:r.x+h+l.x,y:r.y+u+l.y,alpha:r.opacity*l.opacity,visible:r.visible&&l.visible,properties:e(l,"properties",{})})}return s};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),d=t(260),o=t(572),a=t(161),s=function(i){for(var r=[],l=[],n=a(i);n.i<n.layers.length||l.length>0;){if(n.i>=n.layers.length){if(l.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}n=l.pop();continue}var h=n.layers[n.i];if(n.i++,h.opacity*=n.opacity,h.visible=n.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var u=a(i,h,n);l.push(n),n=u}continue}h.name=n.name+h.name;for(var v=n.x+e(h,"startx",0)+e(h,"offsetx",0),f=n.y+e(h,"starty",0)+e(h,"offsety",0),c=[],g=0;g<h.objects.length;g++){var m=d(h.objects[g],v,f);c.push(m)}var x=new o(h);x.objects=c,r.push(x)}return r};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(126),d=function(o,a){for(var s={},i=0;i<a.length;i++){var r=a[i];e(o,r)&&(s[r]=o[r])}return s};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(2),o=new e({initialize:function(s){s===void 0&&(s={}),this.name=d(s,"name","object layer"),this.opacity=d(s,"opacity",1),this.properties=d(s,"properties",{}),this.propertyTypes=d(s,"propertytypes",{}),this.type=d(s,"type","objectgroup"),this.visible=d(s,"visible",!0),this.objects=d(s,"objects",[])}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(574),d=t(29),o=t(161),a=t(258),s=t(2),i=t(120),r=t(261),l=t(85),n=function(h,u){for(var v=s(h,"infinite",!1),f=[],c=[],g=o(h);g.i<g.layers.length||c.length>0;){if(g.i>=g.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}g=c.pop();continue}var m=g.layers[g.i];if(g.i++,m.type!=="tilelayer"){if(m.type==="group"){var x=o(h,m,g);c.push(g),g=x}continue}if(m.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+m.name+"'");continue}else if(m.encoding&&m.encoding==="base64"){if(m.chunks)for(var y=0;y<m.chunks.length;y++)m.chunks[y].data=e(m.chunks[y].data);m.data&&(m.data=e(m.data)),delete m.encoding}var T,E,R,M,P=[],O=0;if(v){var I=s(m,"startx",0)+m.x,B=s(m,"starty",0)+m.y;T=new i({name:g.name+m.name,x:g.x+s(m,"offsetx",0)+I*h.tilewidth,y:g.y+s(m,"offsety",0)+B*h.tileheight,width:m.width,height:m.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*m.opacity,visible:g.visible&&m.visible,properties:s(m,"properties",[]),orientation:a(h.orientation)}),T.orientation===d.HEXAGONAL&&(T.hexSideLength=h.hexsidelength);for(var w=0;w<m.height;w++){P.push([null]);for(var z=0;z<m.width;z++)P[w][z]=null}for(w=0,Z=m.chunks.length;w<Z;w++)for(var H=m.chunks[w],b=H.x-I,Q=H.y-B,D=0,F=0,G=H.data.length;F<G;F++){var N=O+b,X=D+Q;E=r(H.data[F]),E.gid>0?(R=new l(T,E.gid,N,X,h.tilewidth,h.tileheight),R.rotation=E.rotation,R.flipX=E.flipped,P[X][N]=R):(M=u?null:new l(T,-1,N,X,h.tilewidth,h.tileheight),P[X][N]=M),O++,O===H.width&&(D++,O=0)}}else{T=new i({name:g.name+m.name,x:g.x+s(m,"offsetx",0)+m.x,y:g.y+s(m,"offsety",0)+m.y,width:m.width,height:m.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:g.opacity*m.opacity,visible:g.visible&&m.visible,properties:s(m,"properties",[]),orientation:a(h.orientation)}),T.orientation===d.HEXAGONAL&&(T.hexSideLength=h.hexsidelength);for(var V=[],W=0,Z=m.data.length;W<Z;W++)E=r(m.data[W]),E.gid>0?(R=new l(T,E.gid,O,P.length,h.tilewidth,h.tileheight),R.rotation=E.rotation,R.flipX=E.flipped,V.push(R)):(M=u?null:new l(T,-1,O,P.length,h.tilewidth,h.tileheight),V.push(M)),O++,O===m.width&&(P.push(V),O=0,V=[])}T.data=P,f.push(T)}return f};p.exports=n},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var d=window.atob(e),o=d.length,a=new Array(o/4),s=0;s<o;s+=4)a[s/4]=(d.charCodeAt(s)|d.charCodeAt(s+1)<<8|d.charCodeAt(s+2)<<16|d.charCodeAt(s+3)<<24)>>>0;return a};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),d=t(576),o=t(260),a=t(1453),s=function(i){for(var r=[],l=[],n=null,h,u=0;u<i.tilesets.length;u++){var v=i.tilesets[u];if(v.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(v.image){var f=new e(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing);if(i.version>1){var c=void 0,g=void 0;if(Array.isArray(v.tiles)){c=c||{},g=g||{};for(var m=0;m<v.tiles.length;m++){var x=v.tiles[m];if(x.properties){var y={};x.properties.forEach(function(w){y[w.name]=w.value}),g[x.id]=y}if(x.objectgroup&&((c[x.id]||(c[x.id]={})).objectgroup=x.objectgroup,x.objectgroup.objects)){var T=x.objectgroup.objects.map(function(w){return o(w)});c[x.id].objectgroup.objects=T}x.animation&&((c[x.id]||(c[x.id]={})).animation=x.animation),x.type&&((c[x.id]||(c[x.id]={})).type=x.type)}}Array.isArray(v.wangsets)&&(c=c||{},g=g||{},a(v.wangsets,c)),c&&(f.tileData=c,f.tileProperties=g)}else if(v.tileproperties&&(f.tileProperties=v.tileproperties),v.tiles){f.tileData=v.tiles;for(h in f.tileData){var E=f.tileData[h].objectgroup;if(E&&E.objects){var R=E.objects.map(function(w){return o(w)});f.tileData[h].objectgroup.objects=R}}}f.updateTileData(v.imagewidth,v.imageheight),r.push(f)}else{var M=new d(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing,v.properties),P=0;for(m=0;m<v.tiles.length;m++){x=v.tiles[m];var O=x.image,I=parseInt(x.id,10),B=v.firstgid+I;M.addImage(B,O),P=Math.max(I,P)}M.maxId=P,l.push(M)}n&&(n.lastgid=v.firstgid-1),n=v}return{tilesets:r,imageCollections:l}};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a,s,i,r,l,n,h){(i===void 0||i<=0)&&(i=32),(r===void 0||r<=0)&&(r=32),l===void 0&&(l=0),n===void 0&&(n=0),this.name=a,this.firstgid=s|0,this.imageWidth=i|0,this.imageHeight=r|0,this.imageMargin=l|0,this.imageSpacing=n|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(o){return o>=this.firstgid&&o<this.firstgid+this.total},addImage:function(o,a){return this.images.push({gid:o,image:a}),this.total++,this}});p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),d=t(121),o=t(578),a=t(579),s=function(i,r,l){if(r.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var n=0,h=0,u=0;u<r.layer.length;u++)r.layer[u].width>n&&(n=r.layer[u].width),r.layer[u].height>h&&(h=r.layer[u].height);var v=new d({width:n,height:h,name:i,tileWidth:r.layer[0].tilesize,tileHeight:r.layer[0].tilesize,format:e.WELTMEISTER});return v.layers=o(r,l),v.tilesets=a(r),v};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(120),d=t(85),o=function(a,s){for(var i=[],r=0;r<a.layer.length;r++){for(var l=a.layer[r],n=new e({name:l.name,width:l.width,height:l.height,tileWidth:l.tilesize,tileHeight:l.tilesize,visible:l.visible===1}),h=[],u=[],v=0;v<l.data.length;v++){for(var f=0;f<l.data[v].length;f++){var c=l.data[v][f]-1,g;c>-1?g=new d(n,c,f,v,l.tilesize,l.tilesize):g=s?null:new d(n,-1,f,v,l.tilesize,l.tilesize),h.push(g)}u.push(h),h=[]}n.data=u,i.push(n)}return i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),d=function(o){for(var a=[],s=[],i=0;i<o.layer.length;i++){var r=o.layer[i],l=r.tilesetName;l!==""&&s.indexOf(l)===-1&&(s.push(l),a.push(new e(l,0,r.tilesize,r.tilesize,0,0)))}return a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(36),o=t(40),a=t(2),s=t(120),i=t(29),r=t(362),l=t(74),n=t(73),h=t(85),u=t(251),v=t(581),f=t(122),c=new e({initialize:function(m,x){this.scene=m,this.tileWidth=x.tileWidth,this.tileHeight=x.tileHeight,this.width=x.width,this.height=x.height,this.orientation=x.orientation,this.renderOrder=x.renderOrder,this.format=x.format,this.version=x.version,this.properties=x.properties,this.widthInPixels=x.widthInPixels,this.heightInPixels=x.heightInPixels,this.imageCollections=x.imageCollections,this.images=x.images,this.layers=x.layers,this.tilesets=x.tilesets,this.objects=x.objects,this.currentLayerIndex=0,this.hexSideLength=x.hexSideLength;var y=this.orientation;this._convert={WorldToTileXY:u.GetWorldToTileXYFunction(y),WorldToTileX:u.GetWorldToTileXFunction(y),WorldToTileY:u.GetWorldToTileYFunction(y),TileToWorldXY:u.GetTileToWorldXYFunction(y),TileToWorldX:u.GetTileToWorldXFunction(y),TileToWorldY:u.GetTileToWorldYFunction(y)}},createBlankDynamicLayer:function(g,m,x,y,T,E,R,M){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(g,m,x,y,T,E,R,M)},createDynamicLayer:function(g,m,x,y){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(g,m,x,y)},createStaticLayer:function(g,m,x,y){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(g,m,x,y)},setRenderOrder:function(g){var m=["right-down","left-down","right-up","left-up"];return typeof g=="number"&&(g=m[g]),m.indexOf(g)>-1&&(this.renderOrder=g),this},addTilesetImage:function(g,m,x,y,T,E,R){if(g===void 0)return null;if(m==null&&(m=g),!this.scene.sys.textures.exists(m))return console.warn("Invalid Tileset Image: "+m),null;var M=this.scene.sys.textures.get(m),P=this.getTilesetIndex(g);if(P===null&&this.format===o.TILED_JSON)return console.warn("No data found for Tileset: "+g),null;var O=this.tilesets[P];return O?(O.setTileSize(x,y),O.setSpacing(T,E),O.setImage(M),O):(x===void 0&&(x=this.tileWidth),y===void 0&&(y=this.tileHeight),T===void 0&&(T=0),E===void 0&&(E=0),R===void 0&&(R=0),O=new f(g,R,x,y,T,E),O.setImage(M),this.tilesets.push(O),O)},copy:function(g,m,x,y,T,E,R,M){return M=this.getLayer(M),M!==null?(u.Copy(g,m,x,y,T,E,R,M),this):null},createBlankLayer:function(g,m,x,y,T,E,R,M){x===void 0&&(x=0),y===void 0&&(y=0),T===void 0&&(T=this.width),E===void 0&&(E=this.height),R===void 0&&(R=this.tileWidth),M===void 0&&(M=this.tileHeight);var P=this.getLayerIndex(g);if(P!==null)return console.warn("Invalid Tilemap Layer ID: "+g),null;for(var O=new s({name:g,tileWidth:R,tileHeight:M,width:T,height:E,orientation:this.orientation}),I,B=0;B<E;B++){I=[];for(var w=0;w<T;w++)I.push(new h(O,-1,w,B,R,M,this.tileWidth,this.tileHeight));O.data.push(I)}this.layers.push(O),this.currentLayerIndex=this.layers.length-1;var z=new v(this.scene,this,this.currentLayerIndex,m,x,y);return z.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(z),z},createLayer:function(g,m,x,y){var T=this.getLayerIndex(g);if(T===null)return console.warn("Invalid Tilemap Layer ID: "+g),typeof g=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var E=this.layers[T];if(E.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+g),null;this.currentLayerIndex=T,x===void 0&&(x=E.x),y===void 0&&(y=E.y);var R=new v(this.scene,this,T,m,x,y);return R.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(R),R},createFromObjects:function(g,m){var x=[],y=this.getObjectLayer(g);if(!y)return console.warn("createFromObjects: Invalid objectLayerName given: "+g),x;Array.isArray(m)||(m=[m]);for(var T=y.objects,E=0;E<m.length;E++){for(var R=m[E],M=a(R,"id",null),P=a(R,"gid",null),O=a(R,"name",null),I,B=[],w=0;w<T.length;w++)I=T[w],(M===null&&P===null&&O===null||M!==null&&I.id===M||P!==null&&I.gid===P||O!==null&&I.name===O)&&B.push(I);for(var z=a(R,"classType",n),H=a(R,"scene",this.scene),b=a(R,"container",null),Q=a(R,"key",null),D=a(R,"frame",null),F=0;F<B.length;F++){I=B[F];var G=new z(H);G.setName(I.name),G.setPosition(I.x,I.y),G.setTexture(Q,D),I.width&&(G.displayWidth=I.width),I.height&&(G.displayHeight=I.height);var N={x:G.originX*I.width,y:(G.originY-1)*I.height};if(I.rotation){var X=d(I.rotation);r(N,X),G.rotation=X}if(G.x+=N.x,G.y+=N.y,(I.flippedHorizontal!==void 0||I.flippedVertical!==void 0)&&G.setFlip(I.flippedHorizontal,I.flippedVertical),I.visible||(G.visible=!1),Array.isArray(I.properties))I.properties.forEach(function(W){var Z=W.name;G[Z]!==void 0?G[Z]=W.value:G.setData(Z,W.value)});else for(var V in I.properties)G[V]!==void 0?G[V]=I.properties[V]:G.setData(V,I.properties[V]);b?b.add(G):H.add.existing(G),x.push(G)}}return x},createFromTiles:function(g,m,x,y,T,E){return E=this.getLayer(E),E===null?null:u.CreateFromTiles(g,m,x,y,T,E)},fill:function(g,m,x,y,T,E,R){return E===void 0&&(E=!0),R=this.getLayer(R),R===null?null:(u.Fill(g,m,x,y,T,E,R),this)},filterObjects:function(g,m,x){if(typeof g=="string"){var y=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+y),null}return g.objects.filter(m,x)},filterTiles:function(g,m,x,y,T,E,R,M){return M=this.getLayer(M),M===null?null:u.FilterTiles(g,m,x,y,T,E,R,M)},findByIndex:function(g,m,x,y){return y=this.getLayer(y),y===null?null:u.FindByIndex(g,m,x,y)},findObject:function(g,m,x){if(typeof g=="string"){var y=g;if(g=this.getObjectLayer(g),!g)return console.warn("No object layer found with the name: "+y),null}return g.objects.find(m,x)||null},findTile:function(g,m,x,y,T,E,R,M){return M=this.getLayer(M),M===null?null:u.FindTile(g,m,x,y,T,E,R,M)},forEachTile:function(g,m,x,y,T,E,R,M){return M=this.getLayer(M),M===null?null:(u.ForEachTile(g,m,x,y,T,E,R,M),this)},getImageIndex:function(g){return this.getIndex(this.images,g)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(g){return g.name})},getIndex:function(g,m){for(var x=0;x<g.length;x++)if(g[x].name===m)return x;return null},getLayer:function(g){var m=this.getLayerIndex(g);return m!==null?this.layers[m]:null},getObjectLayer:function(g){var m=this.getIndex(this.objects,g);return m!==null?this.objects[m]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(g){return g.name})},getLayerIndex:function(g){return g===void 0?this.currentLayerIndex:typeof g=="string"?this.getLayerIndexByName(g):typeof g=="number"&&g<this.layers.length?g:g instanceof v?g.layerIndex:null},getLayerIndexByName:function(g){return this.getIndex(this.layers,g)},getTileAt:function(g,m,x,y){return y=this.getLayer(y),y===null?null:u.GetTileAt(g,m,x,y)},getTileAtWorldXY:function(g,m,x,y,T){return T=this.getLayer(T),T===null?null:u.GetTileAtWorldXY(g,m,x,y,T)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(g){return g.name})},getTilesWithin:function(g,m,x,y,T,E){return E=this.getLayer(E),E===null?null:u.GetTilesWithin(g,m,x,y,T,E)},getTilesWithinShape:function(g,m,x,y){return y=this.getLayer(y),y===null?null:u.GetTilesWithinShape(g,m,x,y)},getTilesWithinWorldXY:function(g,m,x,y,T,E,R){return R=this.getLayer(R),R===null?null:u.GetTilesWithinWorldXY(g,m,x,y,T,E,R)},getTileset:function(g){var m=this.getIndex(this.tilesets,g);return m!==null?this.tilesets[m]:null},getTilesetIndex:function(g){return this.getIndex(this.tilesets,g)},hasTileAt:function(g,m,x){return x=this.getLayer(x),x===null?null:u.HasTileAt(g,m,x)},hasTileAtWorldXY:function(g,m,x,y){return y=this.getLayer(y),y===null?null:u.HasTileAtWorldXY(g,m,x,y)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(g){this.setLayer(g)}},putTileAt:function(g,m,x,y,T){return y===void 0&&(y=!0),T=this.getLayer(T),T===null?null:u.PutTileAt(g,m,x,y,T)},putTileAtWorldXY:function(g,m,x,y,T,E){return y===void 0&&(y=!0),E=this.getLayer(E),E===null?null:u.PutTileAtWorldXY(g,m,x,y,T,E)},putTilesAt:function(g,m,x,y,T){return y===void 0&&(y=!0),T=this.getLayer(T),T===null?null:(u.PutTilesAt(g,m,x,y,T),this)},randomize:function(g,m,x,y,T,E){return E=this.getLayer(E),E===null?null:(u.Randomize(g,m,x,y,T,E),this)},calculateFacesAt:function(g,m,x){return x=this.getLayer(x),x===null?null:(u.CalculateFacesAt(g,m,x),this)},calculateFacesWithin:function(g,m,x,y,T){return T=this.getLayer(T),T===null?null:(u.CalculateFacesWithin(g,m,x,y,T),this)},removeLayer:function(g){var m=this.getLayerIndex(g);if(m!==null){l(this.layers,m);for(var x=m;x<this.layers.length;x++)this.layers[x].tilemapLayer&&this.layers[x].tilemapLayer.layerIndex--;return this.currentLayerIndex===m&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(g){var m=this.getLayerIndex(g);return m!==null?(g=this.layers[m],g.destroy(),l(this.layers,m),this.currentLayerIndex===m&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var g=this.layers,m=0;m<g.length;m++)g[m].tilemapLayer&&g[m].tilemapLayer.destroy(!1);return g.length=0,this.currentLayerIndex=0,this},removeTile:function(g,m,x){m===void 0&&(m=-1),x===void 0&&(x=!0);var y=[];Array.isArray(g)||(g=[g]);for(var T=0;T<g.length;T++){var E=g[T];y.push(this.removeTileAt(E.x,E.y,!0,x,E.tilemapLayer)),m>-1&&this.putTileAt(m,E.x,E.y,x,E.tilemapLayer)}return y},removeTileAt:function(g,m,x,y,T){return x===void 0&&(x=!0),y===void 0&&(y=!0),T=this.getLayer(T),T===null?null:u.RemoveTileAt(g,m,x,y,T)},removeTileAtWorldXY:function(g,m,x,y,T,E){return x===void 0&&(x=!0),y===void 0&&(y=!0),E=this.getLayer(E),E===null?null:u.RemoveTileAtWorldXY(g,m,x,y,T,E)},renderDebug:function(g,m,x){return x=this.getLayer(x),x===null?null:(this.orientation===i.ORTHOGONAL&&u.RenderDebug(g,m,x),this)},renderDebugFull:function(g,m){for(var x=this.layers,y=0;y<x.length;y++)u.RenderDebug(g,m,x[y]);return this},replaceByIndex:function(g,m,x,y,T,E,R){return R=this.getLayer(R),R===null?null:(u.ReplaceByIndex(g,m,x,y,T,E,R),this)},setCollision:function(g,m,x,y,T){return m===void 0&&(m=!0),x===void 0&&(x=!0),T===void 0&&(T=!0),y=this.getLayer(y),y===null?null:(u.SetCollision(g,m,x,y,T),this)},setCollisionBetween:function(g,m,x,y,T){return x===void 0&&(x=!0),y===void 0&&(y=!0),T=this.getLayer(T),T===null?null:(u.SetCollisionBetween(g,m,x,y,T),this)},setCollisionByProperty:function(g,m,x,y){return m===void 0&&(m=!0),x===void 0&&(x=!0),y=this.getLayer(y),y===null?null:(u.SetCollisionByProperty(g,m,x,y),this)},setCollisionByExclusion:function(g,m,x,y){return m===void 0&&(m=!0),x===void 0&&(x=!0),y=this.getLayer(y),y===null?null:(u.SetCollisionByExclusion(g,m,x,y),this)},setCollisionFromCollisionGroup:function(g,m,x){return g===void 0&&(g=!0),m===void 0&&(m=!0),x=this.getLayer(x),x===null?null:(u.SetCollisionFromCollisionGroup(g,m,x),this)},setTileIndexCallback:function(g,m,x,y){return y=this.getLayer(y),y===null?null:(u.SetTileIndexCallback(g,m,x,y),this)},setTileLocationCallback:function(g,m,x,y,T,E,R){return R=this.getLayer(R),R===null?null:(u.SetTileLocationCallback(g,m,x,y,T,E,R),this)},setLayer:function(g){var m=this.getLayerIndex(g);return m!==null&&(this.currentLayerIndex=m),this},setBaseTileSize:function(g,m){this.tileWidth=g,this.tileHeight=m,this.widthInPixels=this.width*g,this.heightInPixels=this.height*m;for(var x=0;x<this.layers.length;x++){this.layers[x].baseTileWidth=g,this.layers[x].baseTileHeight=m;for(var y=this.layers[x].data,T=this.layers[x].width,E=this.layers[x].height,R=0;R<E;R++)for(var M=0;M<T;M++){var P=y[R][M];P!==null&&P.setSize(void 0,void 0,g,m)}}return this},setLayerTileSize:function(g,m,x){if(x=this.getLayer(x),x===null)return this;x.tileWidth=g,x.tileHeight=m;for(var y=x.data,T=x.width,E=x.height,R=0;R<E;R++)for(var M=0;M<T;M++){var P=y[R][M];P!==null&&P.setSize(g,m)}return this},shuffle:function(g,m,x,y,T){return T=this.getLayer(T),T===null?null:(u.Shuffle(g,m,x,y,T),this)},swapByIndex:function(g,m,x,y,T,E,R){return R=this.getLayer(R),R===null?null:(u.SwapByIndex(g,m,x,y,T,E,R),this)},tileToWorldX:function(g,m,x){return x=this.getLayer(x),x===null?null:this._convert.TileToWorldX(g,m,x)},tileToWorldY:function(g,m,x){return x=this.getLayer(x),x===null?null:this._convert.TileToWorldY(g,m,x)},tileToWorldXY:function(g,m,x,y,T){return T=this.getLayer(T),T===null?null:this._convert.TileToWorldXY(g,m,x,y,T)},weightedRandomize:function(g,m,x,y,T,E){return E=this.getLayer(E),E===null?null:(u.WeightedRandomize(m,x,y,T,g,E),this)},worldToTileX:function(g,m,x,y){return y=this.getLayer(y),y===null?null:this._convert.WorldToTileX(g,m,x,y)},worldToTileY:function(g,m,x,y){return y=this.getLayer(y),y===null?null:this._convert.WorldToTileY(g,m,x,y)},worldToTileXY:function(g,m,x,y,T,E){return E=this.getLayer(E),E===null?null:this._convert.WorldToTileXY(g,m,x,y,T,E)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});p.exports=c},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(11),o=t(15),a=t(251),s=t(1456),i=new e({Extends:o,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Origin,d.Pipeline,d.Transform,d.Visible,d.ScrollFactor,s],initialize:function(l,n,h,u,v,f){o.call(this,l,"TilemapLayer"),this.isTilemap=!0,this.tilemap=n,this.layerIndex=h,this.layer=n.layers[h],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(u),this.setAlpha(this.layer.alpha),this.setPosition(v,f),this.setOrigin(),this.setSize(n.tileWidth*this.layer.width,n.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(r){var l=[],n=[],h=this.tilemap;Array.isArray(r)||(r=[r]);for(var u=0;u<r.length;u++){var v=r[u];if(typeof v=="string"&&(v=h.getTileset(v)),v){n.push(v);for(var f=v.firstgid,c=0;c<v.total;c++)l[f+c]=v}}this.gidMap=l,this.tileset=n},setRenderOrder:function(r){var l=["right-down","left-down","right-up","left-up"];return typeof r=="string"&&(r=l.indexOf(r)),r>=0&&r<4&&(this._renderOrder=r),this},calculateFacesAt:function(r,l){return a.CalculateFacesAt(r,l,this.layer),this},calculateFacesWithin:function(r,l,n,h){return a.CalculateFacesWithin(r,l,n,h,this.layer),this},createFromTiles:function(r,l,n,h,u){return a.CreateFromTiles(r,l,n,h,u,this.layer)},cull:function(r){return this.cullCallback(this.layer,r,this.culledTiles,this._renderOrder)},copy:function(r,l,n,h,u,v,f){return a.Copy(r,l,n,h,u,v,f,this.layer),this},fill:function(r,l,n,h,u,v){return a.Fill(r,l,n,h,u,v,this.layer),this},filterTiles:function(r,l,n,h,u,v,f){return a.FilterTiles(r,l,n,h,u,v,f,this.layer)},findByIndex:function(r,l,n){return a.FindByIndex(r,l,n,this.layer)},findTile:function(r,l,n,h,u,v,f){return a.FindTile(r,l,n,h,u,v,f,this.layer)},forEachTile:function(r,l,n,h,u,v,f){return a.ForEachTile(r,l,n,h,u,v,f,this.layer),this},getTileAt:function(r,l,n){return a.GetTileAt(r,l,n,this.layer)},getTileAtWorldXY:function(r,l,n,h){return a.GetTileAtWorldXY(r,l,n,h,this.layer)},getTilesWithin:function(r,l,n,h,u){return a.GetTilesWithin(r,l,n,h,u,this.layer)},getTilesWithinShape:function(r,l,n){return a.GetTilesWithinShape(r,l,n,this.layer)},getTilesWithinWorldXY:function(r,l,n,h,u,v){return a.GetTilesWithinWorldXY(r,l,n,h,u,v,this.layer)},hasTileAt:function(r,l){return a.HasTileAt(r,l,this.layer)},hasTileAtWorldXY:function(r,l,n){return a.HasTileAtWorldXY(r,l,n,this.layer)},putTileAt:function(r,l,n,h){return a.PutTileAt(r,l,n,h,this.layer)},putTileAtWorldXY:function(r,l,n,h,u){return a.PutTileAtWorldXY(r,l,n,h,u,this.layer)},putTilesAt:function(r,l,n,h){return a.PutTilesAt(r,l,n,h,this.layer),this},randomize:function(r,l,n,h,u){return a.Randomize(r,l,n,h,u,this.layer),this},removeTileAt:function(r,l,n,h){return a.RemoveTileAt(r,l,n,h,this.layer)},removeTileAtWorldXY:function(r,l,n,h,u){return a.RemoveTileAtWorldXY(r,l,n,h,u,this.layer)},renderDebug:function(r,l){return a.RenderDebug(r,l,this.layer),this},replaceByIndex:function(r,l,n,h,u,v){return a.ReplaceByIndex(r,l,n,h,u,v,this.layer),this},setSkipCull:function(r){return r===void 0&&(r=!0),this.skipCull=r,this},setCullPadding:function(r,l){return r===void 0&&(r=1),l===void 0&&(l=1),this.cullPaddingX=r,this.cullPaddingY=l,this},setCollision:function(r,l,n,h){return a.SetCollision(r,l,n,this.layer,h),this},setCollisionBetween:function(r,l,n,h){return a.SetCollisionBetween(r,l,n,h,this.layer),this},setCollisionByProperty:function(r,l,n){return a.SetCollisionByProperty(r,l,n,this.layer),this},setCollisionByExclusion:function(r,l,n){return a.SetCollisionByExclusion(r,l,n,this.layer),this},setCollisionFromCollisionGroup:function(r,l){return a.SetCollisionFromCollisionGroup(r,l,this.layer),this},setTileIndexCallback:function(r,l,n){return a.SetTileIndexCallback(r,l,n,this.layer),this},setTileLocationCallback:function(r,l,n,h,u,v){return a.SetTileLocationCallback(r,l,n,h,u,v,this.layer),this},shuffle:function(r,l,n,h){return a.Shuffle(r,l,n,h,this.layer),this},swapByIndex:function(r,l,n,h,u,v){return a.SwapByIndex(r,l,n,h,u,v,this.layer),this},tileToWorldX:function(r,l){return this.tilemap.tileToWorldX(r,l,this)},tileToWorldY:function(r,l){return this.tilemap.tileToWorldY(r,l,this)},tileToWorldXY:function(r,l,n,h){return this.tilemap.tileToWorldXY(r,l,n,h,this)},weightedRandomize:function(r,l,n,h,u){return a.WeightedRandomize(l,n,h,u,r,this.layer),this},worldToTileX:function(r,l,n){return this.tilemap.worldToTileX(r,l,n,this)},worldToTileY:function(r,l,n){return this.tilemap.worldToTileY(r,l,n,this)},worldToTileXY:function(r,l,n,h,u){return this.tilemap.worldToTileXY(r,l,n,h,u,this)},destroy:function(r){r===void 0&&(r=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),r&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],o.prototype.destroy.call(this))}});p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(2),o=new e({initialize:function(s){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(s)},reset:function(a){return this.delay=d(a,"delay",0),this.repeat=d(a,"repeat",0),this.loop=d(a,"loop",!1),this.callback=d(a,"callback",void 0),this.callbackScope=d(a,"callbackScope",this.callback),this.args=d(a,"args",[]),this.timeScale=d(a,"timeScale",1),this.startAt=d(a,"startAt",0),this.paused=d(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,s=this.elapsed+this.delay*(this.repeat-this.repeatCount);return s/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1465),d=function(o){var a,s=[];if(o.hasOwnProperty("props"))for(a in o.props)a.substr(0,1)!=="_"&&s.push({key:a,value:o.props[a]});else for(a in o)e.indexOf(a)===-1&&a.substr(0,1)!=="_"&&s.push({key:a,value:o[a]});return s};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),d=function(o){var a=e(o,"tweens",null);return a===null?[]:(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a]),a)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),d=t(13),o=t(99),a=t(80),s=t(162),i=t(6),r=t(264),l=t(266),n=t(268),h=function(u,v,f){f===void 0&&(f=e);var c=i(v,"from",0),g=i(v,"to",1),m=[{value:c}],x=s(v,"delay",f.delay),y=s(v,"duration",f.duration),T=i(v,"easeParams",f.easeParams),E=a(i(v,"ease",f.ease),T),R=s(v,"hold",f.hold),M=s(v,"repeat",f.repeat),P=s(v,"repeatDelay",f.repeatDelay),O=o(v,"yoyo",f.yoyo),I=[],B=r("value",g),w=n(m[0],0,"value",B.getEnd,B.getStart,B.getActive,E,x,y,O,R,M,P,!1,!1);w.start=c,w.current=c,w.to=g,I.push(w);var z=new l(u,I,m);z.offset=d(v,"offset",null),z.completeDelay=d(v,"completeDelay",0),z.loop=Math.round(d(v,"loop",0)),z.loopDelay=Math.round(d(v,"loopDelay",0)),z.paused=o(v,"paused",!1),z.useFrames=o(v,"useFrames",!1);for(var H=i(v,"callbackScope",z),b=[z,null],Q=l.TYPES,D=0;D<Q.length;D++){var F=Q[D],G=i(v,F,!1);if(G){var N=i(v,F+"Scope",H),X=i(v,F+"Params",[]);z.setCallback(F,G,b.concat(X),N)}}return z};p.exports=h},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(80),d=t(6),o=t(14),a=function(s,i){i===void 0&&(i={});var r,l=d(i,"start",0),n=d(i,"ease",null),h=d(i,"grid",null),u=d(i,"from",0),v=u==="first",f=u==="center",c=u==="last",g=typeof u=="number",m=Array.isArray(s),x=parseFloat(m?s[0]:s),y=m?parseFloat(s[1]):0,T=Math.max(x,y);if(m&&(l+=x),h){var E=h[0],R=h[1],M=0,P=0,O=0,I=0,B=[];c?(M=E-1,P=R-1):g?(M=u%E,P=Math.floor(u/E)):f&&(M=(E-1)/2,P=(R-1)/2);for(var w=o.MIN_SAFE_INTEGER,z=0;z<R;z++){B[z]=[];for(var H=0;H<E;H++){O=M-H,I=P-z;var b=Math.sqrt(O*O+I*I);b>w&&(w=b),B[z][H]=b}}}var Q=n?e(n):null;return h?r=function(D,F,G,N){var X=0,V=N%E,W=Math.floor(N/E);V>=0&&V<E&&W>=0&&W<R&&(X=B[W][V]);var Z;if(m){var et=y-x;Q?Z=X/w*et*Q(X/w):Z=X/w*et}else Q?Z=X*x*Q(X/w):Z=X*x;return Z+l}:r=function(D,F,G,N,X){X--;var V;v?V=N:f?V=Math.abs(X/2-N):c?V=X-N:g&&(V=Math.abs(u-N));var W;if(m){var Z;f?Z=(y-x)/X*(V*2):Z=(y-x)/X*V,Q?W=Z*Q(V/X):W=Z}else Q?W=X*T*Q(V/X):W=V*x;return W+l},r};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),d=t(265),o=t(13),a=t(99),s=t(80),i=t(162),r=t(263),l=t(584),n=t(6),h=t(588),u=t(163),v=function(f,c){var g=new h(f);g.completeDelay=o(c,"completeDelay",0),g.loop=Math.round(o(c,"loop",0)),g.loopDelay=Math.round(o(c,"loopDelay",0)),g.paused=a(c,"paused",!1),g.useFrames=a(c,"useFrames",!1);var m=n(c,"callbackScope",g),x=[g],y=n(c,"onStart",!1);if(y){var T=n(c,"onStartScope",m),E=n(c,"onStartParams",[]);g.setCallback("onStart",y,x.concat(E),T)}var R=n(c,"onUpdate",!1);if(R){var M=n(c,"onUpdateScope",m),P=n(c,"onUpdateParams",[]);g.setCallback("onUpdate",R,x.concat(P),M)}var O=n(c,"onLoop",!1);if(O){var I=n(c,"onLoopScope",m),B=n(c,"onLoopParams",[]);g.setCallback("onLoop",O,x.concat(B),I)}var w=n(c,"onYoyo",!1);if(w){var z=n(c,"onYoyoScope",m),H=n(c,"onYoyoParams",[]);g.setCallback("onYoyo",w,x.concat(null,H),z)}var b=n(c,"onComplete",!1);if(b){var Q=n(c,"onCompleteScope",m),D=n(c,"onCompleteParams",[]);g.setCallback("onComplete",b,x.concat(D),Q)}var F=l(c);if(F.length===0)return g.paused=!0,g;var G=e(d);G.targets=r(c);var N=o(c,"totalDuration",0);N>0?G.duration=Math.floor(N/F.length):G.duration=i(c,"duration",G.duration),G.delay=i(c,"delay",G.delay),G.easeParams=n(c,"easeParams",G.easeParams),G.ease=s(n(c,"ease",G.ease),G.easeParams),G.hold=i(c,"hold",G.hold),G.repeat=i(c,"repeat",G.repeat),G.repeatDelay=i(c,"repeatDelay",G.repeatDelay),G.yoyo=a(c,"yoyo",G.yoyo),G.flipX=a(c,"flipX",G.flipX),G.flipY=a(c,"flipY",G.flipY);for(var X=0;X<F.length;X++)g.queue(u(g,F[X],G));return g};p.exports=v},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(9),o=t(267),a=t(163),s=t(100),i=new e({Extends:d,initialize:function(l){d.call(this),this.manager=l,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING_ADD,this._pausedState=s.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(r,l){this.emit(r,this),l&&l.func.apply(l.scope,l.params)},setTimeScale:function(r){return this.timeScale=r,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===s.ACTIVE},add:function(r){return this.queue(a(this,r))},queue:function(r){return this.isPlaying()||(r.parent=this,r.parentIsTimeline=!0,this.data.push(r),this.totalData=this.data.length),this},hasOffset:function(r){return r.offset!==null},isOffsetAbsolute:function(r){return typeof r=="number"},isOffsetRelative:function(r){var l=typeof r;if(l==="string"){var n=r[0];if(n==="-"||n==="+")return!0}return!1},getRelativeOffset:function(r,l){var n=r[0],h=parseFloat(r.substr(2)),u=l;switch(n){case"+":u+=h;break;case"-":u-=h;break}return Math.max(0,u)},calcDuration:function(){for(var r=0,l=0,n=0,h=0;h<this.totalData;h++){var u=this.data[h];u.init(),this.hasOffset(u)?this.isOffsetAbsolute(u.offset)?(u.calculatedOffset=u.offset,u.offset===0&&(n=0)):this.isOffsetRelative(u.offset)&&(u.calculatedOffset=this.getRelativeOffset(u.offset,r)):u.calculatedOffset=n,r=u.totalDuration+u.calculatedOffset,l+=u.totalDuration,n+=u.totalDuration}this.duration=l,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=s.PAUSED,!1):!0},resetTweens:function(r){for(var l=0;l<this.totalData;l++){var n=this.data[l];n.play(r)}},setCallback:function(r,l,n,h){return i.TYPES.indexOf(r)!==-1&&(this.callbacks[r]={func:l,scope:h,params:n}),this},makeActive:function(r){return this.manager.makeActive(r)},play:function(){if(this.state!==s.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=s.ACTIVE;this.dispatchTimelineEvent(o.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=s.LOOP_DELAY):(this.state=s.ACTIVE,this.dispatchTimelineEvent(o.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=s.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=s.PENDING_REMOVE,this.dispatchTimelineEvent(o.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(r,l){if(this.state!==s.PAUSED){switch(this.useFrames&&(l=1*this.manager.timeScale),l*=this.timeScale,this.elapsed+=l,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=l,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case s.ACTIVE:for(var n=this.totalData,h=0;h<this.totalData;h++){var u=this.data[h];u.update(r,l)&&n--}this.dispatchTimelineEvent(o.TIMELINE_UPDATE,this.callbacks.onUpdate),n===0&&this.nextState();break;case s.LOOP_DELAY:this.countdown-=l,this.countdown<=0&&(this.state=s.ACTIVE,this.dispatchTimelineEvent(o.TIMELINE_LOOP,this.callbacks.onLoop));break;case s.COMPLETE_DELAY:this.countdown-=l,this.countdown<=0&&(this.state=s.PENDING_REMOVE,this.dispatchTimelineEvent(o.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===s.PENDING_REMOVE}},stop:function(){this.state=s.PENDING_REMOVE},pause:function(){if(this.state!==s.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=s.PAUSED,this.emit(o.TIMELINE_PAUSE,this),this},resume:function(){return this.state===s.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(o.TIMELINE_RESUME,this)),this},hasTarget:function(r){for(var l=0;l<this.data.length;l++)if(this.data[l].hasTarget(r))return!0;return!1},destroy:function(){for(var r=0;r<this.data.length;r++)this.data[r].stop()}});i.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],p.exports=i},function(p,C,t){/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),d=t(41),o=t(32),a=t(2),s=t(64),i={parseBody:function(r,l,n,h){h===void 0&&(h={});for(var u=a(n,"fixtures",[]),v=[],f=0;f<u.length;f++)for(var c=this.parseFixture(u[f]),g=0;g<c.length;g++)v.push(c[g]);var m=o.clone(n,!0);o.extend(m,h,!0),delete m.fixtures,delete m.type;var x=d.create(m);return d.setParts(x,v),d.setPosition(x,{x:r,y:l}),x},parseFixture:function(r){var l=o.extend({},!1,r);delete l.circle,delete l.vertices;var n;if(r.circle){var h=a(r.circle,"x"),u=a(r.circle,"y"),v=a(r.circle,"radius");n=[e.circle(h,u,v,l)]}else r.vertices&&(n=this.parseVertices(r.vertices,l));return n},parseVertices:function(r,l){l===void 0&&(l={});for(var n=[],h=0;h<r.length;h++)s.clockwiseSort(r[h]),n.push(d.create(o.extend({position:s.centre(r[h]),vertices:r[h]},l)));return e.flagCoincidentParts(n)}};p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),d=t(41),o={parseBody:function(a,s,i,r){r===void 0&&(r={});var l,n=i.vertices;if(n.length===1)r.vertices=n[0],l=d.create(r),e.flagCoincidentParts(l.parts);else{for(var h=[],u=0;u<n.length;u++){var v=d.create({vertices:n[u]});h.push(v)}e.flagCoincidentParts(h),r.parts=h,l=d.create(r)}return l.label=i.label,d.setPosition(l,{x:a,y:s}),l}};p.exports=o},function(p,C,t){var e={};p.exports=e;var d=t(118),o=t(128),a=t(32),s=t(41),i=t(86);(function(){e.stack=function(r,l,n,h,u,v,f){for(var c=d.create({label:"Stack"}),g=r,m=l,x,y=0,T=0;T<h;T++){for(var E=0,R=0;R<n;R++){var M=f(g,m,R,T,x,y);if(M){var P=M.bounds.max.y-M.bounds.min.y,O=M.bounds.max.x-M.bounds.min.x;P>E&&(E=P),s.translate(M,{x:O*.5,y:P*.5}),g=M.bounds.max.x+u,d.addBody(c,M),x=M,y+=1}else g+=u}m+=E+v,g=r}return c},e.chain=function(r,l,n,h,u,v){for(var f=r.bodies,c=1;c<f.length;c++){var g=f[c-1],m=f[c],x=g.bounds.max.y-g.bounds.min.y,y=g.bounds.max.x-g.bounds.min.x,T=m.bounds.max.y-m.bounds.min.y,E=m.bounds.max.x-m.bounds.min.x,R={bodyA:g,pointA:{x:y*l,y:x*n},bodyB:m,pointB:{x:E*h,y:T*u}},M=a.extend(R,v);d.addConstraint(r,o.create(M))}return r.label+=" Chain",r},e.mesh=function(r,l,n,h,u){var v=r.bodies,f,c,g,m,x;for(f=0;f<n;f++){for(c=1;c<l;c++)g=v[c-1+f*l],m=v[c+f*l],d.addConstraint(r,o.create(a.extend({bodyA:g,bodyB:m},u)));if(f>0)for(c=0;c<l;c++)g=v[c+(f-1)*l],m=v[c+f*l],d.addConstraint(r,o.create(a.extend({bodyA:g,bodyB:m},u))),h&&c>0&&(x=v[c-1+(f-1)*l],d.addConstraint(r,o.create(a.extend({bodyA:x,bodyB:m},u)))),h&&c<l-1&&(x=v[c+1+(f-1)*l],d.addConstraint(r,o.create(a.extend({bodyA:x,bodyB:m},u))))}return r.label+=" Mesh",r},e.pyramid=function(r,l,n,h,u,v,f){return e.stack(r,l,n,h,u,v,function(c,g,m,x,y,T){var E=Math.min(h,Math.ceil(n/2)),R=y?y.bounds.max.x-y.bounds.min.x:0;if(!(x>E)){x=E-x;var M=x,P=n-1-x;if(!(m<M||m>P)){T===1&&s.translate(y,{x:(m+(n%2===1?1:-1))*R,y:0});var O=y?m*R:0;return f(r+O+m*u,g,m,x,y,T)}}})},e.newtonsCradle=function(r,l,n,h,u){for(var v=d.create({label:"Newtons Cradle"}),f=0;f<n;f++){var c=1.9,g=i.circle(r+f*(h*c),l+u,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=o.create({pointA:{x:r+f*(h*c),y:l},bodyB:g});d.addBody(v,g),d.addConstraint(v,m)}return v},e.car=function(r,l,n,h,u){var v=s.nextGroup(!0),f=20,c=-n*.5+f,g=n*.5-f,m=0,x=d.create({label:"Car"}),y=i.rectangle(r,l,n,h,{collisionFilter:{group:v},chamfer:{radius:h*.5},density:2e-4}),T=i.circle(r+c,l+m,u,{collisionFilter:{group:v},friction:.8}),E=i.circle(r+g,l+m,u,{collisionFilter:{group:v},friction:.8}),R=o.create({bodyB:y,pointB:{x:c,y:m},bodyA:T,stiffness:1,length:0}),M=o.create({bodyB:y,pointB:{x:g,y:m},bodyA:E,stiffness:1,length:0});return d.addBody(x,y),d.addBody(x,T),d.addBody(x,E),d.addConstraint(x,R),d.addConstraint(x,M),x},e.softBody=function(r,l,n,h,u,v,f,c,g,m){g=a.extend({inertia:1/0},g),m=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var x=e.stack(r,l,n,h,u,v,function(y,T){return i.circle(y,T,c,g)});return e.mesh(x,n,h,f,m),x.label="Soft Body",x}})()},function(p,C,t){var e={};p.exports=e;var d=t(84),o=t(32);(function(){e.pathToVertices=function(a,s){typeof window!="undefined"&&!("SVGPathSeg"in window)&&o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,r,l,n,h,u,v,f,c,g,m=[],x,y,T=0,E=0,R=0;s=s||15;var M=function(O,I,B){var w=B%2===1&&B>1;if(!c||O!=c.x||I!=c.y){c&&w?(x=c.x,y=c.y):(x=0,y=0);var z={x:x+O,y:y+I};(w||!c)&&(c=z),m.push(z),E=x+O,R=y+I}},P=function(O){var I=O.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":E=O.x,R=O.y;break;case"H":E=O.x;break;case"V":R=O.y;break}M(E,R,O.pathSegType)}};for(e._svgPathToAbsolute(a),l=a.getTotalLength(),u=[],i=0;i<a.pathSegList.numberOfItems;i+=1)u.push(a.pathSegList.getItem(i));for(v=u.concat();T<l;){if(g=a.getPathSegAtLength(T),h=u[g],h!=f){for(;v.length&&v[0]!=h;)P(v.shift());f=h}switch(h.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":n=a.getPointAtLength(T),M(n.x,n.y,0);break}T+=s}for(i=0,r=v.length;i<r;++i)P(v[i]);return m},e._svgPathToAbsolute=function(a){for(var s,i,r,l,n,h,u=a.pathSegList,v=0,f=0,c=u.numberOfItems,g=0;g<c;++g){var m=u.getItem(g),x=m.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(x))"x"in m&&(v=m.x),"y"in m&&(f=m.y);else switch("x1"in m&&(r=v+m.x1),"x2"in m&&(n=v+m.x2),"y1"in m&&(l=f+m.y1),"y2"in m&&(h=f+m.y2),"x"in m&&(v+=m.x),"y"in m&&(f+=m.y),x){case"m":u.replaceItem(a.createSVGPathSegMovetoAbs(v,f),g);break;case"l":u.replaceItem(a.createSVGPathSegLinetoAbs(v,f),g);break;case"h":u.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(v),g);break;case"v":u.replaceItem(a.createSVGPathSegLinetoVerticalAbs(f),g);break;case"c":u.replaceItem(a.createSVGPathSegCurvetoCubicAbs(v,f,r,l,n,h),g);break;case"s":u.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(v,f,n,h),g);break;case"q":u.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(v,f,r,l),g);break;case"t":u.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(v,f),g);break;case"a":u.replaceItem(a.createSVGPathSegArcAbs(v,f,m.r1,m.r2,m.angle,m.largeArcFlag,m.sweepFlag),g);break;case"z":case"Z":v=s,f=i;break}(x=="M"||x=="m")&&(s=v,i=f)}}})()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),d=t(41),o=t(0),a=t(249),s=t(9),i=t(2),r=t(126),l=t(64),n=new o({Extends:s,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(u,v,f){s.call(this),this.tile=v,this.world=u,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var c=i(f,"body",null),g=i(f,"addToWorld",!0);if(c)this.setBody(c,g);else{var m=v.getCollisionGroup(),x=i(m,"objects",[]);x.length>0?this.setFromTileCollision(f):this.setFromTileRectangle(f)}},setFromTileRectangle:function(h){h===void 0&&(h={}),r(h,"isStatic")||(h.isStatic=!0),r(h,"addToWorld")||(h.addToWorld=!0);var u=this.tile.getBounds(),v=u.x+u.width/2,f=u.y+u.height/2,c=e.rectangle(v,f,u.width,u.height,h);return this.setBody(c,h.addToWorld),this},setFromTileCollision:function(h){h===void 0&&(h={}),r(h,"isStatic")||(h.isStatic=!0),r(h,"addToWorld")||(h.addToWorld=!0);for(var u=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,f=this.tile.getLeft(),c=this.tile.getTop(),g=this.tile.getCollisionGroup(),m=i(g,"objects",[]),x=[],y=0;y<m.length;y++){var T=m[y],E=f+T.x*u,R=c+T.y*v,M=T.width*u,P=T.height*v,O=null;if(T.rectangle)O=e.rectangle(E+M/2,R+P/2,M,P,h);else if(T.ellipse)O=e.circle(E+M/2,R+P/2,M/2,h);else if(T.polygon||T.polyline){var I=T.polygon?T.polygon:T.polyline,B=I.map(function(H){return{x:H.x*u,y:H.y*v}}),w=l.create(B),z=l.centre(w);E+=z.x,R+=z.y,O=e.fromVertices(E,R,w,h)}O&&x.push(O)}return x.length===1?this.setBody(x[0],h.addToWorld):x.length>1&&(h.parts=x,this.setBody(d.create(h),h.addToWorld)),this},setBody:function(h,u){return u===void 0&&(u=!0),this.body&&this.removeBody(),this.body=h,this.body.gameObject=this,u&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});p.exports=n},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1399);e.Body=t(41),e.Composite=t(118),e.World=t(596),e.Detector=t(273),e.Grid=t(597),e.Pairs=t(598),e.Pair=t(250),e.Query=t(1400),e.Resolver=t(599),e.SAT=t(274),e.Constraint=t(128),e.Common=t(32),e.Engine=t(1401),e.Events=t(166),e.Sleeping=t(165),e.Plugin=t(595),e.Bodies=t(86),e.Composites=t(591),e.Axes=t(271),e.Bounds=t(84),e.Svg=t(592),e.Vector=t(83),e.Vertices=t(64),e.World.add=e.Composite.add,e.World.remove=e.Composite.remove,e.World.addComposite=e.Composite.addComposite,e.World.addBody=e.Composite.addBody,e.World.addConstraint=e.Composite.addConstraint,e.World.clear=e.Composite.clear,p.exports=e},function(p,C,t){var e={};p.exports=e;var d=t(32);(function(){e._registry={},e.register=function(o){if(e.isPlugin(o)||d.warn("Plugin.register:",e.toString(o),"does not implement all required fields."),o.name in e._registry){var a=e._registry[o.name],s=e.versionParse(o.version).number,i=e.versionParse(a.version).number;s>i?(d.warn("Plugin.register:",e.toString(a),"was upgraded to",e.toString(o)),e._registry[o.name]=o):s<i?d.warn("Plugin.register:",e.toString(a),"can not be downgraded to",e.toString(o)):o!==a&&d.warn("Plugin.register:",e.toString(o),"is already registered to different plugin object")}else e._registry[o.name]=o;return o},e.resolve=function(o){return e._registry[e.dependencyParse(o).name]},e.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},e.isPlugin=function(o){return o&&o.name&&o.version&&o.install},e.isUsed=function(o,a){return o.used.indexOf(a)>-1},e.isFor=function(o,a){var s=o.for&&e.dependencyParse(o.for);return!o.for||a.name===s.name&&e.versionSatisfies(a.version,s.range)},e.use=function(o,a){if(o.uses=(o.uses||[]).concat(a||[]),o.uses.length===0){d.warn("Plugin.use:",e.toString(o),"does not specify any dependencies to install.");return}for(var s=e.dependencies(o),i=d.topologicalSort(s),r=[],l=0;l<i.length;l+=1)if(i[l]!==o.name){var n=e.resolve(i[l]);if(!n){r.push("\u274C "+i[l]);continue}e.isUsed(o,n.name)||(e.isFor(n,o)||(d.warn("Plugin.use:",e.toString(n),"is for",n.for,"but installed on",e.toString(o)+"."),n._warned=!0),n.install?n.install(o):(d.warn("Plugin.use:",e.toString(n),"does not specify an install function."),n._warned=!0),n._warned?(r.push("\u{1F536} "+e.toString(n)),delete n._warned):r.push("\u2705 "+e.toString(n)),o.used.push(n.name))}r.length>0&&!n.silent&&d.info(r.join("  "))},e.dependencies=function(o,a){var s=e.dependencyParse(o),i=s.name;if(a=a||{},!(i in a)){o=e.resolve(o)||o,a[i]=d.map(o.uses||[],function(l){e.isPlugin(l)&&e.register(l);var n=e.dependencyParse(l),h=e.resolve(l);return h&&!e.versionSatisfies(h.version,n.range)?(d.warn("Plugin.dependencies:",e.toString(h),"does not satisfy",e.toString(n),"used by",e.toString(s)+"."),h._warned=!0,o._warned=!0):h||(d.warn("Plugin.dependencies:",e.toString(l),"used by",e.toString(s),"could not be resolved."),o._warned=!0),n.name});for(var r=0;r<a[i].length;r+=1)e.dependencies(a[i][r],a);return a}},e.dependencyParse=function(o){if(d.isString(o)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return a.test(o)||d.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},e.versionParse=function(o){var a=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;a.test(o)||d.warn("Plugin.versionParse:",o,"is not a valid version or range.");var s=o.split("-");o=s[0];var i=isNaN(Number(o[0])),r=i?o.substr(1):o,l=d.map(r.split("."),function(n){return Number(n)});return{isRange:i,version:r,range:o,operator:i?o[0]:"",parts:l,prerelease:s[1],number:l[0]*1e8+l[1]*1e4+l[2]}},e.versionSatisfies=function(o,a){a=a||"*";var s=e.versionParse(a),i=s.parts,r=e.versionParse(o),l=r.parts;if(s.isRange){if(s.operator==="*"||o==="*")return!0;if(s.operator==="~")return l[0]===i[0]&&l[1]===i[1]&&l[2]>=i[2];if(s.operator==="^")return i[0]>0?l[0]===i[0]&&r.number>=s.number:i[1]>0?l[1]===i[1]&&l[2]>=i[2]:l[2]===i[2]}return o===a||o==="*"}})()},function(p,C,t){var e={};p.exports=e;var d=t(118),o=t(128),a=t(32);(function(){e.create=function(s){var i=d.create(),r={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return a.extend(i,r,s)}})()},function(p,C,t){var e={};p.exports=e;var d=t(250),o=t(273),a=t(32);(function(){e.create=function(s){var i={controller:e,detector:o.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(i,s)},e.update=function(s,i,r,l){var n,h,u,v=r.world,f=s.buckets,c,g,m=!1,x=r.metrics;for(x.broadphaseTests=0,n=0;n<i.length;n++){var y=i[n];if(!(y.isSleeping&&!l)&&!(y.bounds.max.x<v.bounds.min.x||y.bounds.min.x>v.bounds.max.x||y.bounds.max.y<v.bounds.min.y||y.bounds.min.y>v.bounds.max.y)){var T=e._getRegion(s,y);if(!y.region||T.id!==y.region.id||l){x.broadphaseTests+=1,(!y.region||l)&&(y.region=T);var E=e._regionUnion(T,y.region);for(h=E.startCol;h<=E.endCol;h++)for(u=E.startRow;u<=E.endRow;u++){g=e._getBucketId(h,u),c=f[g];var R=h>=T.startCol&&h<=T.endCol&&u>=T.startRow&&u<=T.endRow,M=h>=y.region.startCol&&h<=y.region.endCol&&u>=y.region.startRow&&u<=y.region.endRow;!R&&M&&M&&c&&e._bucketRemoveBody(s,c,y),(y.region===T||R&&!M||l)&&(c||(c=e._createBucket(f,g)),e._bucketAddBody(s,c,y))}y.region=T,m=!0}}}m&&(s.pairsList=e._createActivePairsList(s))},e.clear=function(s){s.buckets={},s.pairs={},s.pairsList=[]},e._regionUnion=function(s,i){var r=Math.min(s.startCol,i.startCol),l=Math.max(s.endCol,i.endCol),n=Math.min(s.startRow,i.startRow),h=Math.max(s.endRow,i.endRow);return e._createRegion(r,l,n,h)},e._getRegion=function(s,i){var r=i.bounds,l=Math.floor(r.min.x/s.bucketWidth),n=Math.floor(r.max.x/s.bucketWidth),h=Math.floor(r.min.y/s.bucketHeight),u=Math.floor(r.max.y/s.bucketHeight);return e._createRegion(l,n,h,u)},e._createRegion=function(s,i,r,l){return{id:s+","+i+","+r+","+l,startCol:s,endCol:i,startRow:r,endRow:l}},e._getBucketId=function(s,i){return"C"+s+"R"+i},e._createBucket=function(s,i){var r=s[i]=[];return r},e._bucketAddBody=function(s,i,r){for(var l=0;l<i.length;l++){var n=i[l];if(!(r.id===n.id||r.isStatic&&n.isStatic)){var h=d.id(r,n),u=s.pairs[h];u?u[2]+=1:s.pairs[h]=[r,n,1]}}i.push(r)},e._bucketRemoveBody=function(s,i,r){i.splice(i.indexOf(r),1);for(var l=0;l<i.length;l++){var n=i[l],h=d.id(r,n),u=s.pairs[h];u&&(u[2]-=1)}},e._createActivePairsList=function(s){var i,r,l=[];i=a.keys(s.pairs);for(var n=0;n<i.length;n++)r=s.pairs[i[n]],r[2]>0?l.push(r):delete s.pairs[i[n]];return l}})()},function(p,C,t){var e={};p.exports=e;var d=t(250),o=t(32);(function(){e._pairMaxIdleLife=1e3,e.create=function(a){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},e.update=function(a,s,i){var r=a.list,l=a.table,n=a.collisionStart,h=a.collisionEnd,u=a.collisionActive,v,f,c,g;for(n.length=0,h.length=0,u.length=0,g=0;g<r.length;g++)r[g].confirmedActive=!1;for(g=0;g<s.length;g++)v=s[g],v.collided&&(f=d.id(v.bodyA,v.bodyB),c=l[f],c?(c.isActive?u.push(c):n.push(c),d.update(c,v,i),c.confirmedActive=!0):(c=d.create(v,i),l[f]=c,n.push(c),r.push(c)));for(g=0;g<r.length;g++)c=r[g],c.isActive&&!c.confirmedActive&&(d.setActive(c,!1,i),h.push(c))},e.removeOld=function(a,s){var i=a.list,r=a.table,l=[],n,h,u,v;for(v=0;v<i.length;v++){if(n=i[v],h=n.collision,h.bodyA.isSleeping||h.bodyB.isSleeping){n.timeUpdated=s;continue}s-n.timeUpdated>e._pairMaxIdleLife&&l.push(v)}for(v=0;v<l.length;v++)u=l[v]-v,n=i[u],delete r[n.id],i.splice(u,1)},e.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},function(p,C,t){var e={};p.exports=e;var d=t(64),o=t(83),a=t(32),s=t(84);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(i){var r,l,n;for(r=0;r<i.length;r++)l=i[r],l.isActive&&(n=l.activeContacts.length,l.collision.parentA.totalContacts+=n,l.collision.parentB.totalContacts+=n)},e.solvePosition=function(i,r,l){var n,h,u,v,f,c,g,m,x,y,T,E,R,M,P,O,I=l*e._positionDampen;for(n=0;n<r.length;n++){var B=r[n];B.previousPositionImpulse.x=B.positionImpulse.x,B.previousPositionImpulse.y=B.positionImpulse.y}for(n=0;n<i.length;n++)v=i[n],!(!v.isActive||v.isSensor)&&(f=v.collision,c=f.parentA,g=f.parentB,m=f.normal,T=c.previousPositionImpulse,E=g.previousPositionImpulse,y=f.penetration,M=E.x-T.x+y.x,P=E.y-T.y+y.y,h=m.x,u=m.y,x=h*M+u*P,v.separation=x,O=(x-v.slop)*I,(c.isStatic||g.isStatic)&&(O*=2),c.isStatic||c.isSleeping||(R=O/c.totalContacts,c.positionImpulse.x+=h*R,c.positionImpulse.y+=u*R),g.isStatic||g.isSleeping||(R=O/g.totalContacts,g.positionImpulse.x-=h*R,g.positionImpulse.y-=u*R))},e.postSolvePosition=function(i){for(var r=0;r<i.length;r++){var l=i[r];if(l.totalContacts=0,l.positionImpulse.x!==0||l.positionImpulse.y!==0){for(var n=0;n<l.parts.length;n++){var h=l.parts[n];d.translate(h.vertices,l.positionImpulse),s.update(h.bounds,h.vertices,l.velocity),h.position.x+=l.positionImpulse.x,h.position.y+=l.positionImpulse.y}l.positionPrev.x+=l.positionImpulse.x,l.positionPrev.y+=l.positionImpulse.y,o.dot(l.positionImpulse,l.velocity)<0?(l.positionImpulse.x=0,l.positionImpulse.y=0):(l.positionImpulse.x*=e._positionWarming,l.positionImpulse.y*=e._positionWarming)}}},e.preSolveVelocity=function(i){var r,l,n,h,u,v,f,c,g,m,x,y,T,E,R=o._temp[0],M=o._temp[1];for(r=0;r<i.length;r++)if(n=i[r],!(!n.isActive||n.isSensor))for(h=n.activeContacts,u=n.collision,v=u.parentA,f=u.parentB,c=u.normal,g=u.tangent,l=0;l<h.length;l++)m=h[l],x=m.vertex,y=m.normalImpulse,T=m.tangentImpulse,(y!==0||T!==0)&&(R.x=c.x*y+g.x*T,R.y=c.y*y+g.y*T,v.isStatic||v.isSleeping||(E=o.sub(x,v.position,M),v.positionPrev.x+=R.x*v.inverseMass,v.positionPrev.y+=R.y*v.inverseMass,v.anglePrev+=o.cross(E,R)*v.inverseInertia),f.isStatic||f.isSleeping||(E=o.sub(x,f.position,M),f.positionPrev.x-=R.x*f.inverseMass,f.positionPrev.y-=R.y*f.inverseMass,f.anglePrev-=o.cross(E,R)*f.inverseInertia))},e.solveVelocity=function(i,r){for(var l=r*r,n=o._temp[0],h=o._temp[1],u=o._temp[2],v=o._temp[3],f=o._temp[4],c=o._temp[5],g=0;g<i.length;g++){var m=i[g];if(!(!m.isActive||m.isSensor)){var x=m.collision,y=x.parentA,T=x.parentB,E=x.normal,R=x.tangent,M=m.activeContacts,P=1/M.length;y.velocity.x=y.position.x-y.positionPrev.x,y.velocity.y=y.position.y-y.positionPrev.y,T.velocity.x=T.position.x-T.positionPrev.x,T.velocity.y=T.position.y-T.positionPrev.y,y.angularVelocity=y.angle-y.anglePrev,T.angularVelocity=T.angle-T.anglePrev;for(var O=0;O<M.length;O++){var I=M[O],B=I.vertex,w=o.sub(B,y.position,h),z=o.sub(B,T.position,u),H=o.add(y.velocity,o.mult(o.perp(w),y.angularVelocity),v),b=o.add(T.velocity,o.mult(o.perp(z),T.angularVelocity),f),Q=o.sub(H,b,c),D=o.dot(E,Q),F=o.dot(R,Q),G=Math.abs(F),N=a.sign(F),X=(1+m.restitution)*D,V=a.clamp(m.separation+D,0,1)*e._frictionNormalMultiplier,W=F,Z=1/0;G>m.friction*m.frictionStatic*V*l&&(Z=G,W=a.clamp(m.friction*N*l,-Z,Z));var et=o.cross(w,E),it=o.cross(z,E),ht=P/(y.inverseMass+T.inverseMass+y.inverseInertia*et*et+T.inverseInertia*it*it);if(X*=ht,W*=ht,D<0&&D*D>e._restingThresh*l)I.normalImpulse=0;else{var vt=I.normalImpulse;I.normalImpulse=Math.min(I.normalImpulse+X,0),X=I.normalImpulse-vt}if(F*F>e._restingThreshTangent*l)I.tangentImpulse=0;else{var lt=I.tangentImpulse;I.tangentImpulse=a.clamp(I.tangentImpulse+W,-Z,Z),W=I.tangentImpulse-lt}n.x=E.x*X+R.x*W,n.y=E.y*X+R.y*W,y.isStatic||y.isSleeping||(y.positionPrev.x+=n.x*y.inverseMass,y.positionPrev.y+=n.y*y.inverseMass,y.anglePrev+=o.cross(w,n)*y.inverseInertia),T.isStatic||T.isSleeping||(T.positionPrev.x-=n.x*T.inverseMass,T.positionPrev.y-=n.y*T.inverseMass,T.anglePrev-=o.cross(z,n)*T.inverseInertia)}}}}})()},function(p,C){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){typeof window=="object"&&(t=window)}p.exports=t},function(p,C,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(276),d=function(o,a,s,i){for(var r=o[0],l=1;l<o.length;l++){var n=o[l];e(n,r,a,s,i),r=n}return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),d=function(o,a,s,i,r){return e(o,"angle",a,s,i,r)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){for(var a=0;a<e.length;a++){var s=e[a];d.call(o,s)}return e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){o===void 0&&(o=0);for(var a=o;a<e.length;a++){var s=e[a],i=!0;for(var r in d)s[r]!==d[r]&&(i=!1);if(i)return s}return null};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){o===void 0&&(o=0);for(var a=o;a<e.length;a++){var s=e[a],i=!0;for(var r in d)s[r]!==d[r]&&(i=!1);if(i)return s}return null};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(289),d=t(123),o=t(2),a=t(1),s=t(129),i=new s({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1),r=function(l,n){n===void 0&&(n={});var h=n.hasOwnProperty("width"),u=n.hasOwnProperty("height"),v=o(n,"width",-1),f=o(n,"height",-1),c=o(n,"cellWidth",1),g=o(n,"cellHeight",c),m=o(n,"position",d.TOP_LEFT),x=o(n,"x",0),y=o(n,"y",0),T=0,E=0,R=v*c,M=f*g;i.setPosition(x,y),i.setSize(c,g);for(var P=0;P<l.length;P++)if(e(l[P],i,m),h&&v===-1)i.x+=c;else if(u&&f===-1)i.y+=g;else if(u&&!h){if(E+=g,i.y+=g,E===M&&(E=0,T+=c,i.y=y,i.x+=c,T===R))break}else if(T+=c,i.x+=c,T===R&&(T=0,E+=g,i.x=x,i.y+=g,E===M))break;return l};p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=2,o={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,s,i,r){return a===void 0&&(a=1),s===void 0?this.alpha=a:(this._alphaTL=e(a,0,1),this._alphaTR=e(s,0,1),this._alphaBL=e(i,0,1),this._alphaBR=e(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var s=e(a,0,1);this._alpha=s,this._alphaTL=s,this._alphaTR=s,this._alphaBL=s,this._alphaBR=s,s===0?this.renderFlags&=~d:this.renderFlags|=d}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var s=e(a,0,1);this._alphaTL=s,s!==0&&(this.renderFlags|=d)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var s=e(a,0,1);this._alphaTR=s,s!==0&&(this.renderFlags|=d)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var s=e(a,0,1);this._alphaBL=s,s!==0&&(this.renderFlags|=d)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var s=e(a,0,1);this._alphaBR=s,s!==0&&(this.renderFlags|=d)}}};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,d){return this.width=e,this.height=d,this},setDisplaySize:function(e,d){return this.displayWidth=e,this.displayHeight=d,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={texture:null,frame:null,isCropped:!1,setCrop:function(e,d,o,a){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,d,o,a,this.flipX,this.flipY);else{var s=e;this.frame.setCropUVs(this._crop,s.x,s.y,s.width,s.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,d){return this.flipX=e,this.flipY=d,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=t(308),o=t(3),a={prepareBoundsOutput:function(s,i){if(i===void 0&&(i=!1),this.rotation!==0&&d(s,this.x,this.y,this.rotation),i&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(s.x,s.y,s)}return s},getCenter:function(s){return s===void 0&&(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,s},getTopLeft:function(s,i){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,i)},getTopCenter:function(s,i){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,i)},getTopRight:function(s,i){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(s,i)},getLeftCenter:function(s,i){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,i)},getRightCenter:function(s,i){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(s,i)},getBottomLeft:function(s,i){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,i)},getBottomCenter:function(s,i){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,i)},getBottomRight:function(s,i){return s||(s=new o),s.x=this.x-this.displayWidth*this.originX+this.displayWidth,s.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(s,i)},getBounds:function(s){s===void 0&&(s=new e);var i,r,l,n,h,u,v,f;if(this.parentContainer){var c=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(s),c.transformPoint(s.x,s.y,s),i=s.x,r=s.y,this.getTopRight(s),c.transformPoint(s.x,s.y,s),l=s.x,n=s.y,this.getBottomLeft(s),c.transformPoint(s.x,s.y,s),h=s.x,u=s.y,this.getBottomRight(s),c.transformPoint(s.x,s.y,s),v=s.x,f=s.y}else this.getTopLeft(s),i=s.x,r=s.y,this.getTopRight(s),l=s.x,n=s.y,this.getBottomLeft(s),h=s.x,u=s.y,this.getBottomRight(s),v=s.x,f=s.y;return s.x=Math.min(i,l,h,v),s.y=Math.min(r,n,u,f),s.width=Math.max(i,l,h,v)-s.x,s.height=Math.max(r,n,u,f)-s.y,s}};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="blur"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextlost"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="contextrestored"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="focus"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="hidden"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="poststep"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prestep"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="step"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="visible"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,d){return e===void 0&&(e=.5),d===void 0&&(d=e),this.originX=e,this.originY=d,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,d){return e===void 0&&(e=0),d===void 0&&(d=e),this.displayOriginX=e,this.displayOriginY=d,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),d=t(99),o=t(6),a=t(100),s=t(3),i={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(r,l){l===void 0&&(l=this.pathConfig);var n=this.pathTween;return n&&n.isPlaying()&&n.stop(),this.path=r,l&&this.startFollow(l),this},setRotateToPath:function(r,l){return l===void 0&&(l=0),this.rotateToPath=r,this.pathRotationOffset=l,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,l){r===void 0&&(r={}),l===void 0&&(l=0);var n=this.pathTween;n&&n.isPlaying()&&n.stop(),typeof r=="number"&&(r={duration:r}),r.from=o(r,"from",0),r.to=o(r,"to",1);var h=d(r,"positionOnPath",!1);this.rotateToPath=d(r,"rotateToPath",!1),this.pathRotationOffset=o(r,"rotationOffset",0);var u=o(r,"startAt",l);if(u&&(r.onStart=function(f){var c=f.data[0];c.progress=u,c.elapsed=c.duration*u;var g=c.ease(c.progress);c.current=c.start+(c.end-c.start)*g,c.target[c.key]=c.current}),this.pathOffset||(this.pathOffset=new s(this.x,this.y)),this.pathVector||(this.pathVector=new s),this.pathDelta||(this.pathDelta=new s),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var v=this.path.getPoint(.1);this.rotation=Math.atan2(v.y-this.y,v.x-this.x)+e(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r){var l=r.data[0],n=this.pathDelta,h=this.pathVector;if(n.copy(h).negate(),l.state===a.COMPLETE){this.path.getPoint(1,h),n.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(l.state!==a.PLAYING_FORWARD&&l.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),h),n.add(h),h.add(this.pathOffset);var u=this.x,v=this.y;this.setPosition(h.x,h.y);var f=this.x-u,c=this.y-v;if(f===0&&c===0)return;if(l.state!==this._prevDirection){this._prevDirection=l.state;return}this.rotateToPath&&(this.rotation=Math.atan2(c,f)+e(this.pathRotationOffset))}}};p.exports=i},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){return e===void 0&&(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,this},setSize:function(e,d){return this.width=e,this.height=d,this},setDisplaySize:function(e,d){return this.displayWidth=e,this.displayHeight=d,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setTexture:function(d,o){return this.texture=this.scene.sys.textures.get(d),this.setFrame(o)},setFrame:function(d,o,a){return o===void 0&&(o=!0),a===void 0&&(a=!0),this.frame=this.texture.get(d),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setCrop:function(d,o,a,s){if(d===void 0)this.isCropped=!1;else if(this.frame){if(typeof d=="number")this.frame.setCropUVs(this._crop,d,o,a,s,this.flipX,this.flipY);else{var i=d;this.frame.setCropUVs(this._crop,i.x,i.y,i.width,i.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(d,o){return this.texture=this.scene.sys.textures.get(d),this.setFrame(o)},setFrame:function(d,o,a){return o===void 0&&(o=!0),a===void 0&&(a=!0),this.frame=this.texture.get(d),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,d,o,a){return e===void 0&&(e=16777215),d===void 0&&(d=e,o=e,a=e),this.tintTopLeft=e,this.tintTopRight=d,this.tintBottomLeft=o,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(e,d,o,a){return this.setTint(e,d,o,a),this.tintFill=!0,this},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="changedata-"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedata"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="setdata"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="created"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="error"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeked"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seeking"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="timeout"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addedtoscene"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="create"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postupdate"},function(p,C){/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removedfromscene"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="render"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleep"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioncomplete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitioninit"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionout"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionstart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="transitionwake"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wake"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),d=function(o,a,s,i,r){return e(o,"alpha",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),d=function(o,a,s,i,r){return e(o,"x",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),d=function(o,a,s,i,r,l,n){return s==null&&(s=a),e(o,"x",a,i,l,n),e(o,"y",s,r,l,n)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),d=function(o,a,s,i,r){return e(o,"y",a,s,i,r)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o===void 0&&(o=0),a===void 0&&(a=6.28);for(var s=o,i=(a-o)/e.length,r=0;r<e.length;r++)e[r].x=d.x+d.radius*Math.cos(s),e[r].y=d.y+d.radius*Math.sin(s),s+=i;return e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o===void 0&&(o=0),a===void 0&&(a=6.28);for(var s=o,i=(a-o)/e.length,r=d.width/2,l=d.height/2,n=0;n<e.length;n++)e[n].x=d.x+r*Math.cos(s),e[n].y=d.y+l*Math.sin(s),s+=i;return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(172),d=function(o,a){for(var s=e(a,o.length),i=0;i<o.length;i++){var r=o[i],l=s[i];r.x=l.x,r.y=l.y}return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(316),d=t(178),o=t(179),a=function(s,i,r){r===void 0&&(r=0);var l=e(i,!1,s.length);r>0?d(l,r):r<0&&o(l,Math.abs(r));for(var n=0;n<s.length;n++)s[n].x=l[n].x,s[n].y=l[n].y;return s};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(317),d=function(o,a,s){var i=e({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},s),r=e({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},s),l=e({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},s);i.pop(),r.pop(),l.pop(),i=i.concat(r,l);for(var n=i.length/o.length,h=0,u=0;u<o.length;u++){var v=o[u],f=i[Math.floor(h)];v.x=f.x,v.y=f.y,h+=n}return o};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){for(var a=0;a<e.length;a++){var s=e[a];s.anims&&s.anims.play(d,o)}return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(170),d=function(o,a){for(var s=0;s<o.length;s++)e(a,o[s]);return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(180),d=function(o,a){for(var s=0;s<o.length;s++)e(a,o[s]);return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(173),d=function(o,a){for(var s=0;s<o.length;s++)e(a,o[s]);return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(174),d=function(o,a){for(var s=0;s<o.length;s++)e(a,o[s]);return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(181),d=function(o,a){for(var s=0;s<o.length;s++)e(a,o[s]);return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),d=function(o,a,s,i,r){return e(o,"rotation",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),d=t(50),o=function(a,s,i){for(var r=s.x,l=s.y,n=0;n<a.length;n++){var h=a[n];e(h,r,l,i,Math.max(1,d(h.x,h.y,r,l)))}return a};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),d=function(o,a,s,i){var r=a.x,l=a.y;if(i===0)return o;for(var n=0;n<o.length;n++)e(o[n],r,l,s,i);return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),d=function(o,a,s,i,r){return e(o,"scaleX",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),d=function(o,a,s,i,r,l,n){return s==null&&(s=a),e(o,"scaleX",a,i,l,n),e(o,"scaleY",s,r,l,n)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),d=function(o,a,s,i,r){return e(o,"scaleY",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r){return e(o,"alpha",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i){return e(o,"blendMode",a,0,s,i)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r){return e(o,"depth",a,s,i,r)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){for(var a=0;a<e.length;a++)e[a].setInteractive(d,o);return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r,l,n){return s==null&&(s=a),e(o,"originX",a,i,l,n),e(o,"originY",s,r,l,n),o.forEach(function(h){h.updateDisplayOrigin()}),o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r){return e(o,"rotation",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r,l,n){return s==null&&(s=a),e(o,"scaleX",a,i,l,n),e(o,"scaleY",s,r,l,n)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r){return e(o,"scaleX",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r){return e(o,"scaleY",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r,l,n){return s==null&&(s=a),e(o,"scrollFactorX",a,i,l,n),e(o,"scrollFactorY",s,r,l,n)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r){return e(o,"scrollFactorX",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r){return e(o,"scrollFactorY",a,s,i,r)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s){for(var i=0;i<e.length;i++)e[i].setTint(d,o,a,s);return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i){return e(o,"visible",a,0,s,i)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r){return e(o,"x",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r,l,n){return s==null&&(s=a),e(o,"x",a,i,l,n),e(o,"y",s,r,l,n)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),d=function(o,a,s,i,r){return e(o,"y",a,s,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),d=function(o,a,s,i,r){i===void 0&&(i=0),r===void 0&&(r=new e);var l,n;if(o.length>1){var h,u,v,f;if(i===0){var c=o.length-1;for(l=o[c].x,n=o[c].y,h=c-1;h>=0;h--)f=o[h],u=f.x,v=f.y,f.x=l,f.y=n,l=u,n=v;o[c].x=a,o[c].y=s}else{for(l=o[0].x,n=o[0].y,h=1;h<o.length;h++)f=o[h],u=f.x,v=f.y,f.x=l,f.y=n,l=u,n=v;o[0].x=a,o[0].y=s}}else l=o[0].x,n=o[0].y,o[0].x=a,o[0].y=s;return r.x=l,r.y=n,r};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(131),d=function(o){return e(o)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),d=function(o,a,s,i,r){r===void 0&&(r=!1);var l=Math.abs(i-s)/o.length,n;if(r)for(n=0;n<o.length;n++)o[n][a]+=e(n*l,s,i);else for(n=0;n<o.length;n++)o[n][a]=e(n*l,s,i);return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),d=function(o,a,s,i,r){r===void 0&&(r=!1);var l=Math.abs(i-s)/o.length,n;if(r)for(n=0;n<o.length;n++)o[n][a]+=e(n*l,s,i);else for(n=0;n<o.length;n++)o[n][a]=e(n*l,s,i);return o};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s){s===void 0&&(s=!1);var i=Math.abs(a-o)/e.length,r;if(s)for(r=0;r<e.length;r++)e[r][d]+=r*i+o;else for(r=0;r<e.length;r++)e[r][d]=r*i+o;return e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var d=0;d<e.length;d++)e[d].visible=!e[d].visible;return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),d=function(o,a,s){s===void 0&&(s=0);for(var i=0;i<o.length;i++){var r=o[i];r.x=e(r.x,a.left-s,a.right+s),r.y=e(r.y,a.top-s,a.bottom+s)}return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Animation:t(185),AnimationFrame:t(319),AnimationManager:t(321),AnimationState:t(164),Events:t(132)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationcomplete-"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrepeat"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationrestart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationstop"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="animationupdate"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BaseCache:t(323),CacheManager:t(325),Events:t(324)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Controls:t(739),Scene2D:t(742)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FixedKeyControl:t(740),SmoothedKeyControl:t(741)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(6),o=new e({initialize:function(s){this.camera=d(s,"camera",null),this.left=d(s,"left",null),this.right=d(s,"right",null),this.up=d(s,"up",null),this.down=d(s,"down",null),this.zoomIn=d(s,"zoomIn",null),this.zoomOut=d(s,"zoomOut",null),this.zoomSpeed=d(s,"zoomSpeed",.01),this.minZoom=d(s,"minZoom",.001),this.maxZoom=d(s,"maxZoom",1e3),this.speedX=0,this.speedY=0;var i=d(s,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=d(s,"speed.x",0),this.speedY=d(s,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(!!this.active){a===void 0&&(a=1);var s=this.camera;this.up&&this.up.isDown?s.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(s.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?s.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(s.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(s.zoom-=this.zoomSpeed,s.zoom<this.minZoom&&(s.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(s.zoom+=this.zoomSpeed,s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(6),o=new e({initialize:function(s){this.camera=d(s,"camera",null),this.left=d(s,"left",null),this.right=d(s,"right",null),this.up=d(s,"up",null),this.down=d(s,"down",null),this.zoomIn=d(s,"zoomIn",null),this.zoomOut=d(s,"zoomOut",null),this.zoomSpeed=d(s,"zoomSpeed",.01),this.minZoom=d(s,"minZoom",.001),this.maxZoom=d(s,"maxZoom",1e3),this.accelX=0,this.accelY=0;var i=d(s,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=d(s,"acceleration.x",0),this.accelY=d(s,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=d(s,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=d(s,"drag.x",0),this.dragY=d(s,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var l=d(s,"maxSpeed",null);typeof l=="number"?(this.maxSpeedX=l,this.maxSpeedY=l):(this.maxSpeedX=d(s,"maxSpeed.x",0),this.maxSpeedY=d(s,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(!!this.active){a===void 0&&(a=1);var s=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(s.scrollX-=this._speedX*a|0),this._speedY!==0&&(s.scrollY-=this._speedY*a|0),this._zoom!==0&&(s.zoom+=this._zoom,s.zoom<this.minZoom?s.zoom=this.minZoom:s.zoom>this.maxZoom&&(s.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Camera:t(326),BaseCamera:t(133),CameraManager:t(799),Effects:t(333),Events:t(37)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameradestroy"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeincomplete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeinstart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutcomplete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerafadeoutstart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashcomplete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="cameraflashstart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="followupdate"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapancomplete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerapanstart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postrender"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="prerender"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatecomplete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerarotatestart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakecomplete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerashakestart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomcomplete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="camerazoomstart"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=t(0),o=t(37),a=new d({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,i,r,l,n,h,u,v){if(s===void 0&&(s=!0),i===void 0&&(i=1e3),r===void 0&&(r=0),l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h=!1),u===void 0&&(u=null),v===void 0&&(v=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=s,this.progress=0,this.red=r,this.green=l,this.blue=n,this.alpha=s?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=u,this._onUpdateScope=v;var f=s?o.FADE_OUT_START:o.FADE_IN_START;return this.camera.emit(f,this.camera,this,i,r,l,n),this.camera},update:function(s,i){!this.isRunning||(this._elapsed+=i,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(s){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(s,i){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera,l=this.red/255,n=this.green/255,h=this.blue/255;return s.drawFillRect(r.x,r.y,r.width,r.height,i(h,n,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var s=this.direction?o.FADE_OUT_COMPLETE:o.FADE_IN_COMPLETE;this.camera.emit(s,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=t(0),o=t(37),a=new d({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,i,r,l,n,h,u){return s===void 0&&(s=250),i===void 0&&(i=255),r===void 0&&(r=255),l===void 0&&(l=255),n===void 0&&(n=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene),!n&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,this.red=i,this.green=r,this.blue=l,this.alpha=1,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(o.FLASH_START,this.camera,this,s,i,r,l),this.camera)},update:function(s,i){!this.isRunning||(this._elapsed+=i,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(s){if(!this.isRunning)return!1;var i=this.camera;return s.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",s.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(s,i){if(!this.isRunning)return!1;var r=this.camera,l=this.red/255,n=this.green/255,h=this.blue/255;return s.drawFillRect(r.x,r.y,r.width,r.height,i(h,n,l,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=t(0),o=t(134),a=t(37),s=t(3),i=new d({initialize:function(l){this.camera=l,this.isRunning=!1,this.duration=0,this.source=new s,this.current=new s,this.destination=new s,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,l,n,h,u,v,f){n===void 0&&(n=1e3),h===void 0&&(h=o.Linear),u===void 0&&(u=!1),v===void 0&&(v=null),f===void 0&&(f=this.camera.scene);var c=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=n,this.progress=0,this.source.set(c.scrollX,c.scrollY),this.destination.set(r,l),c.getScroll(r,l,this.current),typeof h=="string"&&o.hasOwnProperty(h)?this.ease=o[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=f,this.camera.emit(a.PAN_START,this.camera,this,n,r,l)),c},update:function(r,l){if(!!this.isRunning){this._elapsed+=l;var n=e(this._elapsed/this.duration,0,1);this.progress=n;var h=this.camera;if(this._elapsed<this.duration){var u=this.ease(n);h.getScroll(this.destination.x,this.destination.y,this.current);var v=this.source.x+(this.current.x-this.source.x)*u,f=this.source.y+(this.current.y-this.source.y)*u;h.setScroll(v,f),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,n,v,f)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,n,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=i},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d===void 0&&(d=1.70158),e*e*((d+1)*e-d)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d===void 0&&(d=1.70158),--e*e*((d+1)*e+d)+1};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d===void 0&&(d=1.70158);var o=d*1.525;return(e*=2)<1?.5*(e*e*((o+1)*e-o)):.5*((e-=2)*e*((o+1)*e+o)+2)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d=!1;return e<.5?(e=1-e*2,d=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,d?(1-e)*.5:e*.5+.5};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.sqrt(1-e*e)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(1- --e*e)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e+1};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(d===void 0&&(d=.1),o===void 0&&(o=.1),e===0)return 0;if(e===1)return 1;var a=o/4;return d<1?d=1:a=o*Math.asin(1/d)/(2*Math.PI),-(d*Math.pow(2,10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/o))};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(d===void 0&&(d=.1),o===void 0&&(o=.1),e===0)return 0;if(e===1)return 1;var a=o/4;return d<1?d=1:a=o*Math.asin(1/d)/(2*Math.PI),d*Math.pow(2,-10*e)*Math.sin((e-a)*(2*Math.PI)/o)+1};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(d===void 0&&(d=.1),o===void 0&&(o=.1),e===0)return 0;if(e===1)return 1;var a=o/4;return d<1?d=1:a=o*Math.asin(1/d)/(2*Math.PI),(e*=2)<1?-.5*(d*Math.pow(2,10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/o)):d*Math.pow(2,-10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/o)*.5+1};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.pow(2,10*(e-1))-.001};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.pow(2,-10*e)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*(2-e)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1- --e*e*e*e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e*e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e*e*e+1};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d===void 0&&(d=1),e<=0?0:e>=1?1:((d*e|0)+1)*(1/d)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=t(0),o=t(37),a=t(3),s=new d({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(i,r,l,n,h){return i===void 0&&(i=100),r===void 0&&(r=.05),l===void 0&&(l=!1),n===void 0&&(n=null),h===void 0&&(h=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,typeof r=="number"?this.intensity.set(r):this.intensity.set(r.x,r.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=n,this._onUpdateScope=h,this.camera.emit(o.SHAKE_START,this.camera,this,i,r),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,r){if(!!this.isRunning)if(this._elapsed+=r,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var l=this.intensity,n=this.camera.width,h=this.camera.height,u=this.camera.zoom;this._offsetX=(Math.random()*l.x*n*2-l.x*n)*u,this._offsetY=(Math.random()*l.y*h*2-l.y*h)*u,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});p.exports=s},function(p,C,t){/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e=t(18),d=t(0),o=t(37),a=t(134),s=new d({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(i,r,l,n,h,u,v){l===void 0&&(l=1e3),n===void 0&&(n=a.Linear),h===void 0&&(h=!1),u===void 0&&(u=null),v===void 0&&(v=this.camera.scene),r===void 0&&(r=!1),this.shortestPath=r;var f=i;i<0?(f=-1*i,this.clockwise=!1):this.clockwise=!0;var c=360*Math.PI/180;f=f-Math.floor(f/c)*c;var g=this.camera;if(!h&&this.isRunning)return g;if(this.isRunning=!0,this.duration=l,this.progress=0,this.source=g.rotation,this.destination=f,typeof n=="string"&&a.hasOwnProperty(n)?this.ease=a[n]:typeof n=="function"&&(this.ease=n),this._elapsed=0,this._onUpdate=u,this._onUpdateScope=v,this.shortestPath){var m=0,x=0;this.destination>this.source?m=Math.abs(this.destination-this.source):m=Math.abs(this.destination+c)-this.source,this.source>this.destination?x=Math.abs(this.source-this.destination):x=Math.abs(this.source+c)-this.destination,m<x?this.clockwise=!0:m>x&&(this.clockwise=!1)}return this.camera.emit(o.ROTATE_START,this.camera,this,l,f),g},update:function(i,r){if(!!this.isRunning){this._elapsed+=r;var l=e(this._elapsed/this.duration,0,1);this.progress=l;var n=this.camera;if(this._elapsed<this.duration){var h=this.ease(l);this.current=n.rotation;var u=0,v=360*Math.PI/180,f=this.destination,c=this.current;this.clockwise===!1&&(f=this.current,c=this.destination),f>=c?u=Math.abs(f-c):u=Math.abs(f+v)-c;var g=0;this.clockwise?g=n.rotation+u*h:g=n.rotation-u*h,n.rotation=g,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,l,g)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,l,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(o.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=t(0),o=t(134),a=t(37),s=new d({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,r,l,n,h,u){r===void 0&&(r=1e3),l===void 0&&(l=o.Linear),n===void 0&&(n=!1),h===void 0&&(h=null),u===void 0&&(u=this.camera.scene);var v=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source=v.zoom,this.destination=i,typeof l=="string"&&o.hasOwnProperty(l)?this.ease=o[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=u,this.camera.emit(a.ZOOM_START,this.camera,this,r,i)),v},update:function(i,r){!this.isRunning||(this._elapsed+=r,this.progress=e(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(326),d=t(0),o=t(2),a=t(24),s=t(57),i=t(104),r=t(20),l=new d({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(r.BOOT,this.boot,this),h.sys.events.on(r.START,this.start,this)},boot:function(){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new e(0,0,n.scale.width,n.scale.height).setScene(this.scene),n.game.scale.on(i.RESIZE,this.onResize,this),this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){if(!this.main){var n=this.systems;n.settings.cameras?this.fromJSON(n.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(r.UPDATE,this.update,this),h.once(r.SHUTDOWN,this.shutdown,this)},add:function(n,h,u,v,f,c){n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),f===void 0&&(f=!1),c===void 0&&(c="");var g=new e(n,h,u,v);return g.setName(c),g.setScene(this.scene),g.setRoundPixels(this.roundPixels),g.id=this.getNextID(),this.cameras.push(g),f&&(this.main=g),g},addExisting:function(n,h){h===void 0&&(h=!1);var u=this.cameras.indexOf(n);return u===-1?(n.id=this.getNextID(),n.setRoundPixels(this.roundPixels),this.cameras.push(n),h&&(this.main=n),n):null},getNextID:function(){for(var n=this.cameras,h=1,u=0;u<32;u++){for(var v=!1,f=0;f<n.length;f++){var c=n[f];if(c&&c.id===h){v=!0;continue}}if(v)h=h<<1;else return h}return 0},getTotal:function(n){n===void 0&&(n=!1);for(var h=0,u=this.cameras,v=0;v<u.length;v++){var f=u[v];(!n||n&&f.visible)&&h++}return h},fromJSON:function(n){Array.isArray(n)||(n=[n]);for(var h=this.scene.sys.scale.width,u=this.scene.sys.scale.height,v=0;v<n.length;v++){var f=n[v],c=o(f,"x",0),g=o(f,"y",0),m=o(f,"width",h),x=o(f,"height",u),y=this.add(c,g,m,x);y.name=o(f,"name",""),y.zoom=o(f,"zoom",1),y.rotation=o(f,"rotation",0),y.scrollX=o(f,"scrollX",0),y.scrollY=o(f,"scrollY",0),y.roundPixels=o(f,"roundPixels",!1),y.visible=o(f,"visible",!0);var T=o(f,"backgroundColor",!1);T&&y.setBackgroundColor(T);var E=o(f,"bounds",null);if(E){var R=o(E,"x",0),M=o(E,"y",0),P=o(E,"width",h),O=o(E,"height",u);y.setBounds(R,M,P,O)}}return this},getCamera:function(n){for(var h=this.cameras,u=0;u<h.length;u++)if(h[u].name===n)return h[u];return null},getCamerasBelowPointer:function(n){for(var h=this.cameras,u=n.x,v=n.y,f=[],c=0;c<h.length;c++){var g=h[c];g.visible&&g.inputEnabled&&s(g,u,v)&&f.unshift(g)}return f},remove:function(n,h){h===void 0&&(h=!0),Array.isArray(n)||(n=[n]);for(var u=0,v=this.cameras,f=0;f<n.length;f++){var c=v.indexOf(n[f]);c!==-1&&(h?v[c].destroy():v[c].renderList=[],v.splice(c,1),u++)}return!this.main&&v[0]&&(this.main=v[0]),u},render:function(n,h){for(var u=this.scene,v=this.cameras,f=0;f<this.cameras.length;f++){var c=v[f];if(c.visible&&c.alpha>0){c.preRender();var g=this.getVisibleChildren(h.getChildren(),c);n.render(u,g,c)}}},getVisibleChildren:function(n,h){for(var u=[],v=0;v<n.length;v++){var f=n[v];f.willRender(h)&&u.push(f)}return u},resetAll:function(){for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(n,h){for(var u=0;u<this.cameras.length;u++)this.cameras[u].update(n,h)},onResize:function(n,h,u,v,f){for(var c=0;c<this.cameras.length;c++){var g=this.cameras[c];g._x===0&&g._y===0&&g._width===v&&g._height===f&&g.setSize(h.width,h.height)}},resize:function(n,h){for(var u=0;u<this.cameras.length;u++)this.cameras[u].setSize(n,h)},shutdown:function(){this.main=void 0;for(var n=0;n<this.cameras.length;n++)this.cameras[n].destroy();this.cameras=[];var h=this.systems.events;h.off(r.UPDATE,this.update,this),h.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("CameraManager",l,"cameras"),p.exports=l},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="enterfullscreen"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenfailed"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fullscreenunsupported"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="leavefullscreen"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="orientationchange"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resize"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Config:t(346),CreateRenderer:t(366),DebugHeader:t(384),Events:t(22),TimeStep:t(385),VisibilityHandler:t(387)}},function(p,C){var t=p.exports={},e,d;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=o}catch(g){e=o}try{typeof clearTimeout=="function"?d=clearTimeout:d=a}catch(g){d=a}})();function s(g){if(e===setTimeout)return setTimeout(g,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(g,0);try{return e(g,0)}catch(m){try{return e.call(null,g,0)}catch(x){return e.call(this,g,0)}}}function i(g){if(d===clearTimeout)return clearTimeout(g);if((d===a||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(g);try{return d(g)}catch(m){try{return d.call(null,g)}catch(x){return d.call(this,g)}}}var r=[],l=!1,n,h=-1;function u(){!l||!n||(l=!1,n.length?r=n.concat(r):h=-1,r.length&&v())}function v(){if(!l){var g=s(u);l=!0;for(var m=r.length;m;){for(n=r,r=[];++h<m;)n&&n[h].run();h=-1,m=r.length}n=null,l=!1,i(g)}}t.nextTick=function(g){var m=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)m[x-1]=arguments[x];r.push(new f(g,m)),r.length===1&&!l&&s(v)};function f(g,m){this.fun=g,this.array=m}f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function c(){}t.on=c,t.addListener=c,t.once=c,t.off=c,t.removeListener=c,t.removeAllListeners=c,t.emit=c,t.prependListener=c,t.prependOnceListener=c,t.listeners=function(g){return[]},t.binding=function(g){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(g){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),d={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function o(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(d.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(d.mspointer=!0),navigator.getGamepads&&(d.gamepads=!0),"onwheel"in window||e.ie&&"WheelEvent"in window?d.wheelEvent="wheel":"onmousewheel"in window?d.wheelEvent="mousewheel":e.firefox&&"MouseScrollEvent"in window&&(d.wheelEvent="DOMMouseScroll")),d}p.exports=o()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),d={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function o(){if(typeof importScripts=="function")return d;d.audioData=!!window.Audio,d.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),s=!!a.canPlayType;try{if(s&&(a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(d.ogg=!0),(a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||a.canPlayType("audio/opus;").replace(/^no$/,""))&&(d.opus=!0),a.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(d.mp3=!0),a.canPlayType("audio/wav").replace(/^no$/,"")&&(d.wav=!0),(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;").replace(/^no$/,""))&&(d.m4a=!0),a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(d.webm=!0),a.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(e.edge)d.dolby=!0;else if(e.safari&&e.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),r=parseInt(RegExp.$2,10);(i===10&&r>=11||i>10)&&(d.dolby=!0)}}}catch(l){}return d}p.exports=o()},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function e(){if(typeof importScripts=="function")return t;var d=document.createElement("video"),o=!!d.canPlayType;try{o&&(d.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(t.ogg=!0),d.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.h264=!0,t.mp4=!0),d.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(t.webm=!0),d.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(t.vp9=!0),d.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.hls=!0))}catch(a){}return t}p.exports=e()},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return t;var d,o="Fullscreen",a="FullScreen",s=["request"+o,"request"+a,"webkitRequest"+o,"webkitRequest"+a,"msRequest"+o,"msRequest"+a,"mozRequest"+a,"mozRequest"+o];for(d=0;d<s.length;d++)if(document.documentElement[s[d]]){t.available=!0,t.request=s[d];break}var i=["cancel"+a,"exit"+o,"webkitCancel"+a,"webkitExit"+o,"msCancel"+a,"msExit"+o,"mozCancel"+a,"mozExit"+o];if(t.available){for(d=0;d<i.length;d++)if(document[i[d]]){t.cancel=i[d];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(t.keyboard=!0),Object.defineProperty(t,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),t}p.exports=e()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(349),BetweenPoints:t(350),BetweenPointsY:t(813),BetweenY:t(814),CounterClockwise:t(815),Normalize:t(351),Random:t(816),RandomDegrees:t(817),Reverse:t(818),RotateTo:t(819),ShortestBetween:t(820),Wrap:t(269),WrapDegrees:t(270)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return Math.atan2(d.x-e.x,d.y-e.y)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){return Math.atan2(o-e,a-d)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),d=function(o){return o>Math.PI&&(o-=e.PI2),Math.abs(((o+e.TAU)%e.PI2-e.PI2)%e.PI2)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),d=function(){return e(-Math.PI,Math.PI)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),d=function(){return e(-180,180)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(351),d=function(o){return e(o+Math.PI)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),d=function(o,a,s){return s===void 0&&(s=.05),o===a||(Math.abs(a-o)<=s||Math.abs(a-o)>=e.PI2-s?o=a:(Math.abs(a-o)>Math.PI&&(a<o?a+=e.PI2:a-=e.PI2),a>o?o+=s:a<o&&(o-=s))),o};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=d-e;if(o===0)return 0;var a=Math.floor((o- -180)/360);return o-a*360};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Between:t(50),BetweenPoints:t(352),BetweenPointsSquared:t(822),Chebyshev:t(823),Power:t(824),Snake:t(825),Squared:t(353)}},function(p,C){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.x-d.x,a=e.y-d.y;return o*o+a*a};p.exports=t},function(p,C){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){return Math.max(Math.abs(e-o),Math.abs(d-a))};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s){return s===void 0&&(s=2),Math.sqrt(Math.pow(o-e,s)+Math.pow(a-d,s))};p.exports=t},function(p,C){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){return Math.abs(e-o)+Math.abs(d-a)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Back:t(334),Bounce:t(335),Circular:t(336),Cubic:t(337),Elastic:t(338),Expo:t(339),Linear:t(340),Quadratic:t(341),Quartic:t(342),Quintic:t(343),Sine:t(344),Stepped:t(345)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(828),Equal:t(124),Floor:t(829),GreaterThan:t(354),LessThan:t(355)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d===void 0&&(d=1e-4),Math.ceil(e-d)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d===void 0&&(d=1e-4),Math.floor(e+d)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Bezier:t(831),CatmullRom:t(832),CubicBezier:t(358),Linear:t(833),QuadraticBezier:t(359),SmoothStep:t(360),SmootherStep:t(834)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(356),d=function(o,a){for(var s=0,i=o.length-1,r=0;r<=i;r++)s+=Math.pow(1-a,i-r)*Math.pow(a,r)*o[r]*e(i,r);return s};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),d=function(o,a){var s=o.length-1,i=s*a,r=Math.floor(i);return o[0]===o[s]?(a<0&&(r=Math.floor(i=s*(1+a))),e(i-r,o[(r-1+s)%s],o[r],o[(r+1)%s],o[(r+2)%s])):a<0?o[0]-(e(-i,o[0],o[0],o[1],o[1])-o[0]):a>1?o[s]-(e(i-s,o[s],o[s],o[s-1],o[s-1])-o[s]):e(i-r,o[r?r-1:0],o[r],o[s<r+1?s:r+1],o[s<r+2?s:r+2])};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),d=function(o,a){var s=o.length-1,i=s*a,r=Math.floor(i);return a<0?e(o[0],o[1],i):a>1?e(o[s],o[s-1],s-i):e(o[r],o[r+1>s?s:r+1],i-r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),d=function(o,a,s){return a+(s-a)*e(o,0,1)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetNext:t(361),IsSize:t(138),IsValue:t(836)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0&&(e&e-1)===0};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Ceil:t(139),Floor:t(76),To:t(838)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){return o===void 0&&(o=0),d===0?e:(e-=o,e=d*Math.round(e/d),a?(o+e)/d:o+e)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=new e({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var o=2091639*this.s0+this.c*23283064365386963e-26;return this.c=o|0,this.s0=this.s1,this.s1=this.s2,this.s2=o-this.c,this.s2},hash:function(o){var a,s=this.n;o=o.toString();for(var i=0;i<o.length;i++)s+=o.charCodeAt(i),a=.02519603282416938*s,s=a>>>0,a-=s,a*=s,s=a>>>0,a-=s,s+=a*4294967296;return this.n=s,(s>>>0)*23283064365386963e-26},init:function(o){typeof o=="string"?this.state(o):this.sow(o)},sow:function(o){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!o)for(var a=0;a<o.length&&o[a]!=null;a++){var s=o[a];this.s0-=this.hash(s),this.s0+=~~(this.s0<0),this.s1-=this.hash(s),this.s1+=~~(this.s1<0),this.s2-=this.hash(s),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(o,a){return Math.floor(this.realInRange(0,a-o+1)+o)},between:function(o,a){return Math.floor(this.realInRange(0,a-o+1)+o)},realInRange:function(o,a){return this.frac()*(a-o)+o},normal:function(){return 1-2*this.frac()},uuid:function(){var o="",a="";for(a=o="";o++<36;a+=~o%5|o*3&4?(o^15?8^this.frac()*(o^20?16:4):4).toString(16):"-");return a},pick:function(o){return o[this.integerInRange(0,o.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(o){return o[~~(Math.pow(this.frac(),2)*(o.length-1)+.5)]},timestamp:function(o,a){return this.realInRange(o||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(o){return typeof o=="string"&&o.match(/^!rnd/)&&(o=o.split(","),this.c=parseFloat(o[1]),this.s0=parseFloat(o[2]),this.s1=parseFloat(o[3]),this.s2=parseFloat(o[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(o){for(var a=o.length-1,s=a;s>0;s--){var i=Math.floor(this.frac()*(s+1)),r=o[i];o[i]=o[s],o[s]=r}return o}});p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var d=0,o=0;o<e.length;o++)d+=+e[o];return d/e.length};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){d===void 0&&(d=0),o===void 0&&(o=10);var a=Math.pow(o,-d);return Math.ceil(e*a)/a};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return Math.abs(e-d)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=t(0),o=t(69),a=t(1),s=new o,i=new d({initialize:function r(l,n,h,u){l===void 0&&(l=0),n===void 0&&(n=0),h===void 0&&(h=0),u===void 0&&(u=r.DefaultOrder),this._x=l,this._y=n,this._z=h,this._order=u,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,l,n,h){return h===void 0&&(h=this._order),this._x=r,this._y=l,this._z=n,this._order=h,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,l,n){return l===void 0&&(l=this._order),n===void 0&&(n=!1),s.fromQuat(r),this.setFromRotationMatrix(s,l,n)},setFromRotationMatrix:function(r,l,n){l===void 0&&(l=this._order),n===void 0&&(n=!1);var h=r.val,u=h[0],v=h[4],f=h[8],c=h[1],g=h[5],m=h[9],x=h[2],y=h[6],T=h[10],E=0,R=0,M=0,P=.99999;switch(l){case"XYZ":{R=Math.asin(e(f,-1,1)),Math.abs(f)<P?(E=Math.atan2(-m,T),M=Math.atan2(-v,u)):E=Math.atan2(y,g);break}case"YXZ":{E=Math.asin(-e(m,-1,1)),Math.abs(m)<P?(R=Math.atan2(f,T),M=Math.atan2(c,g)):R=Math.atan2(-x,u);break}case"ZXY":{E=Math.asin(e(y,-1,1)),Math.abs(y)<P?(R=Math.atan2(-x,T),M=Math.atan2(-v,g)):M=Math.atan2(c,u);break}case"ZYX":{R=Math.asin(-e(x,-1,1)),Math.abs(x)<P?(E=Math.atan2(y,T),M=Math.atan2(c,u)):M=Math.atan2(-v,g);break}case"YZX":{M=Math.asin(e(c,-1,1)),Math.abs(c)<P?(E=Math.atan2(-m,g),R=Math.atan2(-x,u)):R=Math.atan2(f,T);break}case"XZY":{M=Math.asin(-e(v,-1,1)),Math.abs(v)<P?(E=Math.atan2(y,g),R=Math.atan2(f,u)):E=Math.atan2(-m,T);break}}return this._x=E,this._y=R,this._z=M,this._order=l,n&&this.onChangeCallback(this),this}});i.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],i.DefaultOrder="XYZ",p.exports=i},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){d===void 0&&(d=0),o===void 0&&(o=10);var a=Math.pow(o,-d);return Math.floor(e*a)/a};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e/d/1e3};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e==parseFloat(e)?!(e%2):void 0};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===parseFloat(e)?!(e%2):void 0};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return Math.min(e+d,o)};p.exports=t},function(p,C){/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d=e.length;if(d===0)return 0;e.sort(function(a,s){return a-s});var o=Math.floor(d/2);return d%2===0?(e[o]+e[o-1])/2:e[o]};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return Math.max(e-d,o)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o===void 0&&(o=d+1);var s=(e-d)/(o-d);return s>1?a!==void 0?(s=(a-e)/(a-o),s<0&&(s=0)):s=1:s<0&&(s=0),s};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d===void 0&&(d=1);var o=Math.random()*2*Math.PI;return e.x=Math.cos(o)*d,e.y=Math.sin(o)*d,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d===void 0&&(d=1);var o=Math.random()*2*Math.PI,a=Math.random()*2-1,s=Math.sqrt(1-a*a)*d;return e.x=Math.cos(o)*s,e.y=Math.sin(o)*s,e.z=a*d,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d===void 0&&(d=1),e.x=(Math.random()*2-1)*d,e.y=(Math.random()*2-1)*d,e.z=(Math.random()*2-1)*d,e.w=(Math.random()*2-1)*d,e};p.exports=t},function(p,C){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s){return e.x=d+s*Math.cos(a),e.y=o+s*Math.sin(a),e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){d===void 0&&(d=0),o===void 0&&(o=10);var a=Math.pow(o,-d);return Math.round(e*a)/a};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){d===void 0&&(d=1),o===void 0&&(o=1),a===void 0&&(a=1),a*=Math.PI/e;for(var s=[],i=[],r=0;r<e;r++)o-=d*a,d+=o*a,s[r]=o,i[r]=d;return{sin:i,cos:s,length:e}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),d=function(o,a,s,i){i===void 0&&(i=new e);var r=0,l=0,n=a*s;return o>0&&o<=n&&(o>a-1?(l=Math.floor(o/a),r=o-l*a):r=o),i.set(r,l)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return Math.abs(e-d)<=o};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),d=t(69),o=t(365),a=new d,s=new o,i=new e,r=function(l,n,h){return s.setAxisAngle(n,h),a.fromRotationTranslation(s,i.set(0,0,0)),l.transformMat4(a)};p.exports=r},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addtexture"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onerror"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="onload"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="ready"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="removetexture"},function(p,C){p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineafterflush"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebeforeflush"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinebind"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineboot"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinedestroy"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelinerebind"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pipelineresize"},function(p,C){p.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join(`
`)},function(p,C){p.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join(`
`)},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GenerateTexture:t(388),Palettes:t(889)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ARNE16:t(389),C64:t(890),CGA:t(891),JMP:t(892),MSX:t(893)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Path:t(895),MoveTo:t(393),CubicBezier:t(390),Curve:t(94),Ellipse:t(391),Line:t(392),QuadraticBezier:t(394),Spline:t(395)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(390),o=t(391),a=t(5),s=t(392),i=t(393),r=t(394),l=t(10),n=t(395),h=t(3),u=t(14),v=new e({initialize:function(c,g){c===void 0&&(c=0),g===void 0&&(g=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof c=="object"?this.fromJSON(c):this.startPoint.set(c,g)},add:function(f){return this.curves.push(f),this},circleTo:function(f,c,g){return c===void 0&&(c=!1),this.ellipseTo(f,f,0,360,c,g)},closePath:function(){var f=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);return f.equals(c)||this.curves.push(new s(c,f)),this},cubicBezierTo:function(f,c,g,m,x,y){var T=this.getEndPoint(),E,R,M;return f instanceof h?(E=f,R=c,M=g):(E=new h(g,m),R=new h(x,y),M=new h(f,c)),this.add(new d(T,E,R,M))},quadraticBezierTo:function(f,c,g,m){var x=this.getEndPoint(),y,T;return f instanceof h?(y=f,T=c):(y=new h(g,m),T=new h(f,c)),this.add(new r(x,y,T))},draw:function(f,c){for(var g=0;g<this.curves.length;g++){var m=this.curves[g];!m.active||m.draw(f,c)}return f},ellipseTo:function(f,c,g,m,x,y){var T=new o(0,0,f,c,g,m,x,y),E=this.getEndPoint(this._tmpVec2A),R=T.getStartPoint(this._tmpVec2B);return E.subtract(R),T.x=E.x,T.y=E.y,this.add(T)},fromJSON:function(f){this.curves=[],this.cacheLengths=[],this.startPoint.set(f.x,f.y),this.autoClose=f.autoClose;for(var c=0;c<f.curves.length;c++){var g=f.curves[c];switch(g.type){case"LineCurve":this.add(s.fromJSON(g));break;case"EllipseCurve":this.add(o.fromJSON(g));break;case"SplineCurve":this.add(n.fromJSON(g));break;case"CubicBezierCurve":this.add(d.fromJSON(g));break;case"QuadraticBezierCurve":this.add(r.fromJSON(g));break}}return this},getBounds:function(f,c){f===void 0&&(f=new l),c===void 0&&(c=16),f.x=Number.MAX_VALUE,f.y=Number.MAX_VALUE;for(var g=new l,m=u.MIN_SAFE_INTEGER,x=u.MIN_SAFE_INTEGER,y=0;y<this.curves.length;y++){var T=this.curves[y];!T.active||(T.getBounds(g,c),f.x=Math.min(f.x,g.x),f.y=Math.min(f.y,g.y),m=Math.max(m,g.right),x=Math.max(x,g.bottom))}return f.right=m,f.bottom=x,f},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var f=[],c=0,g=0;g<this.curves.length;g++)c+=this.curves[g].getLength(),f.push(c);return this.cacheLengths=f,f},getEndPoint:function(f){return f===void 0&&(f=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,f):f.copy(this.startPoint),f},getLength:function(){var f=this.getCurveLengths();return f[f.length-1]},getPoint:function(f,c){c===void 0&&(c=new h);for(var g=f*this.getLength(),m=this.getCurveLengths(),x=0;x<m.length;){if(m[x]>=g){var y=m[x]-g,T=this.curves[x],E=T.getLength(),R=E===0?0:1-y/E;return T.getPointAt(R,c)}x++}return null},getPoints:function(f){f===void 0&&(f=12);for(var c=[],g,m=0;m<this.curves.length;m++){var x=this.curves[m];if(!!x.active)for(var y=x.getResolution(f),T=x.getPoints(y),E=0;E<T.length;E++){var R=T[E];g&&g.equals(R)||(c.push(R),g=R)}}return this.autoClose&&c.length>1&&!c[c.length-1].equals(c[0])&&c.push(c[0]),c},getRandomPoint:function(f){return f===void 0&&(f=new h),this.getPoint(Math.random(),f)},getSpacedPoints:function(f){f===void 0&&(f=40);for(var c=[],g=0;g<=f;g++)c.push(this.getPoint(g/f));return this.autoClose&&c.push(c[0]),c},getStartPoint:function(f){return f===void 0&&(f=new h),f.copy(this.startPoint)},getTangent:function(f,c){c===void 0&&(c=new h);for(var g=f*this.getLength(),m=this.getCurveLengths(),x=0;x<m.length;){if(m[x]>=g){var y=m[x]-g,T=this.curves[x],E=T.getLength(),R=E===0?0:1-y/E;return T.getTangentAt(R,c)}x++}return null},lineTo:function(f,c){f instanceof h?this._tmpVec2B.copy(f):this._tmpVec2B.set(f,c);var g=this.getEndPoint(this._tmpVec2A);return this.add(new s([g.x,g.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(f){return f.unshift(this.getEndPoint()),this.add(new n(f))},moveTo:function(f,c){return f instanceof h?this.add(new i(f.x,f.y)):this.add(new i(f,c))},toJSON:function(){for(var f=[],c=0;c<this.curves.length;c++)f.push(this.curves[c].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:f}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(f,c){return new v(f,c)}),p.exports=v},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DataManager:t(101),DataManagerPlugin:t(897),Events:t(315)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(101),o=t(24),a=t(20),s=new e({Extends:d,initialize:function(r){d.call(this,r,r.sys.events),this.scene=r,this.systems=r.sys,r.sys.events.once(a.BOOT,this.boot,this),r.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){d.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("DataManagerPlugin",s,"data"),p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Align:t(899),BaseShader:t(396),Bounds:t(902),Canvas:t(906),Color:t(397),ColorMatrix:t(198),Masks:t(916),RGB:t(200)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),d=t(17),o={In:t(900),To:t(901)};o=d(!1,o,e),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(290),BottomLeft:t(291),BottomRight:t(292),Center:t(293),LeftCenter:t(295),QuickSet:t(289),RightCenter:t(296),TopCenter:t(297),TopLeft:t(298),TopRight:t(299)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BottomCenter:t(277),BottomLeft:t(278),BottomRight:t(279),LeftBottom:t(280),LeftCenter:t(281),LeftTop:t(282),QuickSet:t(276),RightBottom:t(283),RightCenter:t(284),RightTop:t(285),TopCenter:t(286),TopLeft:t(287),TopRight:t(288)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CenterOn:t(294),GetBottom:t(42),GetBounds:t(903),GetCenterX:t(87),GetCenterY:t(89),GetLeft:t(43),GetOffsetX:t(904),GetOffsetY:t(905),GetRight:t(44),GetTop:t(45),SetBottom:t(55),SetCenterX:t(88),SetCenterY:t(90),SetLeft:t(53),SetRight:t(54),SetTop:t(52)}},function(p,C,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),d=t(43),o=t(44),a=t(45),s=function(i,r){r===void 0&&(r={});var l=d(i),n=a(i);return r.x=l,r.y=n,r.width=o(i)-l,r.height=e(i)-n,r};p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.originX};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height*e.originY};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasInterpolation:t(367),CanvasPool:t(31),Smoothing:t(192),TouchAction:t(907),UserSelect:t(908)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d===void 0&&(d="none"),e.style.msTouchAction=d,e.style["ms-touch-action"]=d,e.style["touch-action"]=d,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d===void 0&&(d="none");var o=["-webkit-","-khtml-","-moz-","-ms-",""];return o.forEach(function(a){e.style[a+"user-select"]=d}),e.style["-webkit-touch-callout"]=d,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),d=function(o){o===void 0&&(o=1024);var a=[],s=255,i,r=255,l=0,n=0;for(i=0;i<=s;i++)a.push({r,g:i,b:n,color:e(r,i,n)});for(l=255,i=s;i>=0;i--)a.push({r:i,g:l,b:n,color:e(i,l,n)});for(r=0,i=0;i<=s;i++,l--)a.push({r,g:l,b:i,color:e(r,l,i)});for(l=0,n=255,i=0;i<=s;i++,n--,r++)a.push({r,g:l,b:n,color:e(r,l,n)});if(o===1024)return a;var h=[],u=0,v=1024/o;for(i=0;i<o;i++)h.push(a[Math.floor(u)]),u+=v;return h};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(d.a=e>>>24),d};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),d=t(399),o=function(a,s,i){var r=i,l=i,n=i;if(s!==0){var h=i<.5?i*(1+s):i+s-i*s,u=2*i-h;r=d(u,h,a+1/3),l=d(u,h,a),n=d(u,h,a-1/3)}var v=new e;return v.setGLTo(r,l,n,1)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(188),d=function(o,a){o===void 0&&(o=1),a===void 0&&(a=1);for(var s=[],i=0;i<=359;i++)s.push(e(i/359,o,a));return s};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),d=function(s,i,r,l,n,h,u,v){u===void 0&&(u=100),v===void 0&&(v=0);var f=v/u;return{r:e(s,l,f),g:e(i,n,f),b:e(r,h,f)}},o=function(s,i,r,l){return r===void 0&&(r=100),l===void 0&&(l=0),d(s.r,s.g,s.b,i.r,i.g,i.b,r,l)},a=function(s,i,r,l,n,h){return n===void 0&&(n=100),h===void 0&&(h=0),d(s.r,s.g,s.b,i,r,l,n,h)};p.exports={RGBWithRGB:d,ColorWithRGB:a,ColorWithColor:o}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),d=t(38),o=function(a,s){return a===void 0&&(a=0),s===void 0&&(s=255),new d(e(a,s),e(a,s),e(a,s))};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(398),d=function(o,a,s,i,r){return i===void 0&&(i=255),r===void 0&&(r="#"),r==="#"?"#"+((1<<24)+(o<<16)+(a<<8)+s).toString(16).slice(1,7):"0x"+e(i)+e(o)+e(a)+e(s)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BitmapMask:t(310),GeometryMask:t(311)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={AddToDOM:t(142),DOMContentLoaded:t(400),GetInnerHeight:t(401),GetScreenOrientation:t(402),GetTarget:t(407),ParseXML:t(408),RemoveFromDOM:t(202),RequestAnimationFrame:t(386)};p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EventEmitter:t(919)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(9),o=t(24),a=new e({Extends:d,initialize:function(){d.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});o.register("EventEmitter",a,"events"),p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),d=t(321),o=t(325),a=t(31),s=t(0),i=t(346),r=t(921),l=t(366),n=t(101),h=t(384),u=t(347),v=t(400),f=t(9),c=t(22),g=t(409),m=t(24),x=t(414),y=t(415),T=t(417),E=t(106),R=t(422),M=t(385),P=t(387),O=t(426);if(!1)var I;var B=new s({initialize:function(z){this.config=new i(z),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new f,this.anims=new d(this),this.textures=new R(this),this.cache=new o(this),this.registry=new n(this),this.input=new g(this,this.config),this.scene=new T(this,this.config.sceneConfig),this.device=u,this.scale=new y(this,this.config),this.sound=null,this.sound=O.create(this),this.loop=new M(this,this.config.fps),this.plugins=new x(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,v(this.boot.bind(this))},boot:function(){if(!m.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),l(this),r(this),h(this),e(this.canvas,this.config.parent),this.textures.once(E.READY,this.texturesReady,this),this.events.emit(c.BOOT)},texturesReady:function(){this.events.emit(c.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),P(this);var w=this.events;w.on(c.HIDDEN,this.onHidden,this),w.on(c.VISIBLE,this.onVisible,this),w.on(c.BLUR,this.onBlur,this),w.on(c.FOCUS,this.onFocus,this)},step:function(w,z){if(this.pendingDestroy)return this.runDestroy();var H=this.events;H.emit(c.PRE_STEP,w,z),H.emit(c.STEP,w,z),this.scene.update(w,z),H.emit(c.POST_STEP,w,z);var b=this.renderer;b.preRender(),H.emit(c.PRE_RENDER,b,w,z),this.scene.render(b),b.postRender(),H.emit(c.POST_RENDER,b,w,z)},headlessStep:function(w,z){if(this.pendingDestroy)return this.runDestroy();var H=this.events;H.emit(c.PRE_STEP,w,z),H.emit(c.STEP,w,z),this.scene.update(w,z),H.emit(c.POST_STEP,w,z),H.emit(c.PRE_RENDER),H.emit(c.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(c.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(c.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(w,z){z===void 0&&(z=!1),this.pendingDestroy=!0,this.removeCanvas=w,this.noReturn=z},runDestroy:function(){this.scene.destroy(),this.events.emit(c.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});p.exports=B},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),d=function(o){var a=o.config;if(!(!a.parent||!a.domCreateContainer)){var s=document.createElement("div");s.style.cssText=["display: block;","width: "+o.scale.width+"px;","height: "+o.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),o.domContainer=s,e(s,a.parent)}};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameout"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameover"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectdown"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragenter"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragleave"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragover"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drop"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectmove"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectout"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectover"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectup"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="gameobjectwheel"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="boot"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="process"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdown"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerdownoutside"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointermove"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerout"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerover"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerup"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerupoutside"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="wheel"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pointerlockchange"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="preupdate"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="shutdown"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="addfile"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="filecomplete-"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loaderror"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="load"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="fileprogress"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="postprocess"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="progress"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(!o.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=e.source[d];e.add("__BASE",d,0,0,a.width,a.height);for(var s=o.getElementsByTagName("SubTexture"),i,r=0;r<s.length;r++){var l=s[r].attributes,n=l.name.value,h=parseInt(l.x.value,10),u=parseInt(l.y.value,10),v=parseInt(l.width.value,10),f=parseInt(l.height.value,10);if(i=e.add(n,d,h,u,v,f),l.frameX){var c=Math.abs(parseInt(l.frameX.value,10)),g=Math.abs(parseInt(l.frameY.value,10)),m=parseInt(l.frameWidth.value,10),x=parseInt(l.frameHeight.value,10);i.setTrim(v,f,c,g,m,x)}}return e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.source[d];return e.add("__BASE",d,0,0,o.width,o.height),e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.source[d];return e.add("__BASE",d,0,0,o.width,o.height),e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),d=function(o,a,s){if(!s.frames&&!s.textures){console.warn("Invalid Texture Atlas JSON Array");return}var i=o.source[a];o.add("__BASE",a,0,0,i.width,i.height);for(var r=Array.isArray(s.textures)?s.textures[a].frames:s.frames,l,n=0;n<r.length;n++){var h=r[n];l=o.add(h.filename,a,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var u=h.anchor||h.pivot;u&&(l.customPivot=!0,l.pivotX=u.x,l.pivotY=u.y),l.customData=e(h)}for(var v in s)v!=="frames"&&(Array.isArray(s[v])?o.customData[v]=s[v].slice(0):o.customData[v]=s[v]);return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),d=function(o,a,s){if(!s.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var i=o.source[a];o.add("__BASE",a,0,0,i.width,i.height);var r=s.frames,l;for(var n in r)if(!!r.hasOwnProperty(n)){var h=r[n];l=o.add(n,a,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&l.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(l.rotated=!0,l.updateUVsInverted());var u=h.anchor||h.pivot;u&&(l.customPivot=!0,l.pivotX=u.x,l.pivotY=u.y),l.customData=e(h)}for(var v in s)v!=="frames"&&(Array.isArray(s[v])?o.customData[v]=s[v].slice(0):o.customData[v]=s[v]);return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),d=function(o,a,s,i,r,l,n){var h=e(n,"frameWidth",null),u=e(n,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var v=o.source[a];o.add("__BASE",a,0,0,v.width,v.height);var f=e(n,"startFrame",0),c=e(n,"endFrame",-1),g=e(n,"margin",0),m=e(n,"spacing",0),x=Math.floor((r-g+m)/(h+m)),y=Math.floor((l-g+m)/(u+m)),T=x*y;T===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",o.key),(f>T||f<-T)&&(f=0),f<0&&(f=T+f),c!==-1&&(T=f+(c+1));for(var E=g,R=g,M=0,P=0,O=0;O<T;O++){M=0,P=0;var I=E+h,B=R+u;I>r&&(M=I-r),B>l&&(P=B-l),o.add(O,a,s+E,i+R,h-M,u-P),E+=h+m,E+h>r&&(E=g,R+=u+m)}return o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),d=function(o,a,s){var i=e(s,"frameWidth",null),r=e(s,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var l=o.source[0];o.add("__BASE",0,0,0,l.width,l.height);var n=e(s,"startFrame",0),h=e(s,"endFrame",-1),u=e(s,"margin",0),v=e(s,"spacing",0),f=a.cutX,c=a.cutY,g=a.cutWidth,m=a.cutHeight,x=a.realWidth,y=a.realHeight,T=Math.floor((x-u+v)/(i+v)),E=Math.floor((y-u+v)/(r+v)),R=T*E,M=a.x,P=i-M,O=i-(x-g-M),I=a.y,B=r-I,w=r-(y-m-I);(n>R||n<-R)&&(n=0),n<0&&(n=R+n),h!==-1&&(R=n+(h+1));for(var z,H=u,b=u,Q=0,D=a.sourceIndex,F=0;F<E;F++){for(var G=F===0,N=F===E-1,X=0;X<T;X++){var V=X===0,W=X===T-1;if(z=o.add(Q,D,f+H,c+b,i,r),V||G||W||N){var Z=V?M:0,et=G?I:0,it=0,ht=0;V&&(it+=i-P),W&&(it+=i-O),G&&(ht+=r-B),N&&(ht+=r-w);var vt=i-it,lt=r-ht;z.cutWidth=vt,z.cutHeight=lt,z.setTrim(i,r,Z,et,vt,lt)}H+=v,V?H+=P:W?H+=O:H+=i,Q++}H=u,b+=v,G?b+=B:N?b+=w:b+=r}return o};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=0,e=function(o,a,s,i){var r=t-i.y-i.height;o.add(s,a,i.x,r,i.width,i.height)},d=function(o,a,s){var i=o.source[a];o.add("__BASE",a,0,0,i.width,i.height),t=i.height;for(var r=s.split(`
`),l=/^[ ]*(- )*(\w+)+[: ]+(.*)/,n="",h="",u={x:0,y:0,width:0,height:0},v=0;v<r.length;v++){var f=r[v].match(l);if(!!f){var c=f[1]==="- ",g=f[2],m=f[3];if(c&&(h!==n&&(e(o,a,h,u),n=h),u={x:0,y:0,width:0,height:0}),g==="name"){h=m;continue}switch(g){case"x":case"y":case"width":case"height":u[g]=parseInt(m,10);break}}}return h!==n&&e(o,a,h,u),o};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decoded"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="decodedall"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="destroy"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="detune"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="looped"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="mute"},function(p,C){/**
 * @author       pi-kei
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pan"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pauseall"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="play"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="rate"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resumeall"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="seek"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stopall"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="unlocked"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="volume"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Events:t(75),DisplayList:t(1012),GameObjectCreator:t(16),GameObjectFactory:t(5),UpdateList:t(1040),Components:t(11),GetCalcMatrix:t(19),BuildGameObject:t(28),BuildGameObjectAnimation:t(439),GameObject:t(15),BitmapText:t(148),Blitter:t(213),Bob:t(440),Container:t(214),DOMElement:t(442),DynamicBitmapText:t(215),Extern:t(444),Graphics:t(216),Group:t(113),Image:t(125),Layer:t(219),Particles:t(1074),PathFollower:t(457),RenderTexture:t(221),RetroFont:t(1082),Rope:t(223),Sprite:t(73),Text:t(224),GetTextSize:t(458),MeasureText:t(460),TextStyle:t(459),TileSprite:t(225),Zone:t(129),Video:t(226),Shape:t(34),Arc:t(461),Curve:t(462),Ellipse:t(463),Grid:t(464),IsoBox:t(465),IsoTriangle:t(466),Line:t(467),Polygon:t(468),Rectangle:t(473),Star:t(474),Triangle:t(475),Factories:{Blitter:t(1130),Container:t(1131),DOMElement:t(1132),DynamicBitmapText:t(1133),Extern:t(1134),Graphics:t(1135),Group:t(1136),Image:t(1137),Layer:t(1138),Particles:t(1139),PathFollower:t(1140),RenderTexture:t(1141),Rope:t(1142),Sprite:t(1143),StaticBitmapText:t(1144),Text:t(1145),TileSprite:t(1146),Zone:t(1147),Video:t(1148),Arc:t(1149),Curve:t(1150),Ellipse:t(1151),Grid:t(1152),IsoBox:t(1153),IsoTriangle:t(1154),Line:t(1155),Polygon:t(1156),Rectangle:t(1157),Star:t(1158),Triangle:t(1159)},Creators:{Blitter:t(1160),Container:t(1161),DynamicBitmapText:t(1162),Graphics:t(1163),Group:t(1164),Image:t(1165),Layer:t(1166),Particles:t(1167),RenderTexture:t(1168),Rope:t(1169),Sprite:t(1170),StaticBitmapText:t(1171),Text:t(1172),TileSprite:t(1173),Zone:t(1174),Video:t(1175)}};e.Shader=t(229),e.Mesh=t(230),e.PointLight=t(150),e.Factories.Shader=t(1184),e.Factories.Mesh=t(1185),e.Factories.PointLight=t(1186),e.Creators.Shader=t(1187),e.Creators.Mesh=t(1188),e.Creators.PointLight=t(1189),e.Light=t(481),e.LightsManager=t(482),e.LightsPlugin=t(1190),p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(110),o=t(24),a=t(75),s=t(20),i=t(79),r=new e({Extends:d,initialize:function(n){d.call(this,n),this.sortChildrenFlag=!1,this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},addChildCallback:function(l){l.displayList&&l.displayList!==this&&l.removeFromDisplayList(),l.displayList||(this.queueDepthSort(),l.displayList=this,l.emit(a.ADDED_TO_SCENE,l,this.scene),this.events.emit(s.ADDED_TO_SCENE,l,this.scene))},removeChildCallback:function(l){this.queueDepthSort(),l.displayList=null,l.emit(a.REMOVED_FROM_SCENE,l,this.scene),this.events.emit(s.REMOVED_FROM_SCENE,l,this.scene)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(l,n){return l._depth-n._depth},getChildren:function(){return this.list},shutdown:function(){for(var l=this.list,n=l.length;n--;)l[n].destroy(!0);l.length=0,this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});o.register("DisplayList",r,"displayList"),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CheckMatrix:t(209),MatrixToString:t(1014),ReverseColumns:t(1015),ReverseRows:t(1016),Rotate180:t(1017),RotateLeft:t(1018),RotateMatrix:t(147),RotateRight:t(1019),Translate:t(1020),TransposeMatrix:t(435)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(186),d=t(209),o=function(a){var s="";if(!d(a))return s;for(var i=0;i<a.length;i++){for(var r=0;r<a[i].length;r++){var l=a[i][r].toString();l!=="undefined"?s+=e(l,2):s+="?",r<a[i].length-1&&(s+=" |")}if(i<a.length-1){s+=`
`;for(var n=0;n<a[i].length;n++)s+="---",n<a[i].length-1&&(s+="+");s+=`
`}}return s};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.reverse()};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var d=0;d<e.length;d++)e[d].reverse();return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),d=function(o){return e(o,180)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),d=function(o){return e(o,90)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),d=function(o){return e(o,-90)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(178),d=t(179),o=function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),i!==0&&(i<0?e(a,Math.abs(i)):d(a,i)),s!==0)for(var r=0;r<a.length;r++){var l=a[r];s<0?e(l,Math.abs(s)):d(l,s)}return a};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s){if(s===void 0&&(s=e),o>0){var i=o-e.length;if(i<=0)return null}if(!Array.isArray(d))return e.indexOf(d)===-1?(e.push(d),a&&a.call(s,d),d):null;for(var r=d.length-1;r>=0;)e.indexOf(d[r])!==-1&&d.splice(r,1),r--;if(r=d.length,r===0)return null;o>0&&r>i&&(d.splice(i),r=i);for(var l=0;l<r;l++){var n=d[l];e.push(n),a&&a.call(s,n)}return d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s,i){if(o===void 0&&(o=0),i===void 0&&(i=e),a>0){var r=a-e.length;if(r<=0)return null}if(!Array.isArray(d))return e.indexOf(d)===-1?(e.splice(o,0,d),s&&s.call(i,d),d):null;for(var l=d.length-1;l>=0;)e.indexOf(d[l])!==-1&&d.pop(),l--;if(l=d.length,l===0)return null;a>0&&l>r&&(d.splice(r),l=r);for(var n=l-1;n>=0;n--){var h=d[n];e.splice(o,0,h),s&&s.call(i,h)}return d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.indexOf(d);return o!==-1&&o<e.length&&(e.splice(o,1),e.push(d)),d};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),d=function(o,a,s,i,r){i===void 0&&(i=0),r===void 0&&(r=o.length);var l=0;if(e(o,i,r))for(var n=i;n<r;n++){var h=o[n];h[a]===s&&l++}return l};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a,s=[null];for(a=3;a<arguments.length;a++)s.push(arguments[a]);for(a=0;a<e.length;a++)s[0]=e[a],d.apply(o,s);return e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),d=function(o,a,s,i,r){if(i===void 0&&(i=0),r===void 0&&(r=o.length),e(o,i,r)){var l,n=[null];for(l=5;l<arguments.length;l++)n.push(arguments[l]);for(l=i;l<r;l++)n[0]=o[l],a.apply(s,n)}return o};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.indexOf(d);if(o>0){var a=e[o-1],s=e.indexOf(a);e[o]=a,e[s]=d}return e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=e.indexOf(d);if(a===-1||o<0||o>=e.length)throw new Error("Supplied index out of bounds");return a!==o&&(e.splice(a,1),e.splice(o,0,d)),d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.indexOf(d);if(o!==-1&&o<e.length-1){var a=e[o+1],s=e.indexOf(a);e[o]=a,e[s]=d}return e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(d===o)return e;var a=e.indexOf(d),s=e.indexOf(o);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return a>s||(e.splice(a,1),s===e.length-1?e.push(d):e.splice(s,0,d)),e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(d===o)return e;var a=e.indexOf(d),s=e.indexOf(o);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return a<s||(e.splice(a,1),s===0?e.unshift(d):e.splice(s,0,d)),e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(363),d=function(o,a,s){o===void 0&&(o=0),a===void 0&&(a=null),s===void 0&&(s=1),a===null&&(a=o,o=0);for(var i=[],r=Math.max(e((a-o)/(s||1)),0),l=0;l<r;l++)i.push(o),o+=s;return i};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),d=function(o,a,s,i){if(i===void 0&&(i=o),a<0||a>o.length-1)throw new Error("Index out of bounds");var r=e(o,a);return s&&s.call(i,r),r};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),d=function(o,a,s,i,r){if(a===void 0&&(a=0),s===void 0&&(s=o.length),r===void 0&&(r=o),e(o,a,s)){var l=s-a,n=o.splice(a,l);if(i)for(var h=0;h<n.length;h++){var u=n[h];i.call(r,u)}return n}else return[]};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),d=function(o,a,s){a===void 0&&(a=0),s===void 0&&(s=o.length);var i=a+Math.floor(Math.random()*s);return e(o,i)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=e.indexOf(d),s=e.indexOf(o);return a!==-1&&s===-1?(e[a]=o,!0):!1};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.indexOf(d);return o!==-1&&o>0&&(e.splice(o,1),e.unshift(d)),d};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),d=function(o,a,s,i,r){if(i===void 0&&(i=0),r===void 0&&(r=o.length),e(o,i,r))for(var l=i;l<r;l++){var n=o[l];n.hasOwnProperty(a)&&(n[a]=s)}return o};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){if(d===o)return e;var a=e.indexOf(d),s=e.indexOf(o);if(a<0||s<0)throw new Error("Supplied items must be elements of the same array");return e[a]=o,e[s]=d,e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(211),o=t(24),a=t(20),s=new e({Extends:d,initialize:function(r){d.call(this),this.checkQueue=!0,this.scene=r,this.systems=r.sys,r.sys.events.once(a.BOOT,this.boot,this),r.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var i=this.systems.events;i.on(a.PRE_UPDATE,this.update,this),i.on(a.UPDATE,this.sceneUpdate,this),i.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(i,r){for(var l=this._active,n=l.length,h=0;h<n;h++){var u=l[h];u.active&&u.preUpdate.call(u,i,r)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var r=this.systems.events;r.off(a.PRE_UPDATE,this.update,this),r.off(a.UPDATE,this.sceneUpdate,this),r.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});o.register("UpdateList",s,"updateList"),p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="add"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="remove"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){if(o===void 0&&(o=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var s=e.text,i=s.length,r=e.maxWidth,l=e.wordWrapCharCode,n=Number.MAX_VALUE,h=Number.MAX_VALUE,u=0,v=0,f=e.fontData.chars,c=e.fontData.lineHeight,g=e.letterSpacing,m=0,x=0,y=0,T=null,E=e._align,R=0,M=0,P=e.fontSize/e.fontData.size,O=P*e.scaleX,I=P*e.scaleY,B=null,w=0,z=[],H=Number.MAX_VALUE,b=0,Q=0,D=0,F,G=[],N=[],X=null;if(r>0){for(F=0;F<i;F++){if(y=s.charCodeAt(F),y===10){X!==null&&(G.push({word:X.word,i:X.i,x:X.x*O,y:X.y*I,w:X.w*O,h:X.h*I,cr:!0}),X=null),m=0,x+=c,B=null;continue}if(T=f[y],!!T){if(B!==null)var V=T.kerning[w];y===l?X!==null&&(G.push({word:X.word,i:X.i,x:X.x*O,y:X.y*I,w:X.w*O,h:X.h*I,cr:!1}),X=null):(X===null&&(X={word:"",i:F,x:m,y:x,w:0,h:c,cr:!1}),X.word=X.word.concat(s[F]),X.w+=T.xOffset+T.xAdvance+(V!==void 0?V:0)),m+=T.xAdvance+g,B=T,w=y}}X!==null&&G.push({word:X.word,i:X.i,x:X.x*O,y:X.y*I,w:X.w*O,h:X.h*I,cr:!1}),m=0,x=0,B=null,w=0;var W,Z=0,et=[];for(F=0;F<G.length;F++){var it=G[F],ht=it.x,vt=it.x+it.w;if(W){var lt=ht-(W.x+W.w);Z=ht-(lt+W.w),W=null}var xt=ht-Z,st=vt-Z;xt>r||st>r?(et.push(it.i-1),it.cr?(et.push(it.i+it.word.length),Z=0,W=null):W=it):it.cr&&(et.push(it.i+it.word.length),Z=0,W=null)}var mt=function(ee,se,he){return ee.substr(0,se)+he+ee.substr(se+1)};for(F=et.length-1;F>=0;F--)s=mt(s,et[F],`
`);a.wrappedText=s,i=s.length,G=[],X=null}var wt=0;for(F=0;F<i;F++){if(y=s.charCodeAt(F),y===10){X!==null&&(G.push({word:X.word,i:X.i,x:X.x*O,y:X.y*I,w:X.w*O,h:X.h*I}),X=null),m=0,x+=c,B=null,z[Q]=D,D>b&&(b=D),D<H&&(H=D),Q++,D=0;continue}if(T=f[y],!!T){if(R=m,M=x,B!==null){var St=T.kerning[w];R+=St!==void 0?St:0}n>R&&(n=R),h>M&&(h=M);var Rt=R+T.xAdvance,Tt=M+c;u<Rt&&(u=Rt),v<Tt&&(v=Tt);var Bt=T.xOffset+T.xAdvance+(St!==void 0?St:0);y===l?X!==null&&(G.push({word:X.word,i:X.i,x:X.x*O,y:X.y*I,w:X.w*O,h:X.h*I}),X=null):(X===null&&(X={word:"",i:wt,x:m,y:x,w:0,h:c}),X.word=X.word.concat(s[F]),X.w+=Bt),N.push({i:wt,char:s[F],code:y,x:(T.xOffset+m)*P,y:(T.yOffset+x)*P,w:T.width*P,h:T.height*P,t:x*P,r:Rt*P,b:c*P,line:Q,glyph:T}),m+=T.xAdvance+g,B=T,w=y,D=Rt*P,wt++}}if(X!==null&&G.push({word:X.word,i:X.i,x:X.x*O,y:X.y*I,w:X.w*O,h:X.h*I}),z[Q]=D,D>b&&(b=D),D<H&&(H=D),E>0)for(var Pt=0;Pt<N.length;Pt++){var Ft=N[Pt];if(E===1){var ae=(b-z[Ft.line])/2;Ft.x+=ae,Ft.r+=ae}else if(E===2){var Xt=b-z[Ft.line];Ft.x+=Xt,Ft.r+=Xt}}var Qt=a.local,zt=a.global,Lt=a.lines;return Qt.x=n*P,Qt.y=h*P,Qt.width=u*P,Qt.height=v*P,zt.x=e.x-e._displayOriginX+n*O,zt.y=e.y-e._displayOriginY+h*I,zt.width=u*O,zt.height=v*I,Lt.shortest=H,Lt.longest=b,Lt.lengths=z,d&&(Qt.x=Math.ceil(Qt.x),Qt.y=Math.ceil(Qt.y),Qt.width=Math.ceil(Qt.width),Qt.height=Math.ceil(Qt.height),zt.x=Math.ceil(zt.x),zt.y=Math.ceil(zt.y),zt.width=Math.ceil(zt.width),zt.height=Math.ceil(zt.height),Lt.shortest=Math.ceil(H),Lt.longest=Math.ceil(b)),o&&(e._displayOriginX=e.originX*Qt.width,e._displayOriginY=e.originY*Qt.height,zt.x=e.x-e._displayOriginX*e.scaleX,zt.y=e.y-e._displayOriginY*e.scaleY,d&&(zt.x=Math.ceil(zt.x),zt.y=Math.ceil(zt.y))),a.words=G,a.characters=N,a.lines.height=c,a.scale=P,a.scaleX=e.scaleX,a.scaleY=e.scaleY,a};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(212),d=function(o,a,s,i,r,l,n){var h=o.sys.textures.get(s),u=h.get(i),v=o.sys.cache.xml.get(r);if(u&&v){var f=e(v,u,l,n,h);return o.sys.cache.bitmapFont.add(a,{data:f,texture:s,frame:i,fromAtlas:!0}),!0}else return!1};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1046),d=t(1048),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1047),d=t(19),o=t(12),a=function(s,i,r,l){var n=i._text,h=n.length;if(h!==0){r.addToRenderList(i);var u=s.pipelines.set(i.pipeline,i),v=d(i,r,l).calc,f=r.roundPixels,c=r.alpha,g=i.charColors,m=i.tintFill,x=o.getTintAppendFloatAlpha,y=x(i.tintTopLeft,c*i._alphaTL),T=x(i.tintTopRight,c*i._alphaTR),E=x(i.tintBottomLeft,c*i._alphaBL),R=x(i.tintBottomRight,c*i._alphaBR),M=i.frame.glTexture,P=u.setGameObject(i),O=i.getTextBounds(!1),I,B,w,z=O.characters,H=i.dropShadowX,b=i.dropShadowY,Q=H!==0||b!==0;if(s.pipelines.preBatch(i),Q){var D=i.dropShadowColor,F=i.dropShadowAlpha,G=x(D,c*F*i._alphaTL),N=x(D,c*F*i._alphaTR),X=x(D,c*F*i._alphaBL),V=x(D,c*F*i._alphaBR);for(I=0;I<z.length;I++)B=z[I],w=B.glyph,!(B.code===32||w.width===0||w.height===0)&&e(u,i,B,w,H,b,v,f,G,N,X,V,1,M,P)}for(I=0;I<z.length;I++)if(B=z[I],w=B.glyph,!(B.code===32||w.width===0||w.height===0))if(g[B.i]){var W=g[B.i],Z=W.tintEffect,et=x(W.tintTL,c*i._alphaTL),it=x(W.tintTR,c*i._alphaTR),ht=x(W.tintBL,c*i._alphaBL),vt=x(W.tintBR,c*i._alphaBR);e(u,i,B,w,0,0,v,f,et,it,ht,vt,Z,M,P)}else e(u,i,B,w,0,0,v,f,y,T,E,R,m,M,P);s.pipelines.postBatch(i)}};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s,i,r,l,n,h,u,v,f,c,g){var m=o.x-d.displayOriginX+s,x=o.y-d.displayOriginY+i,y=m+o.w,T=x+o.h,E=r.getXRound(m,x,l),R=r.getYRound(m,x,l),M=r.getXRound(m,T,l),P=r.getYRound(m,T,l),O=r.getXRound(y,T,l),I=r.getYRound(y,T,l),B=r.getXRound(y,x,l),w=r.getYRound(y,x,l);e.batchQuad(d,E,R,M,P,O,I,B,w,a.u0,a.v0,a.u1,a.v1,n,h,u,v,f,c,g)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),d=function(o,a,s,i){var r=a._text,l=r.length,n=o.currentContext;if(!(l===0||!e(o,n,a,s,i))){s.addToRenderList(a);var h=a.fromAtlas?a.frame:a.texture.frames.__BASE,u=a.fontData.chars,v=a.fontData.lineHeight,f=a._letterSpacing,c=0,g=0,m=0,x=null,y=0,T=0,E=0,R=0,M=0,P=0,O=null,I=0,B=h.source.image,w=h.cutX,z=h.cutY,H=a._fontSize/a.fontData.size,b=a._align,Q=0,D=0,F=a.getTextBounds(!1);a.maxWidth>0&&(r=F.wrappedText,l=r.length);var G=a._bounds.lines;b===1?D=(G.longest-G.lengths[0])/2:b===2&&(D=G.longest-G.lengths[0]),n.translate(-a.displayOriginX,-a.displayOriginY);for(var N=s.roundPixels,X=0;X<l;X++){if(m=r.charCodeAt(X),m===10){Q++,b===1?D=(G.longest-G.lengths[Q])/2:b===2&&(D=G.longest-G.lengths[Q]),c=0,g+=v,O=null;continue}if(x=u[m],!!x){if(y=w+x.x,T=z+x.y,E=x.width,R=x.height,M=x.xOffset+c,P=x.yOffset+g,O!==null){var V=x.kerning[I];M+=V!==void 0?V:0}M*=H,P*=H,M+=D,c+=x.xAdvance+f,O=x,I=m,!(E===0||R===0||m===32)&&(N&&(M=Math.round(M),P=Math.round(P)),n.save(),n.translate(M,P),n.scale(H,H),n.drawImage(B,y,T,E,R,0,0,E,R),n.restore())}}n.restore()}};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1050),d=t(1051),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),d=t(12),o=new e,a=function(s,i,r,l){var n=i.getRenderList();if(n.length!==0){var h=r.alpha*i.alpha;if(h!==0){r.addToRenderList(i);var u=s.pipelines.set(this.pipeline,i),v=r.scrollX*i.scrollFactorX,f=r.scrollY*i.scrollFactorY,c=o.copyFrom(r.matrix);l&&(c.multiplyWithOffset(l,-v,-f),v=0,f=0);var g=i.x-v,m=i.y-f,x=-1,y=!1,T=r.roundPixels;s.pipelines.preBatch(i);for(var E=0;E<n.length;E++){var R=n[E],M=R.frame,P=R.alpha*h;if(P!==0){var O=M.width,I=M.height,B=g+R.x+M.x,w=m+R.y+M.y;R.flipX&&(O*=-1,B+=M.width),R.flipY&&(I*=-1,w+=M.height);var z=B+O,H=w+I,b=c.getX(B,w),Q=c.getY(B,w),D=c.getX(z,H),F=c.getY(z,H),G=d.getTintAppendFloatAlpha(R.tint,P);if(M.sourceIndex!==x){var N=u.setGameObject(i,M);x=M.sourceIndex}T&&(b=Math.round(b),Q=Math.round(Q),D=Math.round(D),F=Math.round(F)),u.batchQuad(i,b,Q,b,F,D,F,D,Q,M.u0,M.v0,M.u1,M.v1,G,G,G,G,y,M.glTexture,N)&&(x=-1)}}s.pipelines.postBatch(i)}}};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s=d.getRenderList();if(s.length!==0){var i=e.currentContext,r=o.alpha*d.alpha;if(r!==0){o.addToRenderList(d),i.globalCompositeOperation=e.blendModes[d.blendMode],i.imageSmoothingEnabled=!(!e.antialias||d.frame.source.scaleMode);var l=d.x-o.scrollX*d.scrollFactorX,n=d.y-o.scrollY*d.scrollFactorY;i.save(),a&&a.copyToContext(i);for(var h=o.roundPixels,u=0;u<s.length;u++){var v=s[u],f=v.flipX||v.flipY,c=v.frame,g=c.canvasData,m=c.x,x=c.y,y=1,T=1,E=v.alpha*r;E!==0&&(i.globalAlpha=E,f?(v.flipX&&(y=-1,m-=g.width),v.flipY&&(T=-1,x-=g.height),i.save(),i.translate(v.x+l,v.y+n),i.scale(y,T),i.drawImage(c.source.image,g.x,g.y,g.width,g.height,m,x,g.width,g.height),i.restore()):(h&&(m=Math.round(m),x=Math.round(x)),i.drawImage(c.source.image,g.x,g.y,g.width,g.height,m+v.x+l,x+v.y+n,g.width,g.height)))}i.restore()}}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1053),d=t(1054),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o.addToRenderList(d);var s=d.list,i=s.length;if(i!==0){var r=d.localTransform;a?(r.loadIdentity(),r.multiply(a),r.translate(d.x,d.y),r.rotate(d.rotation),r.scale(d.scaleX,d.scaleY)):r.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),e.pipelines.preBatch(d);var l=d.blendMode!==-1;l||e.setBlendMode(0);for(var n=d.alpha,h=d.scrollFactorX,u=d.scrollFactorY,v=0;v<i;v++){var f=s[v];if(!!f.willRender(o)){var c,g,m,x;if(f.alphaTopLeft!==void 0)c=f.alphaTopLeft,g=f.alphaTopRight,m=f.alphaBottomLeft,x=f.alphaBottomRight;else{var y=f.alpha;c=y,g=y,m=y,x=y}var T=f.scrollFactorX,E=f.scrollFactorY;!l&&f.blendMode!==e.currentBlendMode&&e.setBlendMode(f.blendMode);var R=f.mask;R&&R.preRenderWebGL(e,f,o);var M=f.type;M!==e.currentType&&(e.newType=!0,e.currentType=M),e.nextTypeMatch=v<i-1?s[v+1].type===e.currentType:!1,f.setScrollFactor(T*h,E*u),f.setAlpha(c*n,g*n,m*n,x*n),f.renderWebGL(e,f,o,r),f.setAlpha(c,g,m,x),f.setScrollFactor(T,E),R&&R.postRenderWebGL(e,o),e.newType=!1}}e.pipelines.postBatch(d)}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o.addToRenderList(d);var s=d.list;if(s.length!==0){var i=d.localTransform;a?(i.loadIdentity(),i.multiply(a),i.translate(d.x,d.y),i.rotate(d.rotation),i.scale(d.scaleX,d.scaleY)):i.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var r=d.blendMode!==-1;r||e.setBlendMode(0);var l=d._alpha,n=d.scrollFactorX,h=d.scrollFactorY;d.mask&&d.mask.preRenderCanvas(e,null,o);for(var u=0;u<s.length;u++){var v=s[u];if(!!v.willRender(o)){var f=v.alpha,c=v.scrollFactorX,g=v.scrollFactorY;!r&&v.blendMode!==e.currentBlendMode&&e.setBlendMode(v.blendMode),v.setScrollFactor(c*n,g*h),v.setAlpha(f*l),v.renderCanvas(e,v,o,i),v.setAlpha(f),v.setScrollFactor(c,g)}}d.mask&&d.mask.postRenderCanvas(e)}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(443),d=t(443),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1058),d=t(1059),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=t(25),o=t(12),a=new d,s=function(i,r,l,n){var h=r.text,u=h.length;if(u!==0){l.addToRenderList(r);var v=i.pipelines.set(r.pipeline,r),f=e(r,l,n),c=f.sprite,g=f.calc,m=a,x=r.cropWidth>0||r.cropHeight>0;x&&(v.flush(),i.pushScissor(g.tx,g.ty,r.cropWidth*g.scaleX,r.cropHeight*g.scaleY));var y=r.frame,T=y.glTexture,E=r.tintFill,R=o.getTintAppendFloatAlpha(r.tintTopLeft,l.alpha*r._alphaTL),M=o.getTintAppendFloatAlpha(r.tintTopRight,l.alpha*r._alphaTR),P=o.getTintAppendFloatAlpha(r.tintBottomLeft,l.alpha*r._alphaBL),O=o.getTintAppendFloatAlpha(r.tintBottomRight,l.alpha*r._alphaBR),I=v.setGameObject(r),B=0,w=0,z=0,H=0,b=r.letterSpacing,Q,D=0,F=0,G,N=r.scrollX,X=r.scrollY,V=r.fontData,W=V.chars,Z=V.lineHeight,et=r.fontSize/V.size,it=0,ht=r._align,vt=0,lt=0,xt=r.getTextBounds(!1);r.maxWidth>0&&(h=xt.wrappedText,u=h.length);var st=r._bounds.lines;ht===1?lt=(st.longest-st.lengths[0])/2:ht===2&&(lt=st.longest-st.lengths[0]);var mt=l.roundPixels,wt=r.displayCallback,St=r.callbackData;i.pipelines.preBatch(r);for(var Rt=0;Rt<u;Rt++){if(z=h.charCodeAt(Rt),z===10){vt++,ht===1?lt=(st.longest-st.lengths[vt])/2:ht===2&&(lt=st.longest-st.lengths[vt]),B=0,w+=Z,G=null;continue}if(Q=W[z],!!Q){D=Q.width,F=Q.height;var Tt=Q.xOffset+B-N,Bt=Q.yOffset+w-X;if(G!==null){var Pt=Q.kerning[H];Tt+=Pt!==void 0?Pt:0}if(B+=Q.xAdvance+b,G=Q,H=z,!(D===0||F===0||z===32)){if(et=r.fontSize/r.fontData.size,it=0,wt){St.color=0,St.tint.topLeft=R,St.tint.topRight=M,St.tint.bottomLeft=P,St.tint.bottomRight=O,St.index=Rt,St.charCode=z,St.x=Tt,St.y=Bt,St.scale=et,St.rotation=it,St.data=Q.data;var Ft=wt(St);Tt=Ft.x,Bt=Ft.y,et=Ft.scale,it=Ft.rotation,Ft.color?(R=Ft.color,M=Ft.color,P=Ft.color,O=Ft.color):(R=Ft.tint.topLeft,M=Ft.tint.topRight,P=Ft.tint.bottomLeft,O=Ft.tint.bottomRight),R=o.getTintAppendFloatAlpha(R,l.alpha*r._alphaTL),M=o.getTintAppendFloatAlpha(M,l.alpha*r._alphaTR),P=o.getTintAppendFloatAlpha(P,l.alpha*r._alphaBL),O=o.getTintAppendFloatAlpha(O,l.alpha*r._alphaBR)}Tt*=et,Bt*=et,Tt-=r.displayOriginX,Bt-=r.displayOriginY,Tt+=lt,m.applyITRS(Tt,Bt,it,et,et),g.multiply(m,c);var ae=Q.u0,Xt=Q.v0,Qt=Q.u1,zt=Q.v1,Lt=D,ee=F,se=c.e,he=c.f,pe=ee*c.c+c.e,Ee=ee*c.d+c.f,Ce=Lt*c.a+ee*c.c+c.e,xe=Lt*c.b+ee*c.d+c.f,Ae=Lt*c.a+c.e,Re=Lt*c.b+c.f;mt&&(se=Math.round(se),he=Math.round(he),pe=Math.round(pe),Ee=Math.round(Ee),Ce=Math.round(Ce),xe=Math.round(xe),Ae=Math.round(Ae),Re=Math.round(Re)),v.batchQuad(r,se,he,pe,Ee,Ce,xe,Ae,Re,ae,Xt,Qt,zt,R,M,P,O,E,T,I)}}}x&&(v.flush(),i.popScissor()),i.pipelines.postBatch(r)}};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),d=function(o,a,s,i){var r=a._text,l=r.length,n=o.currentContext;if(!(l===0||!e(o,n,a,s,i))){s.addToRenderList(a);var h=a.fromAtlas?a.frame:a.texture.frames.__BASE,u=a.displayCallback,v=a.callbackData,f=a.fontData.chars,c=a.fontData.lineHeight,g=a._letterSpacing,m=0,x=0,y=0,T=null,E=0,R=0,M=0,P=0,O=0,I=0,B=null,w=0,z=a.frame.source.image,H=h.cutX,b=h.cutY,Q=0,D=0,F=a._fontSize/a.fontData.size,G=a._align,N=0,X=0;a.getTextBounds(!1);var V=a._bounds.lines;G===1?X=(V.longest-V.lengths[0])/2:G===2&&(X=V.longest-V.lengths[0]),n.translate(-a.displayOriginX,-a.displayOriginY);var W=s.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(n.beginPath(),n.rect(0,0,a.cropWidth,a.cropHeight),n.clip());for(var Z=0;Z<l;Z++){if(D=F,Q=0,y=r.charCodeAt(Z),y===10){N++,G===1?X=(V.longest-V.lengths[N])/2:G===2&&(X=V.longest-V.lengths[N]),m=0,x+=c,B=null;continue}if(T=f[y],!!T){if(E=H+T.x,R=b+T.y,M=T.width,P=T.height,O=T.xOffset+m-a.scrollX,I=T.yOffset+x-a.scrollY,B!==null){var et=T.kerning[w];O+=et!==void 0?et:0}if(u){v.index=Z,v.charCode=y,v.x=O,v.y=I,v.scale=D,v.rotation=Q,v.data=T.data;var it=u(v);O=it.x,I=it.y,D=it.scale,Q=it.rotation}O*=D,I*=D,O+=X,m+=T.xAdvance+g,B=T,w=y,!(M===0||P===0||y===32)&&(W&&(O=Math.round(O),I=Math.round(I)),n.save(),n.translate(O,I),n.rotate(Q),n.scale(D,D),n.drawImage(z,E,R,M,P,0,0,M,P),n.restore())}}n.restore()}};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1061),d=t(1062),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=function(o,a,s,i){o.pipelines.clear();var r=e(a,s,i).calc;a.render.call(a,o,s,r),o.pipelines.rebind()};p.exports=d},function(p,C){},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1064),d=t(448),d=t(448),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),d=t(19),o=t(25),a=t(12),s=function(h,u,v){this.x=h,this.y=u,this.width=v},i=function(h,u,v){this.points=[],this.pointsLength=1,this.points[0]=new s(h,u,v)},r=[],l=new o,n=function(h,u,v,f){if(u.commandBuffer.length!==0){v.addToRenderList(u);var c=h.pipelines.set(u.pipeline,u);h.pipelines.preBatch(u);for(var g=d(u,v,f).calc,m=l.loadIdentity(),x=u.commandBuffer,y=v.alpha*u.alpha,T=1,E=c.fillTint,R=c.strokeTint,M=0,P=0,O=0,I=.01,B=Math.PI*2,w,z=[],H=0,b=!0,Q=null,D=a.getTintAppendFloatAlpha,F=0;F<x.length;F++)switch(w=x[F],w){case e.BEGIN_PATH:{z.length=0,Q=null,b=!0;break}case e.CLOSE_PATH:{b=!1,Q&&Q.points.length&&Q.points.push(Q.points[0]);break}case e.FILL_PATH:{for(H=0;H<z.length;H++)c.batchFillPath(z[H].points,m,g);break}case e.STROKE_PATH:{for(H=0;H<z.length;H++)c.batchStrokePath(z[H].points,T,b,m,g);break}case e.LINE_STYLE:{T=x[++F];var G=x[++F],N=x[++F]*y,X=D(G,N);R.TL=X,R.TR=X,R.BL=X,R.BR=X;break}case e.FILL_STYLE:{var V=x[++F],W=x[++F]*y,Z=D(V,W);E.TL=Z,E.TR=Z,E.BL=Z,E.BR=Z;break}case e.GRADIENT_FILL_STYLE:{var et=x[++F]*y,it=x[++F]*y,ht=x[++F]*y,vt=x[++F]*y;E.TL=D(x[++F],et),E.TR=D(x[++F],it),E.BL=D(x[++F],ht),E.BR=D(x[++F],vt);break}case e.GRADIENT_LINE_STYLE:{T=x[++F];var lt=x[++F]*y;R.TL=D(x[++F],lt),R.TR=D(x[++F],lt),R.BL=D(x[++F],lt),R.BR=D(x[++F],lt);break}case e.ARC:{var xt=0,st=x[++F],mt=x[++F],wt=x[++F],St=x[++F],Rt=x[++F],Tt=x[++F],Bt=x[++F];for(Rt-=St,Tt?Rt<-B?Rt=-B:Rt>0&&(Rt=-B+Rt%B):Rt>B?Rt=B:Rt<0&&(Rt=B+Rt%B),Q===null&&(Q=new i(st+Math.cos(St)*wt,mt+Math.sin(St)*wt,T),z.push(Q),xt+=I);xt<1+Bt;)O=Rt*xt+St,M=st+Math.cos(O)*wt,P=mt+Math.sin(O)*wt,Q.points.push(new s(M,P,T)),xt+=I;O=Rt+St,M=st+Math.cos(O)*wt,P=mt+Math.sin(O)*wt,Q.points.push(new s(M,P,T));break}case e.FILL_RECT:{c.batchFillRect(x[++F],x[++F],x[++F],x[++F],m,g);break}case e.FILL_TRIANGLE:{c.batchFillTriangle(x[++F],x[++F],x[++F],x[++F],x[++F],x[++F],m,g);break}case e.STROKE_TRIANGLE:{c.batchStrokeTriangle(x[++F],x[++F],x[++F],x[++F],x[++F],x[++F],T,m,g);break}case e.LINE_TO:{Q!==null?Q.points.push(new s(x[++F],x[++F],T)):(Q=new i(x[++F],x[++F],T),z.push(Q));break}case e.MOVE_TO:{Q=new i(x[++F],x[++F],T),z.push(Q);break}case e.SAVE:{r.push(m.copyToArray());break}case e.RESTORE:{m.copyFromArray(r.pop());break}case e.TRANSLATE:{st=x[++F],mt=x[++F],m.translate(st,mt);break}case e.SCALE:{st=x[++F],mt=x[++F],m.scale(st,mt);break}case e.ROTATE:{m.rotate(x[++F]);break}}h.pipelines.postBatch(u)}};p.exports=n},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1066),d=t(1067),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o.addToRenderList(d),d.pipeline.batchSprite(d,o,a)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o.addToRenderList(d),e.batchSprite(d,d.frame,o,a)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1069),d=t(1070),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o.addToRenderList(d),this.pipeline.batchSprite(d,o,a)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o.addToRenderList(d),e.batchSprite(d,d.frame,o,a)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1072),d=t(1073),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=d.list,s=a.length;if(s!==0){d.depthSort(),e.pipelines.preBatch(d);var i=d.blendMode!==-1;i||e.setBlendMode(0);for(var r=d.alpha,l=0;l<s;l++){var n=a[l];if(!!n.willRender(o)){var h,u,v,f;if(n.alphaTopLeft!==void 0)h=n.alphaTopLeft,u=n.alphaTopRight,v=n.alphaBottomLeft,f=n.alphaBottomRight;else{var c=n.alpha;h=c,u=c,v=c,f=c}!i&&n.blendMode!==e.currentBlendMode&&e.setBlendMode(n.blendMode);var g=n.mask;g&&g.preRenderWebGL(e,n,o);var m=n.type;m!==e.currentType&&(e.newType=!0,e.currentType=m),e.nextTypeMatch=l<s-1?a[l+1].type===e.currentType:!1,n.setAlpha(h*r,u*r,v*r,f*r),n.renderWebGL(e,n,o),n.setAlpha(h,u,v,f),g&&g.postRenderWebGL(e,o),e.newType=!1}}e.pipelines.postBatch(d)}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=d.list;if(a.length!==0){d.depthSort();var s=d.blendMode!==-1;s||e.setBlendMode(0);var i=d._alpha;d.mask&&d.mask.preRenderCanvas(e,null,o);for(var r=0;r<a.length;r++){var l=a[r];if(!!l.willRender(o)){var n=l.alpha;!s&&l.blendMode!==e.currentBlendMode&&e.setBlendMode(l.blendMode),l.setAlpha(n*i),l.renderCanvas(e,l,o),l.setAlpha(n)}}d.mask&&d.mask.postRenderCanvas(e)}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={EmitterOp:t(449),GravityWell:t(450),Particle:t(451),ParticleEmitter:t(452),ParticleEmitterManager:t(220),Zones:t(1078)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1076),d=t(1077),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),d=t(12),o=new e,a=new e,s=new e,i=new e,r=function(l,n,h,u){var v=n.emitters.list,f=v.length;if(f!==0){var c=l.pipelines.set(n.pipeline),g=o,m=a,x=s,y=i;u?(y.loadIdentity(),y.multiply(u),y.translate(n.x,n.y),y.rotate(n.rotation),y.scale(n.scaleX,n.scaleY)):y.applyITRS(n.x,n.y,n.rotation,n.scaleX,n.scaleY);var T=h.roundPixels,E=n.defaultFrame.glTexture,R=d.getTintAppendFloatAlpha,M=c.setGameObject(n,n.defaultFrame);l.pipelines.preBatch(n);for(var P=0;P<f;P++){var O=v[P],I=O.alive,B=I.length;if(!(!O.visible||B===0)){h.addToRenderList(O);var w=O.scrollFactorX,z=O.scrollFactorY;l.setBlendMode(O.blendMode),O.mask&&(O.mask.preRenderWebGL(l,O,h),l.pipelines.set(n.pipeline));for(var H=0,b=0;b<B;b++){var Q=I[b],D=Q.alpha*h.alpha;if(!(D<=0)){x.applyITRS(Q.x,Q.y,Q.rotation,Q.scaleX,Q.scaleY),g.copyFrom(h.matrix),g.multiplyWithOffset(y,-h.scrollX*w,-h.scrollY*z),x.e=Q.x,x.f=Q.y,g.multiply(x,m);var F=Q.frame,G=-F.halfWidth,N=-F.halfHeight,X=G+F.width,V=N+F.height,W=m.getXRound(G,N,T),Z=m.getYRound(G,N,T),et=m.getXRound(G,V,T),it=m.getYRound(G,V,T),ht=m.getXRound(X,V,T),vt=m.getYRound(X,V,T),lt=m.getXRound(X,N,T),xt=m.getYRound(X,N,T),st=R(Q.tint,D);c.batchQuad(O,W,Z,et,it,ht,vt,lt,xt,F.u0,F.v0,F.u1,F.v1,st,st,st,st,H,E,M)}}O.mask&&O.mask.postRenderWebGL(l,h)}}l.pipelines.postBatch(n)}};p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),d=new e,o=new e,a=new e,s=new e,i=function(r,l,n,h){var u=l.emitters.list,v=u.length;if(v!==0){var f=d.copyFrom(n.matrix),c=o,g=a,m=s;h?(m.loadIdentity(),m.multiply(h),m.translate(l.x,l.y),m.rotate(l.rotation),m.scale(l.scaleX,l.scaleY)):m.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);for(var x=r.currentContext,y=n.roundPixels,T=0;T<v;T++){var E=u[T],R=E.alive,M=R.length;if(!(!E.visible||M===0)){n.addToRenderList(E);var P=E.scrollFactorX,O=E.scrollFactorY;x.save(),x.globalCompositeOperation=r.blendModes[E.blendMode];for(var I=0;I<M;I++){var B=R[I],w=B.alpha*n.alpha;if(!(w<=0)){g.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),f.copyFrom(n.matrix),f.multiplyWithOffset(m,-n.scrollX*P,-n.scrollY*O),g.e=B.x,g.f=B.y,f.multiply(g,c);var z=B.frame,H=z.canvasData,b=-z.halfWidth,Q=-z.halfHeight;x.globalAlpha=w,x.save(),c.setToContext(x),y&&(b=Math.round(b),Q=Math.round(Q)),x.imageSmoothingEnabled=!(!r.antialias||z.source.scaleMode),x.drawImage(z.source.image,H.x,H.y,H.width,H.height,b,Q,H.width,H.height),x.restore()}}x.restore()}}}};p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DeathZone:t(453),EdgeZone:t(454),RandomZone:t(456)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1080),d=t(1081),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),d=function(o,a,s,i){s.addToRenderList(a);var r=s.alpha,l=a.renderTarget,n=l.width,h=l.height,u=e.getTintAppendFloatAlpha,v=o.pipelines.set(a.pipeline),f=v.setTexture2D(l.texture);o.pipelines.preBatch(a),v.batchTexture(a,l.texture,n,h,a.x,a.y,n,h,a.scaleX,a.scaleY,a.rotation,a.flipX,!a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,n,h,u(a.tintTopLeft,r*a._alphaTL),u(a.tintTopRight,r*a._alphaTR),u(a.tintBottomLeft,r*a._alphaBL),u(a.tintBottomRight,r*a._alphaBR),a.tintFill,0,0,s,i,!0,f),o.resetTextures(),o.pipelines.postBatch(a)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){o.addToRenderList(d),e.batchSprite(d,d.frame,o,a)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1083),d=t(17),o={Parse:t(1084)};o=d(!1,o,e),p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),d=function(o,a){var s=a.width,i=a.height,r=Math.floor(s/2),l=Math.floor(i/2),n=e(a,"chars","");if(n!==""){var h=e(a,"image",""),u=o.sys.textures.getFrame(h),v=u.cutX,f=u.cutY,c=u.source.width,g=u.source.height,m=e(a,"offset.x",0),x=e(a,"offset.y",0),y=e(a,"spacing.x",0),T=e(a,"spacing.y",0),E=e(a,"lineSpacing",0),R=e(a,"charsPerRow",null);R===null&&(R=c/s,R>n.length&&(R=n.length));for(var M=m,P=x,O={retroFont:!0,font:h,size:s,lineHeight:i+E,chars:{}},I=0,B=0;B<n.length;B++){var w=n.charCodeAt(B),z=(v+M)/c,H=(f+P)/g,b=(v+M+s)/c,Q=(f+P+i)/g;O.chars[w]={x:M,y:P,width:s,height:i,centerX:r,centerY:l,xOffset:0,yOffset:0,xAdvance:s,data:{},kerning:{},u0:z,v0:H,u1:b,v1:Q},I++,I===R?(I=0,M=m,P+=i+T):M+=s+y}var D={data:O,frame:null,texture:h};return D}};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1086),d=t(1087),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=t(12),o=function(a,s,i,r){i.addToRenderList(s);var l=a.pipelines.set(s.pipeline,s),n=e(s,i,r).calc,h=s.vertices,u=s.uv,v=s.colors,f=s.alphas,c=s.alpha,g=d.getTintAppendFloatAlpha,m=i.roundPixels,x=h.length,y=Math.floor(x*.5);l.flush(),a.pipelines.preBatch(s);var T=l.setGameObject(s),E=l.vertexViewF32,R=l.vertexViewU32,M=l.vertexCount*l.currentShader.vertexComponentCount-1,P=0,O=s.tintFill;s.dirty&&s.updateVertices();for(var I=s.debugCallback,B=[],w=0;w<x;w+=2){var z=h[w+0],H=h[w+1],b=z*n.a+H*n.c+n.e,Q=z*n.b+H*n.d+n.f;m&&(b=Math.round(b),Q=Math.round(Q)),E[++M]=b,E[++M]=Q,E[++M]=u[w+0],E[++M]=u[w+1],E[++M]=T,E[++M]=O,R[++M]=g(v[P],i.alpha*(f[P]*c)),P++,I&&(B[w+0]=b,B[w+1]=Q)}I&&I.call(s,s,x,B),l.vertexCount+=y,a.pipelines.postBatch(s)};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1089),d=t(1090),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),d=function(o,a,s,i){if(!(a.width===0||a.height===0)){s.addToRenderList(a);var r=a.frame,l=r.width,n=r.height,h=e.getTintAppendFloatAlpha,u=o.pipelines.set(a.pipeline,a),v=u.setTexture2D(r.glTexture,a);o.pipelines.preBatch(a),u.batchTexture(a,r.glTexture,l,n,a.x,a.y,l/a.style.resolution,n/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,l,n,h(a.tintTopLeft,s.alpha*a._alphaTL),h(a.tintTopRight,s.alpha*a._alphaTR),h(a.tintBottomLeft,s.alpha*a._alphaBL),h(a.tintBottomRight,s.alpha*a._alphaBR),a.tintFill,0,0,s,i,!1,v),o.pipelines.postBatch(a)}};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){d.width===0||d.height===0||(o.addToRenderList(d),e.batchSprite(d,d.frame,o,a))};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1092),d=t(1093),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),d=function(o,a,s,i){a.updateCanvas();var r=a.width,l=a.height;if(!(r===0||l===0)){s.addToRenderList(a),o.pipelines.preBatch(a);var n=e.getTintAppendFloatAlpha,h=o.pipelines.set(a.pipeline,a),u=h.setTexture2D(a.fillPattern,a);h.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,r,l,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*r,a.originY*l,0,0,r,l,n(a.tintTopLeft,s.alpha*a._alphaTL),n(a.tintTopRight,s.alpha*a._alphaTR),n(a.tintBottomLeft,s.alpha*a._alphaBL),n(a.tintBottomRight,s.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,s,i,!1,u),o.pipelines.postBatch(a)}};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){d.updateCanvas(),o.addToRenderList(d),e.batchSprite(d,d.frame,o,a)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1095),d=t(1096),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){d.videoTexture&&(o.addToRenderList(d),d.pipeline.batchSprite(d,o,a))};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){d.videoTexture&&(o.addToRenderList(d),e.batchSprite(d,d.frame,o,a))};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1098),d=t(1099),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=t(114),o=t(81),a=function(s,i,r,l){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),h=e(i,r,l),u=n.calcMatrix.copyFrom(h.calc),v=i._displayOriginX,f=i._displayOriginY,c=r.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&d(n,u,i,c,v,f),i.isStroked&&o(n,i,c,v,f),s.pipelines.postBatch(i)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),d=t(48),o=t(60),a=t(30),s=function(i,r,l,n){l.addToRenderList(r);var h=i.currentContext;if(a(i,h,r,l,n)){var u=r.radius;h.beginPath(),h.arc(u-r.originX*(u*2),u-r.originY*(u*2),u,e(r._startAngle),e(r._endAngle),r.anticlockwise),r.closePath&&h.closePath(),r.isFilled&&(d(h,r),h.fill()),r.isStroked&&(o(h,r),h.stroke()),h.restore()}};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1101),d=t(1102),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),d=t(19),o=t(81),a=function(s,i,r,l){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),h=d(i,r,l),u=n.calcMatrix.copyFrom(h.calc),v=i._displayOriginX+i._curveBounds.x,f=i._displayOriginY+i._curveBounds.y,c=r.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&e(n,u,i,c,v,f),i.isStroked&&o(n,i,c,v,f),s.pipelines.postBatch(i)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),d=t(60),o=t(30),a=function(s,i,r,l){r.addToRenderList(i);var n=s.currentContext;if(o(s,n,i,r,l)){var h=i._displayOriginX+i._curveBounds.x,u=i._displayOriginY+i._curveBounds.y,v=i.pathData,f=v.length-1,c=v[0]-h,g=v[1]-u;n.beginPath(),n.moveTo(c,g),i.closePath||(f-=2);for(var m=2;m<f;m+=2){var x=v[m]-h,y=v[m+1]-u;n.lineTo(x,y)}i.closePath&&n.closePath(),i.isFilled&&(e(n,i),n.fill()),i.isStroked&&(d(n,i),n.stroke()),n.restore()}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1104),d=t(1105),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),d=t(19),o=t(81),a=function(s,i,r,l){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),h=d(i,r,l),u=n.calcMatrix.copyFrom(h.calc),v=i._displayOriginX,f=i._displayOriginY,c=r.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&e(n,u,i,c,v,f),i.isStroked&&o(n,i,c,v,f),s.pipelines.postBatch(i)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),d=t(60),o=t(30),a=function(s,i,r,l){r.addToRenderList(i);var n=s.currentContext;if(o(s,n,i,r,l)){var h=i._displayOriginX,u=i._displayOriginY,v=i.pathData,f=v.length-1,c=v[0]-h,g=v[1]-u;n.beginPath(),n.moveTo(c,g),i.closePath||(f-=2);for(var m=2;m<f;m+=2){var x=v[m]-h,y=v[m+1]-u;n.lineTo(x,y)}n.closePath(),i.isFilled&&(e(n,i),n.fill()),i.isStroked&&(d(n,i),n.stroke()),n.restore()}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1107),d=t(1108),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=t(12),o=function(a,s,i,r){i.addToRenderList(s);var l=a.pipelines.set(s.pipeline),n=e(s,i,r),h=l.calcMatrix.copyFrom(n.calc);h.translate(-s._displayOriginX,-s._displayOriginY);var u=i.alpha*s.alpha,v=s.width,f=s.height,c=s.cellWidth,g=s.cellHeight,m=Math.ceil(v/c),x=Math.ceil(f/g),y=c,T=g,E=c-(m*c-v),R=g-(x*g-f),M,P,O=s.showCells,I=s.showAltCells,B=s.showOutline,w=0,z=0,H=0,b=0,Q=0;if(B&&(y--,T--,E===c&&E--,R===g&&R--),a.pipelines.preBatch(s),O&&s.fillAlpha>0)for(M=l.fillTint,P=d.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*u),M.TL=P,M.TR=P,M.BL=P,M.BR=P,z=0;z<x;z++)for(I&&(H=z%2),w=0;w<m;w++){if(I&&H){H=0;continue}H++,b=w<m-1?y:E,Q=z<x-1?T:R,l.batchFillRect(w*c,z*g,b,Q)}if(I&&s.altFillAlpha>0)for(M=l.fillTint,P=d.getTintAppendFloatAlpha(s.altFillColor,s.altFillAlpha*u),M.TL=P,M.TR=P,M.BL=P,M.BR=P,z=0;z<x;z++)for(I&&(H=z%2),w=0;w<m;w++){if(I&&!H){H=1;continue}H=0,b=w<m-1?y:E,Q=z<x-1?T:R,l.batchFillRect(w*c,z*g,b,Q)}if(B&&s.outlineFillAlpha>0){var D=l.strokeTint,F=d.getTintAppendFloatAlpha(s.outlineFillColor,s.outlineFillAlpha*u);for(D.TL=F,D.TR=F,D.BL=F,D.BR=F,w=1;w<m;w++){var G=w*c;l.batchLine(G,0,G,f,1,1,1,0,!1)}for(z=1;z<x;z++){var N=z*g;l.batchLine(0,N,v,N,1,1,1,0,!1)}}a.pipelines.postBatch(s)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),d=t(60),o=t(30),a=function(s,i,r,l){r.addToRenderList(i);var n=s.currentContext;if(o(s,n,i,r,l)){var h=-i._displayOriginX,u=-i._displayOriginY,v=r.alpha*i.alpha,f=i.width,c=i.height,g=i.cellWidth,m=i.cellHeight,x=Math.ceil(f/g),y=Math.ceil(c/m),T=g,E=m,R=g-(x*g-f),M=m-(y*m-c),P=i.showCells,O=i.showAltCells,I=i.showOutline,B=0,w=0,z=0,H=0,b=0;if(I&&(T--,E--,R===g&&R--,M===m&&M--),P&&i.fillAlpha>0)for(e(n,i),w=0;w<y;w++)for(O&&(z=w%2),B=0;B<x;B++){if(O&&z){z=0;continue}z++,H=B<x-1?T:R,b=w<y-1?E:M,n.fillRect(h+B*g,u+w*m,H,b)}if(O&&i.altFillAlpha>0)for(e(n,i,i.altFillColor,i.altFillAlpha*v),w=0;w<y;w++)for(O&&(z=w%2),B=0;B<x;B++){if(O&&!z){z=1;continue}z=0,H=B<x-1?T:R,b=w<y-1?E:M,n.fillRect(h+B*g,u+w*m,H,b)}if(I&&i.outlineFillAlpha>0){for(d(n,i,i.outlineFillColor,i.outlineFillAlpha*v),B=1;B<x;B++){var Q=B*g;n.beginPath(),n.moveTo(Q+h,u),n.lineTo(Q+h,c+u),n.stroke()}for(w=1;w<y;w++){var D=w*m;n.beginPath(),n.moveTo(h,D+u),n.lineTo(h+f,D+u),n.stroke()}}n.restore()}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1110),d=t(1111),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=t(12),o=function(a,s,i,r){i.addToRenderList(s);var l=a.pipelines.set(s.pipeline),n=e(s,i,r),h=l.calcMatrix.copyFrom(n.calc),u=s.width,v=s.height,f=u/2,c=u/s.projection,g=i.alpha*s.alpha;if(!!s.isFilled){var m,x,y,T,E,R,M,P,O;a.pipelines.preBatch(s),s.showTop&&(m=d.getTintAppendFloatAlpha(s.fillTop,g),x=h.getX(-f,-v),y=h.getY(-f,-v),T=h.getX(0,-c-v),E=h.getY(0,-c-v),R=h.getX(f,-v),M=h.getY(f,-v),P=h.getX(0,c-v),O=h.getY(0,c-v),l.batchQuad(s,x,y,T,E,R,M,P,O,0,0,1,1,m,m,m,m,2)),s.showLeft&&(m=d.getTintAppendFloatAlpha(s.fillLeft,g),x=h.getX(-f,0),y=h.getY(-f,0),T=h.getX(0,c),E=h.getY(0,c),R=h.getX(0,c-v),M=h.getY(0,c-v),P=h.getX(-f,-v),O=h.getY(-f,-v),l.batchQuad(s,x,y,T,E,R,M,P,O,0,0,1,1,m,m,m,m,2)),s.showRight&&(m=d.getTintAppendFloatAlpha(s.fillRight,g),x=h.getX(f,0),y=h.getY(f,0),T=h.getX(0,c),E=h.getY(0,c),R=h.getX(0,c-v),M=h.getY(0,c-v),P=h.getX(f,-v),O=h.getY(f,-v),l.batchQuad(s,x,y,T,E,R,M,P,O,0,0,1,1,m,m,m,m,2)),a.pipelines.postBatch(s)}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),d=t(30),o=function(a,s,i,r){i.addToRenderList(s);var l=a.currentContext;if(d(a,l,s,i,r)&&s.isFilled){var n=s.width,h=s.height,u=n/2,v=n/s.projection;s.showTop&&(e(l,s,s.fillTop),l.beginPath(),l.moveTo(-u,-h),l.lineTo(0,-v-h),l.lineTo(u,-h),l.lineTo(u,-1),l.lineTo(0,v-1),l.lineTo(-u,-1),l.lineTo(-u,-h),l.fill()),s.showLeft&&(e(l,s,s.fillLeft),l.beginPath(),l.moveTo(-u,0),l.lineTo(0,v),l.lineTo(0,v-h),l.lineTo(-u,-h),l.lineTo(-u,0),l.fill()),s.showRight&&(e(l,s,s.fillRight),l.beginPath(),l.moveTo(u,0),l.lineTo(0,v),l.lineTo(0,v-h),l.lineTo(u,-h),l.lineTo(u,0),l.fill()),l.restore()}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1113),d=t(1114),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=t(12),o=function(a,s,i,r){i.addToRenderList(s);var l=a.pipelines.set(s.pipeline),n=e(s,i,r),h=l.calcMatrix.copyFrom(n.calc),u=s.width,v=s.height,f=u/2,c=u/s.projection,g=s.isReversed,m=i.alpha*s.alpha;if(!!s.isFilled){a.pipelines.preBatch(s);var x,y,T,E,R,M,P;if(s.showTop&&g){x=d.getTintAppendFloatAlpha(s.fillTop,m),y=h.getX(-f,-v),T=h.getY(-f,-v),E=h.getX(0,-c-v),R=h.getY(0,-c-v),M=h.getX(f,-v),P=h.getY(f,-v);var O=h.getX(0,c-v),I=h.getY(0,c-v);l.batchQuad(s,y,T,E,R,M,P,O,I,0,0,1,1,x,x,x,x,2)}s.showLeft&&(x=d.getTintAppendFloatAlpha(s.fillLeft,m),g?(y=h.getX(-f,-v),T=h.getY(-f,-v),E=h.getX(0,c),R=h.getY(0,c),M=h.getX(0,c-v),P=h.getY(0,c-v)):(y=h.getX(-f,0),T=h.getY(-f,0),E=h.getX(0,c),R=h.getY(0,c),M=h.getX(0,c-v),P=h.getY(0,c-v)),l.batchTri(s,y,T,E,R,M,P,0,0,1,1,x,x,x,2)),s.showRight&&(x=d.getTintAppendFloatAlpha(s.fillRight,m),g?(y=h.getX(f,-v),T=h.getY(f,-v),E=h.getX(0,c),R=h.getY(0,c),M=h.getX(0,c-v),P=h.getY(0,c-v)):(y=h.getX(f,0),T=h.getY(f,0),E=h.getX(0,c),R=h.getY(0,c),M=h.getX(0,c-v),P=h.getY(0,c-v)),l.batchTri(s,y,T,E,R,M,P,0,0,1,1,x,x,x,2)),a.pipelines.postBatch(s)}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),d=t(30),o=function(a,s,i,r){i.addToRenderList(s);var l=a.currentContext;if(d(a,l,s,i,r)&&s.isFilled){var n=s.width,h=s.height,u=n/2,v=n/s.projection,f=s.isReversed;s.showTop&&f&&(e(l,s,s.fillTop),l.beginPath(),l.moveTo(-u,-h),l.lineTo(0,-v-h),l.lineTo(u,-h),l.lineTo(0,v-h),l.fill()),s.showLeft&&(e(l,s,s.fillLeft),l.beginPath(),f?(l.moveTo(-u,-h),l.lineTo(0,v),l.lineTo(0,v-h)):(l.moveTo(-u,0),l.lineTo(0,v),l.lineTo(0,v-h)),l.fill()),s.showRight&&(e(l,s,s.fillRight),l.beginPath(),f?(l.moveTo(u,-h),l.lineTo(0,v),l.lineTo(0,v-h)):(l.moveTo(u,0),l.lineTo(0,v),l.lineTo(0,v-h)),l.fill()),l.restore()}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1116),d=t(1117),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=t(12),o=function(a,s,i,r){i.addToRenderList(s);var l=a.pipelines.set(s.pipeline),n=e(s,i,r);l.calcMatrix.copyFrom(n.calc);var h=s._displayOriginX,u=s._displayOriginY,v=i.alpha*s.alpha;if(a.pipelines.preBatch(s),s.isStroked){var f=l.strokeTint,c=d.getTintAppendFloatAlpha(s.strokeColor,s.strokeAlpha*v);f.TL=c,f.TR=c,f.BL=c,f.BR=c;var g=s._startWidth,m=s._endWidth;l.batchLine(s.geom.x1-h,s.geom.y1-u,s.geom.x2-h,s.geom.y2-u,g,m,1,0,!1,n.sprite,n.camera)}a.pipelines.postBatch(s)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(60),d=t(30),o=function(a,s,i,r){i.addToRenderList(s);var l=a.currentContext;if(d(a,l,s,i,r)){var n=s._displayOriginX,h=s._displayOriginY;s.isStroked&&(e(l,s),l.beginPath(),l.moveTo(s.geom.x1-n,s.geom.y1-h),l.lineTo(s.geom.x2-n,s.geom.y2-h),l.stroke()),l.restore()}};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1119),d=t(1120),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),d=t(19),o=t(81),a=function(s,i,r,l){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),h=d(i,r,l),u=n.calcMatrix.copyFrom(h.calc),v=i._displayOriginX,f=i._displayOriginY,c=r.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&e(n,u,i,c,v,f),i.isStroked&&o(n,i,c,v,f),s.pipelines.postBatch(i)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),d=t(60),o=t(30),a=function(s,i,r,l){r.addToRenderList(i);var n=s.currentContext;if(o(s,n,i,r,l)){var h=i._displayOriginX,u=i._displayOriginY,v=i.pathData,f=v.length-1,c=v[0]-h,g=v[1]-u;n.beginPath(),n.moveTo(c,g),i.closePath||(f-=2);for(var m=2;m<f;m+=2){var x=v[m]-h,y=v[m+1]-u;n.lineTo(x,y)}n.closePath(),i.isFilled&&(e(n,i),n.fill()),i.isStroked&&(d(n,i),n.stroke()),n.restore()}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1122),d=t(1123),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=t(81),o=t(12),a=function(s,i,r,l){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),h=e(i,r,l);n.calcMatrix.copyFrom(h.calc);var u=i._displayOriginX,v=i._displayOriginY,f=r.alpha*i.alpha;if(s.pipelines.preBatch(i),i.isFilled){var c=n.fillTint,g=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*f);c.TL=g,c.TR=g,c.BL=g,c.BR=g,n.batchFillRect(-u,-v,i.width,i.height)}i.isStroked&&d(n,i,f,u,v),s.pipelines.postBatch(i)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),d=t(60),o=t(30),a=function(s,i,r,l){r.addToRenderList(i);var n=s.currentContext;if(o(s,n,i,r,l)){var h=i._displayOriginX,u=i._displayOriginY;i.isFilled&&(e(n,i),n.fillRect(-h,-u,i.width,i.height)),i.isStroked&&(d(n,i),n.beginPath(),n.rect(-h,-u,i.width,i.height),n.stroke()),n.restore()}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1125),d=t(1126),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),d=t(19),o=t(81),a=function(s,i,r,l){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),h=d(i,r,l),u=n.calcMatrix.copyFrom(h.calc),v=i._displayOriginX,f=i._displayOriginY,c=r.alpha*i.alpha;s.pipelines.preBatch(i),i.isFilled&&e(n,u,i,c,v,f),i.isStroked&&o(n,i,c,v,f),s.pipelines.postBatch(i)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),d=t(60),o=t(30),a=function(s,i,r,l){r.addToRenderList(i);var n=s.currentContext;if(o(s,n,i,r,l)){var h=i._displayOriginX,u=i._displayOriginY,v=i.pathData,f=v.length-1,c=v[0]-h,g=v[1]-u;n.beginPath(),n.moveTo(c,g),i.closePath||(f-=2);for(var m=2;m<f;m+=2){var x=v[m]-h,y=v[m+1]-u;n.lineTo(x,y)}n.closePath(),i.isFilled&&(e(n,i),n.fill()),i.isStroked&&(d(n,i),n.stroke()),n.restore()}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1128),d=t(1129),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=t(81),o=t(12),a=function(s,i,r,l){r.addToRenderList(i);var n=s.pipelines.set(i.pipeline),h=e(i,r,l);n.calcMatrix.copyFrom(h.calc);var u=i._displayOriginX,v=i._displayOriginY,f=r.alpha*i.alpha;if(s.pipelines.preBatch(i),i.isFilled){var c=n.fillTint,g=o.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*f);c.TL=g,c.TR=g,c.BL=g,c.BR=g;var m=i.geom.x1-u,x=i.geom.y1-v,y=i.geom.x2-u,T=i.geom.y2-v,E=i.geom.x3-u,R=i.geom.y3-v;n.batchFillTriangle(m,x,y,T,E,R,h.sprite,h.camera)}i.isStroked&&d(n,i,f,u,v),s.pipelines.postBatch(i)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),d=t(60),o=t(30),a=function(s,i,r,l){r.addToRenderList(i);var n=s.currentContext;if(o(s,n,i,r,l)){var h=i._displayOriginX,u=i._displayOriginY,v=i.geom.x1-h,f=i.geom.y1-u,c=i.geom.x2-h,g=i.geom.y2-u,m=i.geom.x3-h,x=i.geom.y3-u;n.beginPath(),n.moveTo(v,f),n.lineTo(c,g),n.lineTo(m,x),n.closePath(),i.isFilled&&(e(n,i),n.fill()),i.isStroked&&(d(n,i),n.stroke()),n.restore()}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),d=t(5);d.register("blitter",function(o,a,s,i){return this.displayList.add(new e(this.scene,o,a,s,i))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(214),d=t(5);d.register("container",function(o,a,s){return this.displayList.add(new e(this.scene,o,a,s))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(442),d=t(5);d.register("dom",function(o,a,s,i,r){var l=new e(this.scene,o,a,s,i,r);return this.displayList.add(l),l})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),d=t(5);d.register("dynamicBitmapText",function(o,a,s,i,r){return this.displayList.add(new e(this.scene,o,a,s,i,r))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(444),d=t(5);d.register("extern",function(){var o=new e(this.scene);return this.displayList.add(o),o})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(216),d=t(5);d.register("graphics",function(o){return this.displayList.add(new e(this.scene,o))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(113),d=t(5);d.register("group",function(o,a){return this.updateList.add(new e(this.scene,o,a))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(125),d=t(5);d.register("image",function(o,a,s,i){return this.displayList.add(new e(this.scene,o,a,s,i))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(219),d=t(5);d.register("layer",function(o){return this.displayList.add(new e(this.scene,o))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(220);e.register("particles",function(o,a,s){return this.displayList.add(new d(this.scene,o,a,s))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(457);e.register("follower",function(o,a,s,i,r){var l=new d(this.scene,o,a,s,i,r);return this.displayList.add(l),this.updateList.add(l),l})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(221);e.register("renderTexture",function(o,a,s,i,r,l){return this.displayList.add(new d(this.scene,o,a,s,i,r,l))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(223),d=t(5);d.register("rope",function(o,a,s,i,r,l,n,h){return this.displayList.add(new e(this.scene,o,a,s,i,r,l,n,h))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(73);e.register("sprite",function(o,a,s,i){var r=new d(this.scene,o,a,s,i);return this.displayList.add(r),r})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),d=t(5);d.register("bitmapText",function(o,a,s,i,r,l){return this.displayList.add(new e(this.scene,o,a,s,i,r,l))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(224),d=t(5);d.register("text",function(o,a,s,i){return this.displayList.add(new e(this.scene,o,a,s,i))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(225),d=t(5);d.register("tileSprite",function(o,a,s,i,r,l){return this.displayList.add(new e(this.scene,o,a,s,i,r,l))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(129),d=t(5);d.register("zone",function(o,a,s,i){return this.displayList.add(new e(this.scene,o,a,s,i))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(226),d=t(5);d.register("video",function(o,a,s){return this.displayList.add(new e(this.scene,o,a,s))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(461),d=t(5);d.register("arc",function(o,a,s,i,r,l,n,h){return this.displayList.add(new e(this.scene,o,a,s,i,r,l,n,h))}),d.register("circle",function(o,a,s,i,r){return this.displayList.add(new e(this.scene,o,a,s,0,360,!1,i,r))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(462);e.register("curve",function(o,a,s,i,r){return this.displayList.add(new d(this.scene,o,a,s,i,r))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(463),d=t(5);d.register("ellipse",function(o,a,s,i,r,l){return this.displayList.add(new e(this.scene,o,a,s,i,r,l))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(464);e.register("grid",function(o,a,s,i,r,l,n,h,u,v){return this.displayList.add(new d(this.scene,o,a,s,i,r,l,n,h,u,v))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(465);e.register("isobox",function(o,a,s,i,r,l,n){return this.displayList.add(new d(this.scene,o,a,s,i,r,l,n))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(466);e.register("isotriangle",function(o,a,s,i,r,l,n,h){return this.displayList.add(new d(this.scene,o,a,s,i,r,l,n,h))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(467);e.register("line",function(o,a,s,i,r,l,n,h){return this.displayList.add(new d(this.scene,o,a,s,i,r,l,n,h))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(468);e.register("polygon",function(o,a,s,i,r){return this.displayList.add(new d(this.scene,o,a,s,i,r))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(473);e.register("rectangle",function(o,a,s,i,r,l){return this.displayList.add(new d(this.scene,o,a,s,i,r,l))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(474),d=t(5);d.register("star",function(o,a,s,i,r,l,n){return this.displayList.add(new e(this.scene,o,a,s,i,r,l,n))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(475);e.register("triangle",function(o,a,s,i,r,l,n,h,u,v){return this.displayList.add(new d(this.scene,o,a,s,i,r,l,n,h,u,v))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),d=t(28),o=t(16),a=t(13);o.register("blitter",function(s,i){s===void 0&&(s={});var r=a(s,"key",null),l=a(s,"frame",null),n=new e(this.scene,0,0,r,l);return i!==void 0&&(s.add=i),d(this.scene,n,s),n})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(214),o=t(16),a=t(13);o.register("container",function(s,i){s===void 0&&(s={});var r=a(s,"x",0),l=a(s,"y",0),n=a(s,"children",null),h=new d(this.scene,r,l,n);return i!==void 0&&(s.add=i),e(this.scene,h,s),h})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),d=t(28),o=t(16),a=t(13);o.register("dynamicBitmapText",function(s,i){s===void 0&&(s={});var r=a(s,"font",""),l=a(s,"text",""),n=a(s,"size",!1),h=new e(this.scene,0,0,r,l,n);return i!==void 0&&(s.add=i),d(this.scene,h,s),h})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),d=t(216);e.register("graphics",function(o,a){o===void 0&&(o={}),a!==void 0&&(o.add=a);var s=new d(this.scene,o);return o.add&&this.scene.sys.displayList.add(s),s})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),d=t(113);e.register("group",function(o){return new d(this.scene,null,o)})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(16),o=t(13),a=t(125);d.register("image",function(s,i){s===void 0&&(s={});var r=o(s,"key",null),l=o(s,"frame",null),n=new a(this.scene,0,0,r,l);return i!==void 0&&(s.add=i),e(this.scene,n,s),n})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(219),o=t(16),a=t(13);o.register("layer",function(s,i){s===void 0&&(s={});var r=a(s,"children",null),l=new d(this.scene,r);return i!==void 0&&(s.add=i),e(this.scene,l,s),l})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),d=t(13),o=t(2),a=t(220);e.register("particles",function(s,i){s===void 0&&(s={});var r=d(s,"key",null),l=d(s,"frame",null),n=o(s,"emitters",null),h=new a(this.scene,r,l,n);i!==void 0&&(s.add=i);var u=o(s,"add",!1);return u?this.displayList.add(h):this.updateList.add(h),h})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(16),o=t(13),a=t(221);d.register("renderTexture",function(s,i){s===void 0&&(s={});var r=o(s,"x",0),l=o(s,"y",0),n=o(s,"width",32),h=o(s,"height",32),u=o(s,"key",void 0),v=o(s,"frame",void 0),f=new a(this.scene,r,l,n,h,u,v);return i!==void 0&&(s.add=i),e(this.scene,f,s),f})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(16),o=t(13),a=t(6),s=t(223);d.register("rope",function(i,r){i===void 0&&(i={});var l=o(i,"key",null),n=o(i,"frame",null),h=o(i,"horizontal",!0),u=a(i,"points",void 0),v=a(i,"colors",void 0),f=a(i,"alphas",void 0),c=new s(this.scene,0,0,l,n,u,h,v,f);return r!==void 0&&(i.add=r),e(this.scene,c,i),i.add||this.updateList.add(c),c})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(439),o=t(16),a=t(13),s=t(73);o.register("sprite",function(i,r){i===void 0&&(i={});var l=a(i,"key",null),n=a(i,"frame",null),h=new s(this.scene,0,0,l,n);return r!==void 0&&(i.add=r),e(this.scene,h,i),d(h,i),h})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),d=t(28),o=t(16),a=t(13),s=t(6);o.register("bitmapText",function(i,r){i===void 0&&(i={});var l=s(i,"font",""),n=a(i,"text",""),h=a(i,"size",!1),u=s(i,"align",0),v=new e(this.scene,0,0,l,n,h,u);return r!==void 0&&(i.add=r),d(this.scene,v,i),v})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(16),o=t(13),a=t(224);d.register("text",function(s,i){s===void 0&&(s={});var r=o(s,"text",""),l=o(s,"style",null),n=o(s,"padding",null);n!==null&&(l.padding=n);var h=new a(this.scene,0,0,r,l);return i!==void 0&&(s.add=i),e(this.scene,h,s),h.autoRound=o(s,"autoRound",!0),h.resolution=o(s,"resolution",1),h})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(16),o=t(13),a=t(225);d.register("tileSprite",function(s,i){s===void 0&&(s={});var r=o(s,"x",0),l=o(s,"y",0),n=o(s,"width",512),h=o(s,"height",512),u=o(s,"key",""),v=o(s,"frame",""),f=new a(this.scene,r,l,n,h,u,v);return i!==void 0&&(s.add=i),e(this.scene,f,s),f})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),d=t(13),o=t(129);e.register("zone",function(a){var s=d(a,"x",0),i=d(a,"y",0),r=d(a,"width",1),l=d(a,"height",r);return new o(this.scene,s,i,r,l)})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(16),o=t(13),a=t(226);d.register("video",function(s,i){s===void 0&&(s={});var r=o(s,"key",null),l=new a(this.scene,0,0,r);return i!==void 0&&(s.add=i),e(this.scene,l,s),s.add||this.updateList.add(l),l})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1177),d=t(1178),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=function(o,a,s,i){if(!!a.shader){if(s.addToRenderList(a),o.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var r=e(a,s,i).calc;(o.width!==a._rendererWidth||o.height!==a._rendererHeight)&&a.projOrtho(0,o.width,o.height,0),a.load(r.matrix),a.flush()}o.pipelines.rebind()}};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1180),d=t(1181),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=function(o,a,s,i){var r=a.faces,l=r.length;if(l!==0){s.addToRenderList(a);var n=o.pipelines.set(a.pipeline,a),h=e(a,s,i).calc,u=n.setGameObject(a),v=n.vertexViewF32,f=n.vertexViewU32,c=n.vertexCount*n.currentShader.vertexComponentCount-1,g=a.tintFill,m=[],x=a.debugCallback,y=h.a,T=h.b,E=h.c,R=h.d,M=h.e,P=h.f,O=a.viewPosition.z,I=a.hideCCW,B=s.roundPixels,w=s.alpha*a.alpha,z=0;o.pipelines.preBatch(a);for(var H=0;H<l;H++){var b=r[H];!b.isInView(s,I,O,w,y,T,E,R,M,P,B)||(n.shouldFlush(3)&&(n.flush(),c=0),c=b.load(v,f,c,u,g),z++,n.vertexCount+=3,x&&m.push(b))}a.totalFrame+=z,x&&x.call(a,a,m),o.pipelines.postBatch(a)}};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1183),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),d=function(o,a,s,i){s.addToRenderList(a);var r=o.pipelines.set(a.pipeline),l=e(a,s,i).calc,n=a.width,h=a.height,u=-a._radius,v=-a._radius,f=u+n,c=v+h,g=l.getX(0,0),m=l.getY(0,0),x=l.getX(u,v),y=l.getY(u,v),T=l.getX(u,c),E=l.getY(u,c),R=l.getX(f,c),M=l.getY(f,c),P=l.getX(f,v),O=l.getY(f,v);o.pipelines.preBatch(a),r.batchPointLight(a,s,x,y,T,E,R,M,P,O,g,m),o.pipelines.postBatch(a)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(229),d=t(5);d.register("shader",function(o,a,s,i,r,l,n){return this.displayList.add(new e(this.scene,o,a,s,i,r,l,n))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(230),d=t(5);d.register("mesh",function(o,a,s,i,r,l,n,h,u,v,f){return this.displayList.add(new e(this.scene,o,a,s,i,r,l,n,h,u,v,f))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(150);e.register("pointlight",function(o,a,s,i,r,l){return this.displayList.add(new d(this.scene,o,a,s,i,r,l))})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(16),o=t(13),a=t(229);d.register("shader",function(s,i){s===void 0&&(s={});var r=o(s,"key",null),l=o(s,"x",0),n=o(s,"y",0),h=o(s,"width",128),u=o(s,"height",128),v=new a(this.scene,r,l,n,h,u);return i!==void 0&&(s.add=i),e(this.scene,v,s),v})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(16),o=t(13),a=t(6),s=t(230);d.register("mesh",function(i,r){i===void 0&&(i={});var l=o(i,"key",null),n=o(i,"frame",null),h=a(i,"vertices",[]),u=a(i,"uvs",[]),v=a(i,"indicies",[]),f=a(i,"containsZ",!1),c=a(i,"normals",[]),g=a(i,"colors",16777215),m=a(i,"alphas",1),x=new s(this.scene,0,0,l,n,h,u,v,f,c,g,m);return r!==void 0&&(i.add=r),e(this.scene,x,i),x})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),d=t(16),o=t(13),a=t(150);d.register("pointlight",function(s,i){s===void 0&&(s={});var r=o(s,"color",16777215),l=o(s,"radius",128),n=o(s,"intensity",1),h=o(s,"attenuation",.1),u=new a(this.scene,0,0,r,l,n,h);return i!==void 0&&(s.add=i),e(this.scene,u,s),u})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(482),o=t(24),a=t(20),s=new e({Extends:d,initialize:function(r){this.scene=r,this.systems=r.sys,r.sys.settings.isBooted||r.sys.events.once(a.BOOT,this.boot,this),d.call(this)},boot:function(){var i=this.systems.events;i.on(a.SHUTDOWN,this.shutdown,this),i.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});o.register("LightsPlugin",s,"lights"),p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65);e.Area=t(1192),e.Circumference=t(302),e.CircumferencePoint=t(169),e.Clone=t(1193),e.Contains=t(66),e.ContainsPoint=t(1194),e.ContainsRect=t(1195),e.CopyFrom=t(1196),e.Equals=t(1197),e.GetBounds=t(1198),e.GetPoint=t(300),e.GetPoints=t(301),e.Offset=t(1199),e.OffsetPoint=t(1200),e.Random=t(170),p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),d=function(o){return new e(o.x,o.y,o.radius)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),d=function(o,a){return e(o,a.x,a.y)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),d=function(o,a){return e(o,a.x,a.y)&&e(o,a.right,a.y)&&e(o,a.x,a.bottom)&&e(o,a.right,a.bottom)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d.setTo(e.x,e.y,e.radius)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x===d.x&&e.y===d.y&&e.radius===d.radius};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=function(o,a){return a===void 0&&(a=new e),a.x=o.left,a.y=o.top,a.width=o.diameter,a.height=o.diameter,a};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e.x+=d,e.y+=o,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x+=d.x,e.y+=d.y,e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111);e.Area=t(1202),e.Circumference=t(447),e.CircumferencePoint=t(218),e.Clone=t(1203),e.Contains=t(112),e.ContainsPoint=t(1204),e.ContainsRect=t(1205),e.CopyFrom=t(1206),e.Equals=t(1207),e.GetBounds=t(1208),e.GetPoint=t(445),e.GetPoints=t(446),e.Offset=t(1209),e.OffsetPoint=t(1210),e.Random=t(180),p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111),d=function(o){return new e(o.x,o.y,o.width,o.height)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),d=function(o,a){return e(o,a.x,a.y)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),d=function(o,a){return e(o,a.x,a.y)&&e(o,a.right,a.y)&&e(o,a.x,a.bottom)&&e(o,a.right,a.bottom)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d.setTo(e.x,e.y,e.width,e.height)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x===d.x&&e.y===d.y&&e.width===d.width&&e.height===d.height};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=function(o,a){return a===void 0&&(a=new e),a.x=o.left,a.y=o.top,a.width=o.width,a.height=o.height,a};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e.x+=d,e.y+=o,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x+=d.x,e.y+=d.y,e};p.exports=t},function(p,C,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=t(231),o=function(a,s,i){if(i===void 0&&(i=[]),d(a,s)){var r=a.x,l=a.y,n=a.radius,h=s.x,u=s.y,v=s.radius,f,c,g,m,x;if(l===u)x=(v*v-n*n-h*h+r*r)/(2*(r-h)),f=1,c=-2*u,g=h*h+x*x-2*h*x+u*u-v*v,m=c*c-4*f*g,m===0?i.push(new e(x,-c/(2*f))):m>0&&(i.push(new e(x,(-c+Math.sqrt(m))/(2*f))),i.push(new e(x,(-c-Math.sqrt(m))/(2*f))));else{var y=(r-h)/(l-u),T=(v*v-n*n-h*h+r*r-u*u+l*l)/(2*(l-u));f=y*y+1,c=2*l*y-2*T*y-2*r,g=r*r+l*l+T*T-n*n-2*l*T,m=c*c-4*f*g,m===0?(x=-c/(2*f),i.push(new e(x,T-x*y))):m>0&&(x=(-c+Math.sqrt(m))/(2*f),i.push(new e(x,T-x*y)),x=(-c-Math.sqrt(m))/(2*f),i.push(new e(x,T-x*y)))}}return i};p.exports=o},function(p,C,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),d=t(151),o=function(a,s,i){if(i===void 0&&(i=[]),d(a,s)){var r=s.getLineA(),l=s.getLineB(),n=s.getLineC(),h=s.getLineD();e(r,a,i),e(l,a,i),e(n,a,i),e(h,a,i)}return i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(140),d=t(487),o=t(47),a=new o;function s(l,n,h,u,v){var f=Math.cos(l),c=Math.sin(l);a.setTo(n,h,n+f,h+c);var g=d(a,u);g&&v.push(new e(g.x,g.y,l,g.w))}function i(l,n){return l.z-n.z}var r=function(l,n,h){Array.isArray(h)||(h=[h]);for(var u=[],v=[],f=0;f<h.length;f++)for(var c=h[f].points,g=0;g<c.length;g++){var m=Math.atan2(c[g].y-n,c[g].x-l);v.indexOf(m)===-1&&(s(m,l,n,h,u),s(m-1e-5,l,n,h,u),s(m+1e-5,l,n,h,u),v.push(m))}return u.sort(i)};p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=t(152),o=function(a,s,i){return i===void 0&&(i=new e),d(a,s)&&(i.x=Math.max(a.x,s.x),i.y=Math.max(a.y,s.y),i.width=Math.min(a.right,s.right)-i.x,i.height=Math.min(a.bottom,s.bottom)-i.y),i};p.exports=o},function(p,C,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(234),d=t(152),o=function(a,s,i){if(i===void 0&&(i=[]),d(a,s)){var r=a.getLineA(),l=a.getLineB(),n=a.getLineC(),h=a.getLineD();e(r,s,i),e(l,s,i),e(n,s,i),e(h,s,i)}return i};p.exports=o},function(p,C,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(489),d=t(234),o=function(a,s,i){if(i===void 0&&(i=[]),e(a,s)){var r=s.getLineA(),l=s.getLineB(),n=s.getLineC();d(r,a,i),d(l,a,i),d(n,a,i)}return i};p.exports=o},function(p,C,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),d=t(491),o=function(a,s,i){if(i===void 0&&(i=[]),d(a,s)){var r=a.getLineA(),l=a.getLineB(),n=a.getLineC();e(r,s,i),e(l,s,i),e(n,s,i)}return i};p.exports=o},function(p,C,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(494),d=t(492),o=function(a,s,i){if(i===void 0&&(i=[]),e(a,s)){var r=s.getLineA(),l=s.getLineB(),n=s.getLineC();d(a,r,i),d(a,l,i),d(a,n,i)}return i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(496),d=function(o,a){if(!e(o,a))return!1;var s=Math.min(a.x1,a.x2),i=Math.max(a.x1,a.x2),r=Math.min(a.y1,a.y2),l=Math.max(a.y1,a.y2);return o.x>=s&&o.x<=i&&o.y>=r&&o.y<=l};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s,i){return i===void 0&&(i=0),!(d>e.right+i||o<e.left-i||a>e.bottom+i||s<e.top-i)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47);e.Angle=t(97),e.BresenhamPoints=t(317),e.CenterOn=t(1222),e.Clone=t(1223),e.CopyFrom=t(1224),e.Equals=t(1225),e.Extend=t(1226),e.GetEasedPoints=t(1227),e.GetMidPoint=t(1228),e.GetNearestPoint=t(1229),e.GetNormal=t(1230),e.GetPoint=t(307),e.GetPoints=t(172),e.GetShortestDistance=t(1231),e.Height=t(1232),e.Length=t(67),e.NormalAngle=t(497),e.NormalX=t(1233),e.NormalY=t(1234),e.Offset=t(1235),e.PerpSlope=t(1236),e.Random=t(173),e.ReflectAngle=t(1237),e.Rotate=t(1238),e.RotateAroundPoint=t(1239),e.RotateAroundXY=t(236),e.SetToAngle=t(1240),e.Slope=t(1241),e.Width=t(1242),p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=d-(e.x1+e.x2)/2,s=o-(e.y1+e.y2)/2;return e.x1+=a,e.y1+=s,e.x2+=a,e.y2+=s,e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47),d=function(o){return new e(o.x1,o.y1,o.x2,o.y2)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d.setTo(e.x1,e.y1,e.x2,e.y2)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x1===d.x1&&e.y1===d.y1&&e.x2===d.x2&&e.y2===d.y2};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),d=function(o,a,s){s===void 0&&(s=a);var i=e(o),r=o.x2-o.x1,l=o.y2-o.y1;return a&&(o.x1=o.x1-r/i*a,o.y1=o.y1-l/i*a),s&&(o.x2=o.x2+r/i*s,o.y2=o.y2+l/i*s),o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(352),d=t(80),o=t(4),a=function(s,i,r,l,n){l===void 0&&(l=0),n===void 0&&(n=[]);var h=[],u=s.x1,v=s.y1,f=s.x2-u,c=s.y2-v,g=d(i,n),m,x,y=r-1;for(m=0;m<y;m++)x=g(m/y),h.push(new o(u+f*x,v+c*x));if(x=g(1),h.push(new o(u+f*x,v+c*x)),l>0){var T=h[0],E=[T];for(m=1;m<h.length-1;m++){var R=h[m];e(T,R)>=l&&(E.push(R),T=R)}var M=h[h.length-1];return e(T,M)<l&&E.pop(),E.push(M),E}else return h};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){return a===void 0&&(a=new e),a.x=(o.x1+o.x2)/2,a.y=(o.y1+o.y2)/2,a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a,s){s===void 0&&(s=new e);var i=o.x1,r=o.y1,l=o.x2,n=o.y2,h=(l-i)*(l-i)+(n-r)*(n-r);if(h===0)return s;var u=((a.x-i)*(l-i)+(a.y-r)*(n-r))/h;return s.x=i+u*(l-i),s.y=r+u*(n-r),s};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),d=t(97),o=t(4),a=function(s,i){i===void 0&&(i=new o);var r=d(s)-e.TAU;return i.x=Math.cos(r),i.y=Math.sin(r),i};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=e.x1,a=e.y1,s=e.x2,i=e.y2,r=(s-o)*(s-o)+(i-a)*(i-a);if(r===0)return!1;var l=((a-d.y)*(s-o)-(o-d.x)*(i-a))/r;return Math.abs(l)*Math.sqrt(r)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.y1-e.y2)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),d=t(97),o=function(a){return Math.cos(d(a)-e.TAU)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),d=t(97),o=function(a){return Math.sin(d(a)-e.TAU)};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e.x1+=d,e.y1+=o,e.x2+=d,e.y2+=o,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(97),d=t(497),o=function(a,s){return 2*d(s)-Math.PI-e(a)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),d=function(o,a){var s=(o.x1+o.x2)/2,i=(o.y1+o.y2)/2;return e(o,s,i,a)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),d=function(o,a,s){return e(o,a.x,a.y,s)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a,s){return e.x1=d,e.y1=o,e.x2=d+Math.cos(a)*s,e.y2=o+Math.sin(a)*s,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.x1-e.x2)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Face:t(116),GenerateGridVerts:t(1244),GenerateObjVerts:t(480),GenerateVerts:t(479),ParseObj:t(498),ParseObjMaterial:t(499),RotateFace:t(1245),Vertex:t(117)};p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),d=t(2),o=t(69),a=t(39),s=t(117),i=new a,r=new a,l=new o,n=function(h){var u=d(h,"mesh"),v=d(h,"texture",null),f=d(h,"frame"),c=d(h,"width",1),g=d(h,"height",c),m=d(h,"widthSegments",1),x=d(h,"heightSegments",m),y=d(h,"x",0),T=d(h,"y",0),E=d(h,"z",0),R=d(h,"rotateX",0),M=d(h,"rotateY",0),P=d(h,"rotateZ",0),O=d(h,"zIsUp",!0),I=d(h,"isOrtho",u?u.dirtyCache[11]:!1),B=d(h,"colors",[16777215]),w=d(h,"alphas",[1]),z=d(h,"tile",!1),H=d(h,"flipY",!1),b=d(h,"width",null),Q={faces:[],verts:[]};if(i.set(y,T,E),r.set(R,M,P),l.fromRotationXYTranslation(r,i,O),!v&&u)v=u.texture;else if(u&&typeof v=="string")v=u.scene.sys.textures.get(v);else return Q;var D=v.get(f);!b&&I&&v&&u&&(c=D.width/u.height,g=D.height/u.height);var F=c/2,G=g/2,N=Math.floor(m),X=Math.floor(x),V=N+1,W=X+1,Z=c/N,et=g/X,it=[],ht=[],vt,lt,xt=0,st=1,mt=0,wt=1;D&&(xt=D.u0,st=D.u1,H?(mt=D.v1,wt=D.v0):(mt=D.v0,wt=D.v1));var St=st-xt,Rt=wt-mt;for(lt=0;lt<W;lt++){var Tt=lt*et-G;for(vt=0;vt<V;vt++){var Bt=vt*Z-F;ht.push(Bt,-Tt);var Pt=xt+St*(vt/N),Ft=mt+Rt*(lt/X);it.push(Pt,Ft)}}Array.isArray(B)||(B=[B]),Array.isArray(w)||(w=[w]);var ae=0,Xt=0;for(lt=0;lt<X;lt++)for(vt=0;vt<N;vt++){var Qt=(vt+V*lt)*2,zt=(vt+V*(lt+1))*2,Lt=(vt+1+V*(lt+1))*2,ee=(vt+1+V*lt)*2,se=B[Xt],he=w[ae],pe=new s(ht[Qt],ht[Qt+1],0,it[Qt],it[Qt+1],se,he).transformMat4(l),Ee=new s(ht[zt],ht[zt+1],0,it[zt],it[zt+1],se,he).transformMat4(l),Ce=new s(ht[ee],ht[ee+1],0,it[ee],it[ee+1],se,he).transformMat4(l),xe=new s(ht[zt],ht[zt+1],0,it[zt],it[zt+1],se,he).transformMat4(l),Ae=new s(ht[Lt],ht[Lt+1],0,it[Lt],it[Lt+1],se,he).transformMat4(l),Re=new s(ht[ee],ht[ee+1],0,it[ee],it[ee+1],se,he).transformMat4(l);z&&(pe.setUVs(xt,wt),Ee.setUVs(xt,mt),Ce.setUVs(st,wt),xe.setUVs(xt,mt),Ae.setUVs(st,mt),Re.setUVs(st,wt)),Xt++,Xt===B.length&&(Xt=0),ae++,ae===w.length&&(ae=0),Q.verts.push(pe,Ee,Ce,xe,Ae,Re),Q.faces.push(new e(pe,Ee,Ce),new e(xe,Ae,Re))}return u&&(u.faces=u.faces.concat(Q.faces),u.vertices=u.vertices.concat(Q.verts)),Q};p.exports=n},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){var s,i;if(o===void 0&&a===void 0){var r=e.getInCenter();s=r.x,i=r.y}var l=Math.cos(d),n=Math.sin(d),h=e.vertex1,u=e.vertex2,v=e.vertex3,f=h.x-s,c=h.y-i;h.set(f*l-c*n+s,f*n+c*l+i),f=u.x-s,c=u.y-i,u.set(f*l-c*n+s,f*n+c*l+i),f=v.x-s,c=v.y-i,v.set(f*l-c*n+s,f*n+c*l+i)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);e.Ceil=t(1247),e.Clone=t(1248),e.CopyFrom=t(1249),e.Equals=t(1250),e.Floor=t(1251),e.GetCentroid=t(1252),e.GetMagnitude=t(500),e.GetMagnitudeSq=t(501),e.GetRectangleFromPoints=t(1253),e.Interpolate=t(1254),e.Invert=t(1255),e.Negative=t(1256),e.Project=t(1257),e.ProjectUnit=t(1258),e.SetMagnitude=t(1259),p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o){return new e(o.x,o.y)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d.setTo(e.x,e.y)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x===d.x&&e.y===d.y};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){if(a===void 0&&(a=new e),!Array.isArray(o))throw new Error("GetCentroid points argument must be an array");var s=o.length;if(s<1)throw new Error("GetCentroid points array must not be empty");if(s===1)a.x=o[0].x,a.y=o[0].y;else{for(var i=0;i<s;i++)a.x+=o[i].x,a.y+=o[i].y;a.x/=s,a.y/=s}return a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=function(o,a){a===void 0&&(a=new e);for(var s=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,n=0;n<o.length;n++){var h=o[n];h.x>s&&(s=h.x),h.x<i&&(i=h.x),h.y>r&&(r=h.y),h.y<l&&(l=h.y)}return a.x=i,a.y=l,a.width=s-i,a.height=r-l,a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a,s,i){return s===void 0&&(s=0),i===void 0&&(i=new e),i.x=o.x+(a.x-o.x)*s,i.y=o.y+(a.y-o.y)*s,i};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(e.y,e.x)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){return a===void 0&&(a=new e),a.setTo(-o.x,-o.y)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=t(501),o=function(a,s,i){i===void 0&&(i=new e);var r=a.x*s.x+a.y*s.y,l=r/d(s);return l!==0&&(i.x=l*s.x,i.y=l*s.y),i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a,s){s===void 0&&(s=new e);var i=o.x*a.x+o.y*a.y;return i!==0&&(s.x=i*a.x,s.y=i*a.y),s};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(500),d=function(o,a){if(o.x!==0||o.y!==0){var s=e(o);o.x/=s,o.y/=s}return o.x*=a,o.y*=a,o};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227);e.Clone=t(1261),e.Contains=t(228),e.ContainsPoint=t(1262),e.Earcut=t(59),e.GetAABB=t(469),e.GetNumberArray=t(1263),e.GetPoints=t(470),e.Perimeter=t(471),e.Reverse=t(1264),e.Simplify=t(1265),e.Smooth=t(472),e.Translate=t(1266),p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227),d=function(o){return new e(o.points)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(228),d=function(o,a){return e(o,a.x,a.y)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d===void 0&&(d=[]);for(var o=0;o<e.points.length;o++)d.push(e.points[o].x),d.push(e.points[o].y);return d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.points.reverse(),e};p.exports=t},function(p,C){function t(i,r){var l=i.x-r.x,n=i.y-r.y;return l*l+n*n}function e(i,r,l){var n=r.x,h=r.y,u=l.x-n,v=l.y-h;if(u!==0||v!==0){var f=((i.x-n)*u+(i.y-h)*v)/(u*u+v*v);f>1?(n=l.x,h=l.y):f>0&&(n+=u*f,h+=v*f)}return u=i.x-n,v=i.y-h,u*u+v*v}function d(i,r){for(var l=i[0],n=[l],h,u=1,v=i.length;u<v;u++)h=i[u],t(h,l)>r&&(n.push(h),l=h);return l!==h&&n.push(h),n}function o(i,r,l,n,h){for(var u=n,v,f=r+1;f<l;f++){var c=e(i[f],i[r],i[l]);c>u&&(v=f,u=c)}u>n&&(v-r>1&&o(i,r,v,n,h),h.push(i[v]),l-v>1&&o(i,v,l,n,h))}function a(i,r){var l=i.length-1,n=[i[0]];return o(i,0,l,r,n),n.push(i[l]),n}var s=function(i,r,l){r===void 0&&(r=1),l===void 0&&(l=!1);var n=i.points;if(n.length>2){var h=r*r;l||(n=d(n,h)),i.setTo(a(n,h))}return i};p.exports=s},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){for(var a=e.points,s=0;s<a.length;s++)a[s].x+=d,a[s].y+=o;return e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.height};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=function(o){return new e(o.x,o.y,o.width,o.height)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(57),d=function(o,a){return e(o,a.x,a.y)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d.setTo(e.x,e.y,e.width,e.height)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x===d.x&&e.y===d.y&&e.width===d.width&&e.height===d.height};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),d=function(o,a){var s=e(o);return s<e(a)?o.setSize(a.height*s,a.height):o.setSize(a.width,a.width/s),o.setPosition(a.centerX-o.width/2,a.centerY-o.height/2)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),d=function(o,a){var s=e(o);return s>e(a)?o.setSize(a.height*s,a.height):o.setSize(a.width,a.width/s),o.setPosition(a.centerX-o.width/2,a.centerY-o.height/2)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};p.exports=t},function(p,C,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=function(o,a,s,i,r){return r===void 0&&(r=new e),r.setTo(Math.min(o,s),Math.min(a,i),Math.abs(o-s),Math.abs(a-i))};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){return a===void 0&&(a=new e),a.x=o.centerX,a.y=o.centerY,a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=function(o,a){return a===void 0&&(a=new e),a.x=o.width,a.y=o.height,a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(190),d=function(o,a,s){var i=o.centerX,r=o.centerY;return o.setSize(o.width+a*2,o.height+s*2),e(o,i,r)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),d=t(152),o=function(a,s,i){return i===void 0&&(i=new e),d(a,s)?(i.x=Math.max(a.x,s.x),i.y=Math.max(a.y,s.y),i.width=Math.min(a.right,s.right)-i.x,i.height=Math.min(a.bottom,s.bottom)-i.y):i.setEmpty(),i};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){for(var o=e.x,a=e.right,s=e.y,i=e.bottom,r=0;r<d.length;r++)o=Math.min(o,d[r].x),a=Math.max(a,d[r].x),s=Math.min(s,d[r].y),i=Math.max(i,d[r].y);return e.x=o,e.y=s,e.width=a-o,e.height=i-s,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){var o=Math.min(e.x,d.x),a=Math.max(e.right,d.right);e.x=o,e.width=a-o;var s=Math.min(e.y,d.y),i=Math.max(e.bottom,d.bottom);return e.y=s,e.height=i-s,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){var a=Math.min(e.x,d),s=Math.max(e.right,d);e.x=a,e.width=s-a;var i=Math.min(e.y,o),r=Math.max(e.bottom,o);return e.y=i,e.height=r-i,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return e.x+=d,e.y+=o,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x+=d.x,e.y+=d.y,e};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x<d.right&&e.right>d.x&&e.y<d.bottom&&e.bottom>d.y};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),d=t(36),o=function(a,s,i){i===void 0&&(i=new e),s=d(s);var r=Math.sin(s),l=Math.cos(s),n=l>0?a.width/2:a.width/-2,h=r>0?a.height/2:a.height/-2;return Math.abs(n*r)<Math.abs(h*l)?h=n*r/l:n=h*l/r,i.x=n+a.centerX,i.y=h+a.centerY,i};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),d=t(503),o=t(4),a=function(s,i,r){if(r===void 0&&(r=new o),d(s,i))switch(e(0,3)){case 0:r.x=s.x+Math.random()*(i.right-s.x),r.y=s.y+Math.random()*(i.top-s.y);break;case 1:r.x=i.x+Math.random()*(s.right-i.x),r.y=i.bottom+Math.random()*(s.bottom-i.bottom);break;case 2:r.x=s.x+Math.random()*(i.x-s.x),r.y=i.y+Math.random()*(s.bottom-i.y);break;case 3:r.x=i.right+Math.random()*(s.right-i.right),r.y=s.y+Math.random()*(i.bottom-s.y);break}return r};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.width===d.width&&e.height===d.height};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o){return o===void 0&&(o=d),e.width*=d,e.height*=o,e};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82);e.Area=t(1294),e.BuildEquilateral=t(1295),e.BuildFromPolygon=t(1296),e.BuildRight=t(1297),e.CenterOn=t(1298),e.Centroid=t(504),e.CircumCenter=t(1299),e.CircumCircle=t(1300),e.Clone=t(1301),e.Contains=t(115),e.ContainsArray=t(235),e.ContainsPoint=t(1302),e.CopyFrom=t(1303),e.Decompose=t(495),e.Equals=t(1304),e.GetPoint=t(476),e.GetPoints=t(477),e.InCenter=t(506),e.Perimeter=t(1305),e.Offset=t(505),e.Random=t(181),e.Rotate=t(1306),e.RotateAroundPoint=t(1307),e.RotateAroundXY=t(238),p.exports=e},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var d=e.x1,o=e.y1,a=e.x2,s=e.y2,i=e.x3,r=e.y3;return Math.abs(((i-d)*(s-o)-(a-d)*(r-o))/2)};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),d=function(o,a,s){var i=s*(Math.sqrt(3)/2),r=o,l=a,n=o+s/2,h=a+i,u=o-s/2,v=a+i;return new e(r,l,n,h,u,v)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(59),d=t(82),o=function(a,s,i,r,l){s===void 0&&(s=null),i===void 0&&(i=1),r===void 0&&(r=1),l===void 0&&(l=[]);for(var n=e(a,s),h,u,v,f,c,g,m,x,y,T=0;T<n.length;T+=3)h=n[T],u=n[T+1],v=n[T+2],f=a[h*2]*i,c=a[h*2+1]*r,g=a[u*2]*i,m=a[u*2+1]*r,x=a[v*2]*i,y=a[v*2+1]*r,l.push(new d(f,c,g,m,x,y));return l};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),d=function(o,a,s,i){i===void 0&&(i=s);var r=o,l=a,n=o,h=a-i,u=o+s,v=a;return new e(r,l,n,h,u,v)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(504),d=t(505),o=function(a,s,i,r){r===void 0&&(r=e);var l=r(a),n=s-l.x,h=i-l.y;return d(a,n,h)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3);function d(a,s,i,r){return a*r-s*i}var o=function(a,s){s===void 0&&(s=new e);var i=a.x3,r=a.y3,l=a.x1-i,n=a.y1-r,h=a.x2-i,u=a.y2-r,v=2*d(l,n,h,u),f=d(n,l*l+n*n,u,h*h+u*u),c=d(l,l*l+n*n,h,h*h+u*u);return s.x=i-f/v,s.y=r+c/v,s};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),d=function(o,a){a===void 0&&(a=new e);var s=o.x1,i=o.y1,r=o.x2,l=o.y2,n=o.x3,h=o.y3,u=r-s,v=l-i,f=n-s,c=h-i,g=u*(s+r)+v*(i+l),m=f*(s+n)+c*(i+h),x=2*(u*(h-l)-v*(n-r)),y,T;if(Math.abs(x)<1e-6){var E=Math.min(s,r,n),R=Math.min(i,l,h);y=(Math.max(s,r,n)-E)*.5,T=(Math.max(i,l,h)-R)*.5,a.x=E+y,a.y=R+T,a.radius=Math.sqrt(y*y+T*T)}else a.x=(c*g-v*m)/x,a.y=(u*m-f*g)/x,y=a.x-s,T=a.y-i,a.radius=Math.sqrt(y*y+T*T);return a};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),d=function(o){return new e(o.x1,o.y1,o.x2,o.y2,o.x3,o.y3)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(115),d=function(o,a){return e(o,a.x,a.y)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.x1===d.x1&&e.y1===d.y1&&e.x2===d.x2&&e.y2===d.y2&&e.x3===d.x3&&e.y3===d.y3};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),d=function(o){var a=o.getLineA(),s=o.getLineB(),i=o.getLineC();return e(a)+e(s)+e(i)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),d=t(506),o=function(a,s){var i=d(a);return e(a,i.x,i.y,s)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),d=function(o,a,s){return e(o,a.x,a.y,s)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(203),d=t(17),o={CreatePixelPerfectHandler:t(507),CreateInteractiveObject:t(508),Events:t(51),Gamepad:t(1309),InputManager:t(409),InputPlugin:t(1321),InputPluginCache:t(153),Keyboard:t(1322),Mouse:t(1336),Pointer:t(412),Touch:t(1337)};o=d(!1,o,e),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Axis:t(509),Button:t(510),Events:t(239),Gamepad:t(511),GamepadPlugin:t(1316),Configs:t(1317)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="connected"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="disconnected"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(9),o=t(239),a=t(511),s=t(6),i=t(153),r=t(51),l=new e({Extends:d,initialize:function(h){d.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(r.BOOT,this.boot,this),h.pluginEvents.on(r.START,this.start,this)},boot:function(){var n=this.scene.sys.game,h=this.settings.input,u=n.config;this.enabled=s(h,"gamepad",u.inputGamepad)&&n.device.input.gamepads,this.target=s(h,"gamepad.target",u.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var n=this,h=this.target,u=function(v){v.defaultPrevented||!n.isActive()||(n.refreshPads(),n.queue.push(v))};this.onGamepadHandler=u,h.addEventListener("gamepadconnected",u,!1),h.addEventListener("gamepaddisconnected",u,!1),this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update);for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].removeAllListeners()},disconnectAll:function(){for(var n=0;n<this.gamepads.length;n++)this.gamepads[n].pad.connected=!1},refreshPads:function(){var n=navigator.getGamepads();if(!n)this.disconnectAll();else for(var h=this.gamepads,u=0;u<n.length;u++){var v=n[u];if(!!v){var f=v.id,c=v.index,g=h[c];if(g)g.id!==f?(g.destroy(),h[c]=new a(this,v)):g.update(v);else{var m=new a(this,v);h[c]=m,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=m):this._pad3=m:this._pad2=m:this._pad1=m}}}},getAll:function(){for(var n=[],h=this.gamepads,u=0;u<h.length;u++)h[u]&&n.push(h[u]);return n},getPad:function(n){for(var h=this.gamepads,u=0;u<h.length;u++)if(h[u]&&h[u].index===n)return h[u]},update:function(){if(!!this.enabled){this.refreshPads();var n=this.queue.length;if(n!==0)for(var h=this.queue.splice(0,n),u=0;u<n;u++){var v=h[u],f=this.getPad(v.gamepad.index);v.type==="gamepadconnected"?this.emit(o.CONNECTED,f,v):v.type==="gamepaddisconnected"&&this.emit(o.DISCONNECTED,f,v)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var n=0;n<this.gamepads.length;n++)this.gamepads[n]&&this.gamepads[n].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i.register("GamepadPlugin",l,"gamepad","gamepad","inputGamepad"),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={DUALSHOCK_4:t(1318),SNES_USB:t(1319),XBOX_360:t(1320)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),d=t(66),o=t(0),a=t(203),s=t(508),i=t(507),r=t(50),l=t(111),n=t(112),h=t(51),u=t(9),v=t(2),f=t(56),c=t(153),g=t(7),m=t(24),x=t(10),y=t(57),T=t(20),E=t(82),R=t(115),M=new o({Extends:u,initialize:function(O){u.call(this),this.scene=O,this.systems=O.sys,this.settings=O.sys.settings,this.manager=O.sys.game.input,this.pluginEvents=new u,this.enabled=!0,this.displayList,this.cameras,c.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var I={cancelled:!1};this._eventContainer={stopPropagation:function(){I.cancelled=!0}},this._eventData=I,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,O.sys.events.once(T.BOOT,this.boot,this),O.sys.events.on(T.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(T.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var P=this.systems.events;P.on(T.TRANSITION_START,this.transitionIn,this),P.on(T.TRANSITION_OUT,this.transitionOut,this),P.on(T.TRANSITION_COMPLETE,this.transitionComplete,this),P.on(T.PRE_UPDATE,this.preUpdate,this),P.once(T.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(P){this.isActive()&&this.emit(h.GAME_OVER,P.timeStamp,P)},onGameOut:function(P){this.isActive()&&this.emit(h.GAME_OUT,P.timeStamp,P)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var P=this._pendingRemoval,O=this._pendingInsertion,I=P.length,B=O.length;if(!(I===0&&B===0)){for(var w=this._list,z=0;z<I;z++){var H=P[z],b=w.indexOf(H);b>-1&&(w.splice(b,1),this.clear(H,!0))}P.length=0,this._pendingRemoval.length=0,this._list=w.concat(O.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(P,O){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,P,O),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var I,B=this.manager,w=B.pointers,z=B.pointersTotal;for(I=0;I<z;I++)w[I].updateMotion();if(this._list.length===0)return!1;var H=this.pollRate;if(H===-1)return!1;if(H>0)if(this._pollTimer-=O,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var b=!1;for(I=0;I<z;I++){var Q=0,D=w[I];this._tempZones=[],this._temp=this.hitTestPointer(D),this.sortGameObjects(this._temp,D),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Q+=this.processOverOutEvents(D),this.getDragState(D)===2&&this.processDragThresholdEvent(D,P),Q>0&&(b=!0)}return b},update:function(P,O){if(!this.isActive())return!1;for(var I=O.length,B=!1,w=0;w<I;w++){var z=0,H=O[w];switch(this._tempZones=[],this._temp=this.hitTestPointer(H),this.sortGameObjects(this._temp,H),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),P){case a.MOUSE_DOWN:z+=this.processDragDownEvent(H),z+=this.processDownEvents(H),z+=this.processOverOutEvents(H);break;case a.MOUSE_UP:z+=this.processDragUpEvent(H),z+=this.processUpEvents(H),z+=this.processOverOutEvents(H);break;case a.TOUCH_START:z+=this.processDragDownEvent(H),z+=this.processDownEvents(H),z+=this.processOverEvents(H);break;case a.TOUCH_END:case a.TOUCH_CANCEL:z+=this.processDragUpEvent(H),z+=this.processUpEvents(H),z+=this.processOutEvents(H);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:z+=this.processDragMoveEvent(H),z+=this.processMoveEvents(H),z+=this.processOverOutEvents(H);break;case a.MOUSE_WHEEL:z+=this.processWheelEvent(H);break}z>0&&(B=!0)}return this._updatedThisFrame=!0,B},clear:function(P,O){O===void 0&&(O=!1);var I=P.input;if(!!I){O||this.queueForRemoval(P),I.gameObject=void 0,I.target=void 0,I.hitArea=void 0,I.hitAreaCallback=void 0,I.callbackContext=void 0,P.input=null;var B=this._draggable.indexOf(P);return B>-1&&this._draggable.splice(B,1),B=this._drag[0].indexOf(P),B>-1&&this._drag[0].splice(B,1),B=this._over[0].indexOf(P),B>-1&&(this._over[0].splice(B,1),this.manager.resetCursor(I)),P}},disable:function(P){P.input.enabled=!1},enable:function(P,O,I,B){return B===void 0&&(B=!1),P.input?P.input.enabled=!0:this.setHitArea(P,O,I),P.input&&B&&!P.input.dropZone&&(P.input.dropZone=B),this},hitTestPointer:function(P){for(var O=this.cameras.getCamerasBelowPointer(P),I=0;I<O.length;I++){for(var B=O[I],w=this.manager.hitTest(P,this._list,B),z=0;z<w.length;z++){var H=w[z];H.input.dropZone&&this._tempZones.push(H)}if(w.length>0)return P.camera=B,w}return P.camera=O[0],[]},processDownEvents:function(P){var O=0,I=this._temp,B=this._eventData,w=this._eventContainer;B.cancelled=!1;for(var z=!1,H=0;H<I.length;H++){var b=I[H];if(!!b.input){if(O++,b.emit(h.GAMEOBJECT_POINTER_DOWN,P,b.input.localX,b.input.localY,w),B.cancelled||!b.input){z=!0;break}if(this.emit(h.GAMEOBJECT_DOWN,P,b,w),B.cancelled||!b.input){z=!0;break}}}return!z&&this.manager&&(P.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,P,I):this.emit(h.POINTER_DOWN_OUTSIDE,P)),O},getDragState:function(P){return this._dragState[P.id]},setDragState:function(P,O){this._dragState[P.id]=O},processDragThresholdEvent:function(P,O){var I=!1,B=this.dragTimeThreshold,w=this.dragDistanceThreshold;if((w>0&&r(P.x,P.y,P.downX,P.downY)>=w||B>0&&O>=P.downTime+B)&&(I=!0),I)return this.setDragState(P,3),this.processDragStartList(P)},processDragStartList:function(P){if(this.getDragState(P)!==3)return 0;for(var O=this._drag[P.id],I=0;I<O.length;I++){var B=O[I],w=B.input;w.dragState=2,w.dragStartX=B.x,w.dragStartY=B.y,w.dragStartXGlobal=P.worldX,w.dragStartYGlobal=P.worldY,w.dragX=w.dragStartXGlobal-w.dragStartX,w.dragY=w.dragStartYGlobal-w.dragStartY,B.emit(h.GAMEOBJECT_DRAG_START,P,w.dragX,w.dragY),this.emit(h.DRAG_START,P,B)}return this.setDragState(P,4),O.length},processDragDownEvent:function(P){var O=this._temp;if(this._draggable.length===0||O.length===0||!P.primaryDown||this.getDragState(P)!==0)return 0;this.setDragState(P,1);for(var I=[],B=0;B<O.length;B++){var w=O[B];w.input.draggable&&w.input.dragState===0&&I.push(w)}return I.length===0?(this.setDragState(P,0),0):(I.length>1&&(this.sortGameObjects(I,P),this.topOnly&&I.splice(1)),this._drag[P.id]=I,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(P,3),this.processDragStartList(P)):(this.setDragState(P,2),0))},processDragMoveEvent:function(P){if(this.getDragState(P)===2&&this.processDragThresholdEvent(P,this.manager.game.loop.now),this.getDragState(P)!==4)return 0;for(var O=this._tempZones,I=this._drag[P.id],B=0;B<I.length;B++){var w=I[B],z=w.input,H=z.target;if(H){var b=O.indexOf(H);b===0?(w.emit(h.GAMEOBJECT_DRAG_OVER,P,H),this.emit(h.DRAG_OVER,P,w,H)):b>0?(w.emit(h.GAMEOBJECT_DRAG_LEAVE,P,H),this.emit(h.DRAG_LEAVE,P,w,H),z.target=O[0],H=z.target,w.emit(h.GAMEOBJECT_DRAG_ENTER,P,H),this.emit(h.DRAG_ENTER,P,w,H)):(w.emit(h.GAMEOBJECT_DRAG_LEAVE,P,H),this.emit(h.DRAG_LEAVE,P,w,H),O[0]?(z.target=O[0],H=z.target,w.emit(h.GAMEOBJECT_DRAG_ENTER,P,H),this.emit(h.DRAG_ENTER,P,w,H)):z.target=null)}else!H&&O[0]&&(z.target=O[0],H=z.target,w.emit(h.GAMEOBJECT_DRAG_ENTER,P,H),this.emit(h.DRAG_ENTER,P,w,H));var Q,D;if(!w.parentContainer)Q=P.worldX-z.dragX,D=P.worldY-z.dragY;else{var F=P.worldX-z.dragStartXGlobal,G=P.worldY-z.dragStartYGlobal,N=w.getParentRotation(),X=F*Math.cos(N)+G*Math.sin(N),V=G*Math.cos(N)-F*Math.sin(N);X*=1/w.parentContainer.scaleX,V*=1/w.parentContainer.scaleY,Q=X+z.dragStartX,D=V+z.dragStartY}w.emit(h.GAMEOBJECT_DRAG,P,Q,D),this.emit(h.DRAG,P,w,Q,D)}return I.length},processDragUpEvent:function(P){for(var O=this._drag[P.id],I=0;I<O.length;I++){var B=O[I],w=B.input;if(w&&w.dragState===2){w.dragState=0,w.dragX=w.localX-B.displayOriginX,w.dragY=w.localY-B.displayOriginY;var z=!1,H=w.target;H&&(B.emit(h.GAMEOBJECT_DROP,P,H),this.emit(h.DROP,P,B,H),w.target=null,z=!0),B.input&&(B.emit(h.GAMEOBJECT_DRAG_END,P,w.dragX,w.dragY,z),this.emit(h.DRAG_END,P,B,z))}}return this.setDragState(P,0),O.splice(0),0},processMoveEvents:function(P){var O=0,I=this._temp,B=this._eventData,w=this._eventContainer;B.cancelled=!1;for(var z=!1,H=0;H<I.length;H++){var b=I[H];if(!!b.input){if(O++,b.emit(h.GAMEOBJECT_POINTER_MOVE,P,b.input.localX,b.input.localY,w),B.cancelled||!b.input){z=!0;break}if(this.emit(h.GAMEOBJECT_MOVE,P,b,w),B.cancelled||!b.input){z=!0;break}if(this.topOnly)break}}return z||this.emit(h.POINTER_MOVE,P,I),O},processWheelEvent:function(P){var O=0,I=this._temp,B=this._eventData,w=this._eventContainer;B.cancelled=!1;for(var z=!1,H=P.deltaX,b=P.deltaY,Q=P.deltaZ,D=0;D<I.length;D++){var F=I[D];if(!!F.input){if(O++,F.emit(h.GAMEOBJECT_POINTER_WHEEL,P,H,b,Q,w),B.cancelled||!F.input){z=!0;break}if(this.emit(h.GAMEOBJECT_WHEEL,P,F,H,b,Q,w),B.cancelled||!F.input){z=!0;break}}}return z||this.emit(h.POINTER_WHEEL,P,I,H,b,Q),O},processOverEvents:function(P){var O=this._temp,I=0,B=O.length,w=[];if(B>0){var z=this.manager,H=this._eventData,b=this._eventContainer;H.cancelled=!1;for(var Q=!1,D=0;D<B;D++){var F=O[D];if(!!F.input){if(w.push(F),z.setCursor(F.input),F.emit(h.GAMEOBJECT_POINTER_OVER,P,F.input.localX,F.input.localY,b),I++,H.cancelled||!F.input){Q=!0;break}if(this.emit(h.GAMEOBJECT_OVER,P,F,b),H.cancelled||!F.input){Q=!0;break}}}Q||this.emit(h.POINTER_OVER,P,w)}return this._over[P.id]=w,I},processOutEvents:function(P){var O=this._over[P.id],I=0,B=O.length;if(B>0){var w=this.manager,z=this._eventData,H=this._eventContainer;z.cancelled=!1;var b=!1;this.sortGameObjects(O,P);for(var Q=0;Q<B;Q++){var D=O[Q];if(D=O[Q],!!D.input){if(w.resetCursor(D.input),D.emit(h.GAMEOBJECT_POINTER_OUT,P,H),I++,z.cancelled||!D.input){b=!0;break}if(this.emit(h.GAMEOBJECT_OUT,P,D,H),z.cancelled||!D.input){b=!0;break}b||this.emit(h.POINTER_OUT,P,O)}}this._over[P.id]=[]}return I},processOverOutEvents:function(P){var O=this._temp,I,B,w=[],z=[],H=[],b=this._over[P.id],Q=this._drag[P.id],D=this.manager;for(I=0;I<b.length;I++)B=b[I],O.indexOf(B)===-1&&Q.indexOf(B)===-1?w.push(B):H.push(B);for(I=0;I<O.length;I++)B=O[I],b.indexOf(B)===-1&&z.push(B);var F=w.length,G=0,N=this._eventData,X=this._eventContainer;N.cancelled=!1;var V=!1;if(F>0){for(this.sortGameObjects(w,P),I=0;I<F;I++)if(B=w[I],!!B.input){if(D.resetCursor(B.input),B.emit(h.GAMEOBJECT_POINTER_OUT,P,X),G++,N.cancelled||!B.input){V=!0;break}if(this.emit(h.GAMEOBJECT_OUT,P,B,X),N.cancelled||!B.input){V=!0;break}}V||this.emit(h.POINTER_OUT,P,w)}if(F=z.length,N.cancelled=!1,V=!1,F>0){for(this.sortGameObjects(z,P),I=0;I<F;I++)if(B=z[I],!!B.input){if(D.setCursor(B.input),B.emit(h.GAMEOBJECT_POINTER_OVER,P,B.input.localX,B.input.localY,X),G++,N.cancelled||!B.input){V=!0;break}if(this.emit(h.GAMEOBJECT_OVER,P,B,X),N.cancelled||!B.input){V=!0;break}}V||this.emit(h.POINTER_OVER,P,z)}return b=H.concat(z),this._over[P.id]=this.sortGameObjects(b,P),G},processUpEvents:function(P){var O=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var w=!1,z=0;z<O.length;z++){var H=O[z];if(!!H.input){if(H.emit(h.GAMEOBJECT_POINTER_UP,P,H.input.localX,H.input.localY,B),I.cancelled||!H.input){w=!0;break}if(this.emit(h.GAMEOBJECT_UP,P,H,B),I.cancelled||!H.input){w=!0;break}}}return!w&&this.manager&&(P.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,P,O):this.emit(h.POINTER_UP_OUTSIDE,P)),O.length},queueForInsertion:function(P){return this._pendingInsertion.indexOf(P)===-1&&this._list.indexOf(P)===-1&&this._pendingInsertion.push(P),this},queueForRemoval:function(P){return this._pendingRemoval.push(P),this},setDraggable:function(P,O){O===void 0&&(O=!0),Array.isArray(P)||(P=[P]);for(var I=0;I<P.length;I++){var B=P[I];B.input.draggable=O;var w=this._draggable.indexOf(B);O&&w===-1?this._draggable.push(B):!O&&w>-1&&this._draggable.splice(w,1)}return this},makePixelPerfect:function(P){P===void 0&&(P=1);var O=this.systems.textures;return i(O,P)},setHitArea:function(P,O,I){if(O===void 0)return this.setHitAreaFromTexture(P);Array.isArray(P)||(P=[P]);var B=!1,w=!1,z=!1,H=!1,b=!1,Q=!0;if(g(O)){var D=O;O=v(D,"hitArea",null),I=v(D,"hitAreaCallback",null),B=v(D,"draggable",!1),w=v(D,"dropZone",!1),z=v(D,"cursor",!1),H=v(D,"useHandCursor",!1),b=v(D,"pixelPerfect",!1);var F=v(D,"alphaTolerance",1);b&&(O={},I=this.makePixelPerfect(F)),(!O||!I)&&(this.setHitAreaFromTexture(P),Q=!1)}else typeof O=="function"&&!I&&(I=O,O={});for(var G=0;G<P.length;G++){var N=P[G];if(b&&N.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var X=N.input?N.input:s(N,O,I);X.customHitArea=Q,X.dropZone=w,X.cursor=H?"pointer":z,N.input=X,B&&this.setDraggable(N),this.queueForInsertion(N)}return this},setHitAreaCircle:function(P,O,I,B,w){w===void 0&&(w=d);var z=new e(O,I,B);return this.setHitArea(P,z,w)},setHitAreaEllipse:function(P,O,I,B,w,z){z===void 0&&(z=n);var H=new l(O,I,B,w);return this.setHitArea(P,H,z)},setHitAreaFromTexture:function(P,O){O===void 0&&(O=y),Array.isArray(P)||(P=[P]);for(var I=0;I<P.length;I++){var B=P[I],w=B.frame,z=0,H=0;if(B.width?(z=B.width,H=B.height):w&&(z=w.realWidth,H=w.realHeight),B.type==="Container"&&(z===0||H===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}z!==0&&H!==0&&(B.input=s(B,new x(0,0,z,H),O),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(P,O,I,B,w,z){z===void 0&&(z=y);var H=new x(O,I,B,w);return this.setHitArea(P,H,z)},setHitAreaTriangle:function(P,O,I,B,w,z,H,b){b===void 0&&(b=R);var Q=new E(O,I,B,w,z,H);return this.setHitArea(P,Q,b)},enableDebug:function(P,O){O===void 0&&(O=65280);var I=P.input;if(!I||!I.hitArea)return this;var B=I.hitArea,w=B.type,z=I.hitAreaDebug,H=this.systems.add,b=this.systems.updateList;z&&(b.remove(z),z.destroy(),z=null);var Q=0,D=0;switch(w){case f.CIRCLE:z=H.arc(0,0,B.radius),Q=B.x-B.radius,D=B.y-B.radius;break;case f.ELLIPSE:z=H.ellipse(0,0,B.width,B.height),Q=B.x-B.width/2,D=B.y-B.height/2;break;case f.LINE:z=H.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case f.POLYGON:z=H.polygon(0,0,B.points);break;case f.RECTANGLE:z=H.rectangle(0,0,B.width,B.height),Q=B.x,D=B.y;break;case f.TRIANGLE:z=H.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return z&&(z.isFilled=!1,z.preUpdate=function(){z.setStrokeStyle(1/P.scale,O),z.setDisplayOrigin(P.displayOriginX,P.displayOriginY);var F=P.x,G=P.y,N=P.rotation,X=P.scaleX,V=P.scaleY;if(P.parentContainer){var W=P.getWorldTransformMatrix();F=W.tx,G=W.ty,N=W.rotation,X=W.scaleX,V=W.scaleY}z.setRotation(N),z.setScale(X,V),z.setPosition(F+Q,G+D),z.setScrollFactor(P.scrollFactorX,P.scrollFactorY),z.setDepth(P.depth)},b.add(z),I.hitAreaDebug=z),this},removeDebug:function(P){var O=P.input;if(O&&O.hitAreaDebug){var I=O.hitAreaDebug;this.systems.updateList.remove(I),I.destroy(),O.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(P){return this.pollRate=P,this._pollTimer=0,this},setGlobalTopOnly:function(P){return this.manager.globalTopOnly=P,this},setTopOnly:function(P){return this.topOnly=P,this},sortGameObjects:function(P,O){if(P.length<2)return P;var I=O.camera.renderList;return P.sort(function(B,w){return I.indexOf(w)-I.indexOf(B)})},sortDropZones:function(P){return P.length<2?P:(this.scene.sys.depthSort(),P.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(P,O){if(!P.parentContainer&&!O.parentContainer)return this.displayList.getIndex(O)-this.displayList.getIndex(P);if(P.parentContainer===O.parentContainer)return O.parentContainer.getIndex(O)-P.parentContainer.getIndex(P);if(P.parentContainer===O)return-1;if(O.parentContainer===P)return 1;for(var I=P.getIndexList(),B=O.getIndexList(),w=Math.min(I.length,B.length),z=0;z<w;z++){var H=I[z],b=B[z];if(H!==b)return b-H}return B.length-I.length;return 0},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(P){return this.manager.addPointer(P)},setDefaultCursor:function(P){return this.manager.setDefaultCursor(P),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var P=0;P<10;P++)this._drag[P]=[],this._over[P]=[];this.removeAllListeners();var O=this.manager;O.canvas.style.cursor=O.defaultCursor;var I=this.systems.events;I.off(T.TRANSITION_START,this.transitionIn,this),I.off(T.TRANSITION_OUT,this.transitionOut,this),I.off(T.TRANSITION_COMPLETE,this.transitionComplete,this),I.off(T.PRE_UPDATE,this.preUpdate,this),O.events.off(h.GAME_OUT,this.onGameOut,this),O.events.off(h.GAME_OVER,this.onGameOver,this),I.off(T.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(T.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});m.register("InputPlugin",M,"input"),p.exports=M},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(154),KeyboardManager:t(410),KeyboardPlugin:t(1330),Key:t(512),KeyCodes:t(143),KeyCombo:t(513),AdvanceKeyCombo:t(515),ProcessKeyCombo:t(514),ResetKeyCombo:t(516),JustDown:t(1332),JustUp:t(1333),DownDuration:t(1334),UpDuration:t(1335)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keycombomatch"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="down"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keydown-"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="keyup-"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="up"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(9),o=t(154),a=t(22),s=t(6),i=t(51),r=t(153),l=t(512),n=t(143),h=t(513),u=t(1331),v=t(20),f=t(76),c=new e({Extends:d,initialize:function(m){d.call(this),this.game=m.systems.game,this.scene=m.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=m,this.manager=m.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,m.pluginEvents.once(i.BOOT,this.boot,this),m.pluginEvents.on(i.START,this.start,this)},boot:function(){var g=this.settings.input;this.enabled=s(g,"keyboard",!0);var m=s(g,"keyboard.capture",null);m&&this.addCaptures(m),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(i.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(v.PAUSE,this.resetKeys,this),this.scene.sys.events.on(v.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(g){return this.manager.addCapture(g),this},removeCapture:function(g){return this.manager.removeCapture(g),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:n.UP,down:n.DOWN,left:n.LEFT,right:n.RIGHT,space:n.SPACE,shift:n.SHIFT})},addKeys:function(g,m,x){m===void 0&&(m=!0),x===void 0&&(x=!1);var y={};if(typeof g=="string"){g=g.split(",");for(var T=0;T<g.length;T++){var E=g[T].trim();E&&(y[E]=this.addKey(E,m,x))}}else for(var R in g)y[R]=this.addKey(g[R],m,x);return y},addKey:function(g,m,x){m===void 0&&(m=!0),x===void 0&&(x=!1);var y=this.keys;if(g instanceof l){var T=y.indexOf(g);return T>-1?y[T]=g:y[g.keyCode]=g,m&&this.addCapture(g.keyCode),g.setEmitOnRepeat(x),g}return typeof g=="string"&&(g=n[g.toUpperCase()]),y[g]||(y[g]=new l(this,g),m&&this.addCapture(g),y[g].setEmitOnRepeat(x)),y[g]},removeKey:function(g,m){m===void 0&&(m=!1);var x=this.keys,y;if(g instanceof l){var T=x.indexOf(g);T>-1&&(y=this.keys[T],this.keys[T]=void 0)}else typeof g=="string"&&(g=n[g.toUpperCase()]);return x[g]&&(y=x[g],x[g]=void 0),y&&(y.plugin=null,m&&y.destroy()),this},removeAllKeys:function(g){for(var m=this.keys,x=0;x<m.length;x++){var y=m[x];y&&(m[x]=void 0,g&&y.destroy())}return this},createCombo:function(g,m){return new h(this,g,m)},checkDown:function(g,m){if(m===void 0&&(m=0),this.enabled&&g.isDown){var x=f(this.time-g.timeDown,m);if(x>g._tick)return g._tick=x,!0}return!1},update:function(){var g=this.manager.queue,m=g.length;if(!(!this.isActive()||m===0))for(var x=this.keys,y=0;y<m;y++){var T=g[y],E=T.keyCode,R=x[E],M=!1;T.cancelled===void 0&&(T.cancelled=0,T.stopImmediatePropagation=function(){T.cancelled=1},T.stopPropagation=function(){T.cancelled=-1}),T.cancelled!==-1&&(E===this.prevCode&&T.timeStamp===this.prevTime&&T.type===this.prevType||(this.prevCode=E,this.prevTime=T.timeStamp,this.prevType=T.type,T.type==="keydown"?(R&&(M=R.isDown,R.onDown(T)),!T.cancelled&&(!R||!M)&&(u[E]&&this.emit(o.KEY_DOWN+u[E],T),T.cancelled||this.emit(o.ANY_KEY_DOWN,T))):(R&&R.onUp(T),T.cancelled||(u[E]&&this.emit(o.KEY_UP+u[E],T),T.cancelled||this.emit(o.ANY_KEY_UP,T))),T.cancelled===1&&(T.cancelled=0)))}},resetKeys:function(){for(var g=this.keys,m=0;m<g.length;m++)g[m]&&g[m].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(i.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(v.PAUSE,this.resetKeys,this),this.scene.sys.events.off(v.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var g=this.keys,m=0;m<g.length;m++)g[m]&&g[m].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});r.register("KeyboardPlugin",c,"keyboard","keyboard","inputKeyboard"),p.exports=c},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(143),d={};for(var o in e)d[e[o]]=o;p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justDown?(e._justDown=!1,!0):!1};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justUp?(e._justUp=!1,!0):!1};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d===void 0&&(d=50);var o=e.plugin.game.loop.time-e.timeDown;return e.isDown&&o<d};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){d===void 0&&(d=50);var o=e.plugin.game.loop.time-e.timeUp;return e.isUp&&o<d};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={MouseManager:t(411)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={TouchManager:t(413)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(21),d=t(17),o={Events:t(95),FileTypes:t(1339),File:t(23),FileTypesManager:t(8),GetURL:t(155),LoaderPlugin:t(1365),MergeXHRSettings:t(240),MultiFile:t(49),XHRLoader:t(517),XHRSettings:t(156)};o=d(!1,o,e),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AnimationJSONFile:t(1340),AsepriteFile:t(1341),AtlasJSONFile:t(1342),AtlasXMLFile:t(1343),AudioFile:t(518),AudioSpriteFile:t(1344),BinaryFile:t(1345),BitmapFontFile:t(1346),CSSFile:t(1347),GLSLFile:t(1348),HTML5AudioFile:t(519),HTMLFile:t(1349),HTMLTextureFile:t(1350),ImageFile:t(71),JSONFile:t(61),MultiAtlasFile:t(1351),MultiScriptFile:t(1352),OBJFile:t(1353),PackFile:t(1354),PluginFile:t(1355),SceneFile:t(1356),ScenePluginFile:t(1357),ScriptFile:t(520),SpriteSheetFile:t(1358),SVGFile:t(1359),TextFile:t(242),TilemapCSVFile:t(1360),TilemapImpactFile:t(1361),TilemapJSONFile:t(1362),UnityAtlasFile:t(1363),VideoFile:t(1364),XMLFile:t(241)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(61),a=t(95),s=new e({Extends:o,initialize:function(r,l,n,h,u){o.call(this,r,l,n,h,u),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),o.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});d.register("animation",function(i,r,l,n){if(Array.isArray(i))for(var h=0;h<i.length;h++)this.addFile(new s(this,i[h]));else this.addFile(new s(this,i,r,n,l));return this}),p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(2),a=t(71),s=t(7),i=t(61),r=t(49),l=new e({Extends:r,initialize:function(h,u,v,f,c,g){var m,x;if(s(u)){var y=u;u=o(y,"key"),m=new a(h,{key:u,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),x=new i(h,{key:u,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","json"),xhrSettings:o(y,"atlasXhrSettings")})}else m=new a(h,u,v,c),x=new i(h,u,f,g);m.linkFile?r.call(this,h,"atlasjson",u,[m,x,m.linkFile]):r.call(this,h,"atlasjson",u,[m,x])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,h.data,u),h.addToCache(),this.complete=!0}}});d.register("aseprite",function(n,h,u,v,f){var c;if(Array.isArray(n))for(var g=0;g<n.length;g++)c=new l(this,n[g]),this.addFile(c.files);else c=new l(this,n,h,u,v,f),this.addFile(c.files);return this}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(2),a=t(71),s=t(7),i=t(61),r=t(49),l=new e({Extends:r,initialize:function(h,u,v,f,c,g){var m,x;if(s(u)){var y=u;u=o(y,"key"),m=new a(h,{key:u,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),x=new i(h,{key:u,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","json"),xhrSettings:o(y,"atlasXhrSettings")})}else m=new a(h,u,v,c),x=new i(h,u,f,g);m.linkFile?r.call(this,h,"atlasjson",u,[m,x,m.linkFile]):r.call(this,h,"atlasjson",u,[m,x])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(n.key,n.data,h.data,u),h.pendingDestroy(),this.complete=!0}}});d.register("atlas",function(n,h,u,v,f){var c;if(Array.isArray(n))for(var g=0;g<n.length;g++)c=new l(this,n[g]),this.addFile(c.files);else c=new l(this,n,h,u,v,f),this.addFile(c.files);return this}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(2),a=t(71),s=t(7),i=t(49),r=t(241),l=new e({Extends:i,initialize:function(h,u,v,f,c,g){var m,x;if(s(u)){var y=u;u=o(y,"key"),m=new a(h,{key:u,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),x=new r(h,{key:u,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","xml"),xhrSettings:o(y,"atlasXhrSettings")})}else m=new a(h,u,v,c),x=new r(h,u,f,g);m.linkFile?i.call(this,h,"atlasxml",u,[m,x,m.linkFile]):i.call(this,h,"atlasxml",u,[m,x])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(n.key,n.data,h.data,u),h.pendingDestroy(),this.complete=!0}}});d.register("atlasXML",function(n,h,u,v,f){var c;if(Array.isArray(n))for(var g=0;g<n.length;g++)c=new l(this,n[g]),this.addFile(c.files);else c=new l(this,n,h,u,v,f),this.addFile(c.files);return this}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(518),d=t(0),o=t(8),a=t(2),s=t(7),i=t(61),r=t(49),l=new d({Extends:r,initialize:function(h,u,v,f,c,g,m){if(s(u)){var x=u;u=a(x,"key"),v=a(x,"jsonURL"),f=a(x,"audioURL"),c=a(x,"audioConfig"),g=a(x,"audioXhrSettings"),m=a(x,"jsonXhrSettings")}var y;if(!f)y=new i(h,u,v,m),r.call(this,h,"audiosprite",u,[y]),this.config.resourceLoad=!0,this.config.audioConfig=c,this.config.audioXhrSettings=g;else{var T=e.create(h,u,f,c,g);T&&(y=new i(h,u,v,m),r.call(this,h,"audiosprite",u,[T,y]),this.config.resourceLoad=!1)}},onFileComplete:function(n){var h=this.files.indexOf(n);if(h!==-1&&(this.pending--,this.config.resourceLoad&&n.type==="json"&&n.data.hasOwnProperty("resources"))){var u=n.data.resources,v=a(this.config,"audioConfig"),f=a(this.config,"audioXhrSettings"),c=e.create(this.loader,n.key,u,v,f);c&&(this.addToMultiFile(c),this.loader.addFile(c))}},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],h=this.files[1];n.addToCache(),h.addToCache(),this.complete=!0}}});o.register("audioSprite",function(n,h,u,v,f,c){var g=this.systems.game,m=g.config.audio,x=g.device.audio;if(m&&m.noAudio||!x.webAudio&&!x.audioData)return this;var y;if(Array.isArray(n))for(var T=0;T<n.length;T++)y=new l(this,n[T]),y.files&&this.addFile(y.files);else y=new l(this,n,h,u,v,f,c),y.files&&this.addFile(y.files);return this})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v,f){var c="bin";if(i(h)){var g=h;h=s(g,"key"),u=s(g,"url"),v=s(g,"xhrSettings"),c=s(g,"extension",c),f=s(g,"dataType",f)}var m={type:"binary",cache:n.cacheManager.binary,extension:c,responseType:"arraybuffer",key:h,url:u,xhrSettings:v,config:{dataType:f}};o.call(this,n,m)},onProcess:function(){this.state=d.FILE_PROCESSING;var l=this.config.dataType;this.data=l?new l(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(l,n,h,u){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new r(this,l[v]));else this.addFile(new r(this,l,n,u,h));return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(2),a=t(71),s=t(7),i=t(49),r=t(212),l=t(241),n=new e({Extends:i,initialize:function(u,v,f,c,g,m){var x,y;if(s(v)){var T=v;v=o(T,"key"),x=new a(u,{key:v,url:o(T,"textureURL"),extension:o(T,"textureExtension","png"),normalMap:o(T,"normalMap"),xhrSettings:o(T,"textureXhrSettings")}),y=new l(u,{key:v,url:o(T,"fontDataURL"),extension:o(T,"fontDataExtension","xml"),xhrSettings:o(T,"fontDataXhrSettings")})}else x=new a(u,v,f,g),y=new l(u,v,c,m);x.linkFile?i.call(this,u,"bitmapfont",v,[x,y,x.linkFile]):i.call(this,u,"bitmapfont",v,[x,y])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],u=this.files[1];h.addToCache(),u.pendingDestroy();var v=h.cache.get(h.key),f=r(u.data,h.cache.getFrame(h.key),0,0,v);this.loader.cacheManager.bitmapFont.add(h.key,{data:f,texture:h.key,frame:null}),this.complete=!0}}});d.register("bitmapFont",function(h,u,v,f,c){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new n(this,h[m]),this.addFile(g.files);else g=new n(this,h,u,v,f,c),this.addFile(g.files);return this}),p.exports=n},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v){var f="css";if(i(h)){var c=h;h=s(c,"key"),u=s(c,"url"),v=s(c,"xhrSettings"),f=s(c,"extension",f)}var g={type:"script",cache:!1,extension:f,responseType:"text",key:h,url:u,xhrSettings:v};o.call(this,n,g)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(l,n,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,n,h));return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=t(396),l=new e({Extends:o,initialize:function(h,u,v,f,c){var g="glsl";if(i(u)){var m=u;u=s(m,"key"),v=s(m,"url"),f=s(m,"shaderType","fragment"),c=s(m,"xhrSettings"),g=s(m,"extension",g)}else f===void 0&&(f="fragment");var x={type:"glsl",cache:h.cacheManager.shader,extension:g,responseType:"text",key:u,url:v,config:{shaderType:f},xhrSettings:c};o.call(this,h,x)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n=this.data.split(`
`),h=this.extractBlock(n,0);if(h)for(;h;){var u=this.getShaderName(h.header),v=this.getShaderType(h.header),f=this.getShaderUniforms(h.header),c=h.shader;if(this.cache.has(u)){var g=this.cache.get(u);v==="fragment"?g.fragmentSrc=c:g.vertexSrc=c,g.uniforms||(g.uniforms=f)}else v==="fragment"?this.cache.add(u,new r(u,c,"",f)):this.cache.add(u,new r(u,"",c,f));h=this.extractBlock(n,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new r(this.key,this.data)):this.cache.add(this.key,new r(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(n){for(var h=0;h<n.length;h++){var u=n[h].trim();if(u.substring(0,5)==="name:")return u.substring(5).trim()}return this.key},getShaderType:function(n){for(var h=0;h<n.length;h++){var u=n[h].trim();if(u.substring(0,5)==="type:")return u.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(n){for(var h={},u=0;u<n.length;u++){var v=n[u].trim();if(v.substring(0,8)==="uniform."){var f=v.indexOf(":");if(f){var c=v.substring(8,f);try{h[c]=JSON.parse(v.substring(f+1))}catch(g){console.warn("Invalid uniform JSON: "+c)}}}}return h},extractBlock:function(n,h){for(var u=-1,v=-1,f=-1,c=!1,g=!1,m=[],x=[],y=h;y<n.length;y++){var T=n[y].trim();if(T==="---")if(u===-1)u=y,c=!0;else if(c)v=y,c=!1,g=!0;else{g=!1;break}else c?m.push(T):g&&(x.push(T),f=y)}return!c&&v!==-1?{header:m,shader:x.join(`
`),offset:f}:null}});a.register("glsl",function(n,h,u,v){if(Array.isArray(n))for(var f=0;f<n.length;f++)this.addFile(new l(this,n[f]));else this.addFile(new l(this,n,h,u,v));return this}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v){var f="html";if(i(h)){var c=h;h=s(c,"key"),u=s(c,"url"),v=s(c,"xhrSettings"),f=s(c,"extension",f)}var g={type:"text",cache:n.cacheManager.html,extension:f,responseType:"text",key:h,url:u,xhrSettings:v};o.call(this,n,g)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(l,n,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,n,h));return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v,f,c){v===void 0&&(v=512),f===void 0&&(f=512);var g="html";if(i(h)){var m=h;h=s(m,"key"),u=s(m,"url"),c=s(m,"xhrSettings"),g=s(m,"extension",g),v=s(m,"width",v),f=s(m,"height",f)}var x={type:"html",cache:n.textureManager,extension:g,responseType:"text",key:h,url:u,xhrSettings:c,config:{width:v,height:f}};o.call(this,n,x)},onProcess:function(){this.state=d.FILE_PROCESSING;var l=this.config.width,n=this.config.height,h=[];h.push('<svg width="'+l+'px" height="'+n+'px" viewBox="0 0 '+l+" "+n+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var u=[h.join(`
`)],v=this;try{var f=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch(c){v.state=d.FILE_ERRORED,v.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){o.revokeObjectURL(v.data),v.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(v.data),v.onProcessError()},o.createObjectURL(this.data,f,"image/svg+xml")},addToCache:function(){var l=this.cache.addImage(this.key,this.data);this.pendingDestroy(l)}});a.register("htmlTexture",function(l,n,h,u,v){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,n,h,u,v));return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(2),a=t(71),s=t(7),i=t(61),r=t(49),l=new e({Extends:r,initialize:function(h,u,v,f,c,g,m){if(s(u)){var x=u;u=o(x,"key"),o(x,"url",!1)?v=o(x,"url"):v=o(x,"atlasURL"),g=o(x,"xhrSettings"),f=o(x,"path"),c=o(x,"baseURL"),m=o(x,"textureXhrSettings")}var y=new i(h,u,v,g);r.call(this,h,"multiatlas",u,[y]),this.config.path=f,this.config.baseURL=c,this.config.textureXhrSettings=m},onFileComplete:function(n){var h=this.files.indexOf(n);if(h!==-1&&(this.pending--,n.type==="json"&&n.data.hasOwnProperty("textures"))){var u=n.data.textures,v=this.config,f=this.loader,c=f.baseURL,g=f.path,m=f.prefix,x=o(v,"baseURL",this.baseURL),y=o(v,"path",this.path),T=o(v,"prefix",this.prefix),E=o(v,"textureXhrSettings");f.setBaseURL(x),f.setPath(y),f.setPrefix(T);for(var R=0;R<u.length;R++){var M=u[R].image,P="MA"+this.multiKeyIndex+"_"+M,O=new a(f,P,M,E);if(this.addToMultiFile(O),f.addFile(O),u[R].normalMap){var I=new a(f,P,u[R].normalMap,E);I.type="normalMap",O.setLink(I),this.addToMultiFile(I),f.addFile(I)}}f.setBaseURL(c),f.setPath(g),f.setPrefix(m)}},addToCache:function(){if(this.isReadyToProcess()){for(var n=this.files[0],h=[],u=[],v=[],f=1;f<this.files.length;f++){var c=this.files[f];if(c.type!=="normalMap")for(var g=c.key.indexOf("_"),m=c.key.substr(g+1),x=c.data,y=0;y<n.data.textures.length;y++){var T=n.data.textures[y];if(T.image===m){u.push(x),h.push(T),c.linkFile&&v.push(c.linkFile.data);break}}}for(v.length===0&&(v=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,u,h,v),this.complete=!0,f=0;f<this.files.length;f++)this.files[f].pendingDestroy()}}});d.register("multiatlas",function(n,h,u,v,f){var c;if(Array.isArray(n))for(var g=0;g<n.length;g++)c=new l(this,n[g]),this.addFile(c.files);else c=new l(this,n,h,u,v,f),this.addFile(c.files);return this}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(2),a=t(7),s=t(49),i=t(520),r=new e({Extends:s,initialize:function(n,h,u,v){var f="js",c=[];if(a(h)){var g=h;h=o(g,"key"),u=o(g,"url"),v=o(g,"xhrSettings"),f=o(g,"extension",f)}Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++){var x=new i(n,{key:h+"_"+m.toString(),url:u[m],extension:f,xhrSettings:v});x.onProcess=function(){this.onProcessComplete()},c.push(x)}s.call(this,n,"scripts",h,c)},addToCache:function(){if(this.isReadyToProcess()){for(var l=0;l<this.files.length;l++){var n=this.files[l];n.data=document.createElement("script"),n.data.language="javascript",n.data.type="text/javascript",n.data.defer=!1,n.data.text=n.xhrLoader.responseText,document.head.appendChild(n.data)}this.complete=!0}}});d.register("scripts",function(l,n,h){var u;if(Array.isArray(l))for(var v=0;v<l.length;v++)u=new r(this,l[v]),this.addFile(u.files);else u=new r(this,l,n,h),this.addFile(u.files);return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(2),a=t(7),s=t(49),i=t(498),r=t(499),l=t(242),n=new e({Extends:s,initialize:function(u,v,f,c,g,m){var x,y,T=u.cacheManager.obj;if(a(v)){var E=v;v=o(E,"key"),x=new l(u,{key:v,type:"obj",cache:T,url:o(E,"url"),extension:o(E,"extension","obj"),xhrSettings:o(E,"xhrSettings"),config:{flipUV:o(E,"flipUV",g)}}),c=o(E,"matURL"),c&&(y=new l(u,{key:v,type:"mat",cache:T,url:c,extension:o(E,"matExtension","mat"),xhrSettings:o(E,"xhrSettings")}))}else x=new l(u,{key:v,url:f,type:"obj",cache:T,extension:"obj",xhrSettings:m,config:{flipUV:g}}),c&&(y=new l(u,{key:v,url:c,type:"mat",cache:T,extension:"mat",xhrSettings:m}));s.call(this,u,"obj",v,[x,y])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],u=this.files[1],v=i(h.data,h.config.flipUV);u&&(v.materials=r(u.data)),h.cache.add(h.key,v),this.complete=!0}}});d.register("obj",function(h,u,v,f,c){var g;if(Array.isArray(h))for(var m=0;m<h.length;m++)g=new n(this,h[m]),this.addFile(g.files);else g=new n(this,h,u,v,f,c),this.addFile(g.files);return this}),p.exports=n},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(8),a=t(61),s=new e({Extends:a,initialize:function(r,l,n,h,u){a.call(this,r,l,n,h,u),this.type="packfile"},onProcess:function(){this.state!==d.FILE_POPULATED&&(this.state=d.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});o.register("pack",function(i,r,l,n){if(Array.isArray(i))for(var h=0;h<i.length;h++)this.addFile(new s(this,i[h]));else this.addFile(new s(this,i,r,n,l));return this}),p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v,f,c){var g="js";if(i(h)){var m=h;h=s(m,"key"),u=s(m,"url"),c=s(m,"xhrSettings"),g=s(m,"extension",g),v=s(m,"start"),f=s(m,"mapping")}var x={type:"plugin",cache:!1,extension:g,responseType:"text",key:h,url:u,xhrSettings:c,config:{start:v,mapping:f}};o.call(this,n,x),typeof u=="function"&&(this.data=u,this.state=d.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,n=this.config,h=s(n,"start",!1),u=s(n,"mapping",null);if(this.state===d.FILE_POPULATED)l.install(this.key,this.data,h,u);else{this.state=d.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var v=l.install(this.key,window[this.key],h,u);(h||u)&&(this.loader.systems[u]=v,this.loader.scene[u]=v)}this.onProcessComplete()}});a.register("plugin",function(l,n,h,u,v){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,n,h,u,v));return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v){var f="js";if(i(h)){var c=h;h=s(c,"key"),u=s(c,"url"),v=s(c,"xhrSettings"),f=s(c,"extension",f)}var g={type:"text",extension:f,responseType:"text",key:h,url:u,xhrSettings:v};o.call(this,n,g)},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),n=eval;this.loader.sceneManager.add(this.key,n(l)),this.complete=!0}});a.register("sceneFile",function(l,n,h){if(Array.isArray(l))for(var u=0;u<l.length;u++)this.addFile(new r(this,l[u]));else this.addFile(new r(this,l,n,h));return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v,f,c){var g="js";if(i(h)){var m=h;h=s(m,"key"),u=s(m,"url"),c=s(m,"xhrSettings"),g=s(m,"extension",g),v=s(m,"systemKey"),f=s(m,"sceneKey")}var x={type:"scenePlugin",cache:!1,extension:g,responseType:"text",key:h,url:u,xhrSettings:c,config:{systemKey:v,sceneKey:f}};o.call(this,n,x),typeof u=="function"&&(this.data=u,this.state=d.FILE_POPULATED)},onProcess:function(){var l=this.loader.systems.plugins,n=this.config,h=this.key,u=s(n,"systemKey",h),v=s(n,"sceneKey",h);this.state===d.FILE_POPULATED?l.installScenePlugin(u,this.data,v,this.loader.scene,!0):(this.state=d.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),l.installScenePlugin(u,window[this.key],v,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(l,n,h,u,v){if(Array.isArray(l))for(var f=0;f<l.length;f++)this.addFile(new r(this,l[f]));else this.addFile(new r(this,l,n,h,u,v));return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(71),a=new e({Extends:o,initialize:function(i,r,l,n,h){o.call(this,i,r,l,h,n),this.type="spritesheet"},addToCache:function(){var s=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(s)}});d.register("spritesheet",function(s,i,r,l){if(Array.isArray(s))for(var n=0;n<s.length;n++)this.addFile(new a(this,s[n]));else this.addFile(new a(this,s,i,r,l));return this}),p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=new e({Extends:o,initialize:function(n,h,u,v,f){var c="svg";if(i(h)){var g=h;h=s(g,"key"),u=s(g,"url"),v=s(g,"svgConfig",{}),f=s(g,"xhrSettings"),c=s(g,"extension",c)}var m={type:"svg",cache:n.textureManager,extension:c,responseType:"text",key:h,url:u,xhrSettings:f,config:{width:s(v,"width"),height:s(v,"height"),scale:s(v,"scale")}};o.call(this,n,m)},onProcess:function(){this.state=d.FILE_PROCESSING;var l=this.xhrLoader.responseText,n=[l],h=this.config.width,u=this.config.height,v=this.config.scale;t:if(h&&u||v){var f=null,c=new DOMParser;f=c.parseFromString(l,"text/xml");var g=f.getElementsByTagName("svg")[0],m=g.hasAttribute("viewBox"),x=parseFloat(g.getAttribute("width")),y=parseFloat(g.getAttribute("height"));if(!m&&x&&y)g.setAttribute("viewBox","0  0 "+x+" "+y);else if(m&&!x&&!y){var T=g.getAttribute("viewBox").split(/\s+|,/);x=T[2],y=T[3]}if(v)if(x&&y)h=x*v,u=y*v;else break t;g.setAttribute("width",h.toString()+"px"),g.setAttribute("height",u.toString()+"px"),n=[new XMLSerializer().serializeToString(g)]}try{var E=new window.Blob(n,{type:"image/svg+xml;charset=utf-8"})}catch(P){this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var R=this,M=!1;this.data.onload=function(){M||o.revokeObjectURL(R.data),R.onProcessComplete()},this.data.onerror=function(){M?R.onProcessError():(M=!0,o.revokeObjectURL(R.data),R.data.src="data:image/svg+xml,"+encodeURIComponent(n.join("")))},o.createObjectURL(this.data,E,"image/svg+xml")},addToCache:function(){var l=this.cache.addImage(this.key,this.data);this.pendingDestroy(l)}});a.register("svg",function(l,n,h,u){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new r(this,l[v]));else this.addFile(new r(this,l,n,h,u));return this}),p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(2),i=t(7),r=t(40),l=new e({Extends:o,initialize:function(h,u,v,f){var c="csv";if(i(u)){var g=u;u=s(g,"key"),v=s(g,"url"),f=s(g,"xhrSettings"),c=s(g,"extension",c)}var m={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:c,responseType:"text",key:u,url:v,xhrSettings:f};o.call(this,h,m),this.tilemapFormat=r.CSV},onProcess:function(){this.state=d.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var n={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,n),this.pendingDestroy(n)}});a.register("tilemapCSV",function(n,h,u){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new l(this,n[v]));else this.addFile(new l(this,n,h,u));return this}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(61),a=t(40),s=new e({Extends:o,initialize:function(r,l,n,h){o.call(this,r,l,n,h),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var i={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,i),this.pendingDestroy(i)}});d.register("tilemapImpact",function(i,r,l){if(Array.isArray(i))for(var n=0;n<i.length;n++)this.addFile(new s(this,i[n]));else this.addFile(new s(this,i,r,l));return this}),p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(61),a=t(40),s=new e({Extends:o,initialize:function(r,l,n,h){o.call(this,r,l,n,h),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var i={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,i),this.pendingDestroy(i)}});d.register("tilemapTiledJSON",function(i,r,l){if(Array.isArray(i))for(var n=0;n<i.length;n++)this.addFile(new s(this,i[n]));else this.addFile(new s(this,i,r,l));return this}),p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(8),o=t(2),a=t(71),s=t(7),i=t(49),r=t(242),l=new e({Extends:i,initialize:function(h,u,v,f,c,g){var m,x;if(s(u)){var y=u;u=o(y,"key"),m=new a(h,{key:u,url:o(y,"textureURL"),extension:o(y,"textureExtension","png"),normalMap:o(y,"normalMap"),xhrSettings:o(y,"textureXhrSettings")}),x=new r(h,{key:u,url:o(y,"atlasURL"),extension:o(y,"atlasExtension","txt"),xhrSettings:o(y,"atlasXhrSettings")})}else m=new a(h,u,v,c),x=new r(h,u,f,g);m.linkFile?i.call(this,h,"unityatlas",u,[m,x,m.linkFile]):i.call(this,h,"unityatlas",u,[m,x])},addToCache:function(){if(this.isReadyToProcess()){var n=this.files[0],h=this.files[1],u=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(n.key,n.data,h.data,u),h.pendingDestroy(),this.complete=!0}}});d.register("unityAtlas",function(n,h,u,v,f){var c;if(Array.isArray(n))for(var g=0;g<n.length;g++)c=new l(this,n[g]),this.addFile(c.files);else c=new l(this,n,h,u,v,f),this.addFile(c.files);return this}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(23),a=t(8),s=t(155),i=t(2),r=t(7),l=new e({Extends:o,initialize:function(h,u,v,f,c,g,m){f===void 0&&(f="loadeddata"),c===void 0&&(c=!1),g===void 0&&(g=!1),f!=="loadeddata"&&f!=="canplay"&&f!=="canplaythrough"&&(f="loadeddata");var x={type:"video",cache:h.cacheManager.video,extension:v.type,responseType:"blob",key:u,url:v.url,xhrSettings:m,config:{loadEvent:f,asBlob:c,noAudio:g}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),o.call(this,h,x)},onProcess:function(){if(this.state=d.FILE_PROCESSING,!this.config.asBlob){this.onProcessComplete();return}var n=this.createVideoElement();this.data=n;var h=this;this.data.onloadeddata=function(){h.onProcessComplete()},this.data.onerror=function(){o.revokeObjectURL(h.data),h.onProcessError()},o.createObjectURL(n,this.xhrLoader.response,""),n.load()},createVideoElement:function(){var n=document.createElement("video");return n.controls=!1,n.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(n.muted=!0,n.defaultMuted=!0,n.setAttribute("autoplay","autoplay")),n.setAttribute("playsinline","playsinline"),n.setAttribute("preload","auto"),n},onVideoLoadHandler:function(n){var h=n.target;h.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),h.removeEventListener("error",this.onErrorCallback,!0),this.data=h,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(n){var h=n.target;h&&(h.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),h.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var n=this.config.loadEvent;if(this.config.asBlob)o.prototype.load.call(this);else{this.percentComplete=0;var h=this.createVideoElement();h.addEventListener(n,this.onLoadCallback,!0),h.addEventListener("error",this.onErrorCallback,!0),h.src=s(this,this.loader.baseURL),h.load()}}});l.create=function(n,h,u,v,f,c,g){var m=n.systems.game;r(h)&&(u=i(h,"url",[]),v=i(h,"loadEvent","loadeddata"),f=i(h,"asBlob",!1),c=i(h,"noAudio",!1),g=i(h,"xhrSettings"),h=i(h,"key"));var x=l.getVideoURL(m,u);if(x)return new l(n,h,x,v,f,c,g)},l.getVideoURL=function(n,h){Array.isArray(h)||(h=[h]);for(var u=0;u<h.length;u++){var v=i(h[u],"url",h[u]);if(v.indexOf("blob:")===0)return{url:v,type:""};var f;if(v.indexOf("data:")===0?f=v.split(",")[0].match(/\/(.*?);/):f=v.match(/\.([a-zA-Z0-9]+)($|\?)/),f=i(h[u],"type",f?f[1]:"").toLowerCase(),n.device.video[f])return{url:v,type:f}}return null},a.register("video",function(n,h,u,v,f,c){var g;if(Array.isArray(n))for(var m=0;m<n.length;m++)g=l.create(this,n[m]),g&&this.addFile(g);else g=l.create(this,n,h,u,v,f,c),g&&this.addFile(g);return this}),p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(21),o=t(149),a=t(9),s=t(95),i=t(8),r=t(2),l=t(24),n=t(20),h=t(156),u=new e({Extends:a,initialize:function(f){a.call(this);var c=f.sys.game.config,g=f.sys.settings.loader;this.scene=f,this.systems=f.sys,this.cacheManager=f.sys.cache,this.textureManager=f.sys.textures,this.sceneManager=f.sys.game.scene,i.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(g,"baseURL",c.loaderBaseURL)),this.setPath(r(g,"path",c.loaderPath)),this.setPrefix(r(g,"prefix",c.loaderPrefix)),this.maxParallelDownloads=r(g,"maxParallelDownloads",c.loaderMaxParallelDownloads),this.xhr=h(r(g,"responseType",c.loaderResponseType),r(g,"async",c.loaderAsync),r(g,"user",c.loaderUser),r(g,"password",c.loaderPassword),r(g,"timeout",c.loaderTimeout),r(g,"withCredentials",c.loaderWithCredentials)),this.crossOrigin=r(g,"crossOrigin",c.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new o,this.inflight=new o,this.queue=new o,this._deleteQueue=new o,this.totalFailed=0,this.totalComplete=0,this.state=d.LOADER_IDLE,this.multiKeyIndex=0,f.sys.events.once(n.BOOT,this.boot,this),f.sys.events.on(n.START,this.pluginStart,this)},boot:function(){this.systems.events.once(n.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(n.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var f=0;f<v.length;f++){var c=v[f];this.keyExists(c)||(this.list.set(c),this.emit(s.ADD,c.key,c.type,this,c),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var f=v.hasCacheConflict();return f||this.list.iterate(function(c){if(c.type===v.type&&c.key===v.key)return f=!0,!1}),!f&&this.isLoading()&&(this.inflight.iterate(function(c){if(c.type===v.type&&c.key===v.key)return f=!0,!1}),this.queue.iterate(function(c){if(c.type===v.type&&c.key===v.key)return f=!0,!1})),f},addPack:function(v,f){f&&v.hasOwnProperty(f)&&(v={packKey:v[f]});var c=0,g=this.baseURL,m=this.path,x=this.prefix;for(var y in v)if(!!Object.prototype.hasOwnProperty.call(v,y)){var T=v[y],E=r(T,"baseURL",g),R=r(T,"path",m),M=r(T,"prefix",x),P=r(T,"files",null),O=r(T,"defaultType","void");if(Array.isArray(P)){this.setBaseURL(E),this.setPath(R),this.setPrefix(M);for(var I=0;I<P.length;I++){var B=P[I],w=B.hasOwnProperty("type")?B.type:O;this[w]&&(this[w](B),c++)}}}return this.setBaseURL(g),this.setPath(m),this.setPrefix(x),c>0},isLoading:function(){return this.state===d.LOADER_LOADING||this.state===d.LOADER_PROCESSING},isReady:function(){return this.state===d.LOADER_IDLE||this.state===d.LOADER_COMPLETE},start:function(){!this.isReady()||(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(s.START,this),this.list.size===0?this.loadComplete():(this.state=d.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(n.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(s.PROGRESS,this.progress)},update:function(){this.state===d.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===d.FILE_POPULATED||v.state===d.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,f){!this.inflight||(this.inflight.delete(v),this.updateProgress(),f?(this.totalComplete++,this.queue.set(v),this.emit(s.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(s.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===d.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===d.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&v.multiFile.addToCache():v.addToCache()),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(s.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=d.LOADER_COMPLETE,this.systems.events.off(n.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(s.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,f){return this.save(JSON.stringify(v),f)},save:function(v,f,c){f===void 0&&(f="file.json"),c===void 0&&(c="application/json");var g=new Blob([v],{type:c}),m=URL.createObjectURL(g),x=document.createElement("a");return x.download=f,x.textContent="Download "+f,x.href=m,x.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,f=this.systems.settings.loader;this.setBaseURL(r(f,"baseURL",v.loaderBaseURL)),this.setPath(r(f,"path",v.loaderPath)),this.setPrefix(r(f,"prefix",v.loaderPrefix)),this.state=d.LOADER_IDLE},shutdown:function(){this.reset(),this.state=d.LOADER_SHUTDOWN,this.systems.events.off(n.UPDATE,this.update,this),this.systems.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=d.LOADER_DESTROYED,this.systems.events.off(n.UPDATE,this.update,this),this.systems.events.off(n.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});l.register("Loader",u,"load"),p.exports=u},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),d=t(17),o={ArcadePhysics:t(1367),Body:t(527),Collider:t(528),Components:t(243),Events:t(245),Factory:t(521),GetOverlapX:t(246),GetOverlapY:t(247),SeparateX:t(537),SeparateY:t(538),Group:t(524),Image:t(522),Sprite:t(157),StaticBody:t(539),StaticGroup:t(525),Tilemap:t(1391),World:t(526)};o=d(!1,o,e),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(36),o=t(50),a=t(353),s=t(521),i=t(2),r=t(127),l=t(523),n=t(244),h=t(24),u=t(20),v=t(3),f=t(526),c=new e({initialize:function(m){this.scene=m,this.systems=m.sys,this.config=this.getConfig(),this.world,this.add,m.sys.events.once(u.BOOT,this.boot,this),m.sys.events.on(u.START,this.start,this)},boot:function(){this.world=new f(this.scene,this.config),this.add=new s(this.world),this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new f(this.scene,this.config),this.add=new s(this.world));var g=this.systems.events;i(this.config,"customUpdate",!1)||g.on(u.UPDATE,this.world.update,this.world),g.on(u.POST_UPDATE,this.world.postUpdate,this.world),g.once(u.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(u.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(u.UPDATE,this.world.update,this.world)},getConfig:function(){var g=this.systems.game.config.physics,m=this.systems.settings.physics,x=r(i(m,"arcade",{}),i(g,"arcade",{}));return x},overlap:function(g,m,x,y,T){return x===void 0&&(x=null),y===void 0&&(y=null),T===void 0&&(T=x),this.world.collideObjects(g,m,x,y,T,!0)},collide:function(g,m,x,y,T){return x===void 0&&(x=null),y===void 0&&(y=null),T===void 0&&(T=x),this.world.collideObjects(g,m,x,y,T,!1)},collideTiles:function(g,m,x,y,T){return this.world.collideTiles(g,m,x,y,T)},overlapTiles:function(g,m,x,y,T){return this.world.overlapTiles(g,m,x,y,T)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(g,m,x,y,T,E){y===void 0&&(y=60);var R=Math.atan2(x-g.y,m-g.x);return g.body.acceleration.setToPolar(R,y),T!==void 0&&E!==void 0&&g.body.maxVelocity.set(T,E),R},accelerateToObject:function(g,m,x,y,T){return this.accelerateTo(g,m.x,m.y,x,y,T)},closest:function(g,m){m||(m=this.world.bodies.entries);for(var x=Number.MAX_VALUE,y=null,T=g.x,E=g.y,R=m.length,M=0;M<R;M++){var P=m[M],O=P.body||P;if(!(g===P||g===O||g===O.gameObject||g===O.center)){var I=a(T,E,O.center.x,O.center.y);I<x&&(y=P,x=I)}}return y},furthest:function(g,m){m||(m=this.world.bodies.entries);for(var x=-1,y=null,T=g.x,E=g.y,R=m.length,M=0;M<R;M++){var P=m[M],O=P.body||P;if(!(g===P||g===O||g===O.gameObject||g===O.center)){var I=a(T,E,O.center.x,O.center.y);I>x&&(y=P,x=I)}}return y},moveTo:function(g,m,x,y,T){y===void 0&&(y=60),T===void 0&&(T=0);var E=Math.atan2(x-g.y,m-g.x);return T>0&&(y=o(g.x,g.y,m,x)/(T/1e3)),g.body.velocity.setToPolar(E,y),E},moveToObject:function(g,m,x,y){return this.moveTo(g,m.x,m.y,x,y)},velocityFromAngle:function(g,m,x){return m===void 0&&(m=60),x===void 0&&(x=new v),x.setToPolar(d(g),m)},velocityFromRotation:function(g,m,x){return m===void 0&&(m=60),x===void 0&&(x=new v),x.setToPolar(g,m)},overlapRect:function(g,m,x,y,T,E){return n(this.world,g,m,x,y,T,E)},overlapCirc:function(g,m,x,y,T){return l(this.world,g,m,x,y,T)},shutdown:function(){if(!!this.world){var g=this.systems.events;g.off(u.UPDATE,this.world.update,this.world),g.off(u.POST_UPDATE,this.world.postUpdate,this.world),g.off(u.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",c,"arcadePhysics"),p.exports=c},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAcceleration:function(e,d){return this.body.acceleration.set(e,d),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e,d){return this.body.bounce.set(e,d),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,d,o){return this.body.setCollideWorldBounds(e,d,o),this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDebug:function(e,d,o){return this.debugShowBody=e,this.debugShowVelocity=d,this.debugBodyColor=o,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDrag:function(e,d){return this.body.drag.set(e,d),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={enableBody:function(e,d,o,a,s){return e&&this.body.reset(d,o),a&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,d){return e===void 0&&(e=!1),d===void 0&&(d=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),d&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,d){return this.body.friction.set(e,d),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setGravity:function(e,d){return this.body.gravity.set(e,d),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setMass:function(e){return this.body.mass=e,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setOffset:function(e,d){return this.body.setOffset(e,d),this},setSize:function(e,d,o){return this.body.setSize(e,d,o),this},setBodySize:function(e,d,o){return this.body.setSize(e,d,o),this},setCircle:function(e,d,o){return this.body.setCircle(e,d,o),this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setVelocity:function(e,d){return this.body.setVelocity(e,d),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,d){return this.body.maxVelocity.set(e,d),this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collide"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="overlap"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tilecollide"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="tileoverlap"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldbounds"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="worldstep"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,d,o,a,s,i,r,l,n,h,u,v,f,c,g,m,x=function(P,O,I){t=P,e=O;var B=t.velocity.x,w=e.velocity.x;return d=t.pushable,l=t._dx<0,n=t._dx>0,h=t._dx===0,c=Math.abs(t.right-e.x)<=Math.abs(e.right-t.x),i=w-B*t.bounce.x,o=e.pushable,u=e._dx<0,v=e._dx>0,f=e._dx===0,g=!c,r=B-w*e.bounce.x,m=Math.abs(I),y()},y=function(){return n&&c&&e.blocked.right?(t.processX(-m,i,!1,!0),1):l&&g&&e.blocked.left?(t.processX(m,i,!0),1):v&&g&&t.blocked.right?(e.processX(-m,r,!1,!0),2):u&&c&&t.blocked.left?(e.processX(m,r,!0),2):0},T=function(){var P=t.velocity.x,O=e.velocity.x,I=Math.sqrt(O*O*e.mass/t.mass)*(O>0?1:-1),B=Math.sqrt(P*P*t.mass/e.mass)*(P>0?1:-1),w=(I+B)*.5;return I-=w,B-=w,a=w+I*t.bounce.x,s=w+B*e.bounce.x,l&&g?E(0):u&&c?E(1):n&&c?E(2):v&&g?E(3):!1},E=function(P){if(d&&o)m*=.5,P===0||P===3?(t.processX(m,a),e.processX(-m,s)):(t.processX(-m,a),e.processX(m,s));else if(d&&!o)P===0||P===3?t.processX(m,i,!0):t.processX(-m,i,!1,!0);else if(!d&&o)P===0||P===3?e.processX(-m,r,!1,!0):e.processX(m,r,!0);else{var O=m*.5;P===0?f?(t.processX(m,0,!0),e.processX(0,null,!1,!0)):v?(t.processX(O,0,!0),e.processX(-O,0,!1,!0)):(t.processX(O,e.velocity.x,!0),e.processX(-O,null,!1,!0)):P===1?h?(t.processX(0,null,!1,!0),e.processX(m,0,!0)):n?(t.processX(-O,0,!1,!0),e.processX(O,0,!0)):(t.processX(-O,null,!1,!0),e.processX(O,t.velocity.x,!0)):P===2?f?(t.processX(-m,0,!1,!0),e.processX(0,null,!0)):u?(t.processX(-O,0,!1,!0),e.processX(O,0,!0)):(t.processX(-O,e.velocity.x,!1,!0),e.processX(O,null,!0)):P===3&&(h?(t.processX(0,null,!0),e.processX(-m,0,!1,!0)):l?(t.processX(O,0,!0),e.processX(-O,0,!1,!0)):(t.processX(O,e.velocity.y,!0),e.processX(-O,null,!1,!0)))}return!0},R=function(P){P===1?e.velocity.x=0:c?e.processX(m,r,!0):e.processX(-m,r,!1,!0),t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y,e._dy=e.y-e.prev.y)},M=function(P){P===2?t.velocity.x=0:g?t.processX(m,i,!0):t.processX(-m,i,!1,!0),e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y,t._dy=t.y-t.prev.y)};p.exports={BlockCheck:y,Check:T,Set:x,Run:E,RunImmovableBody1:R,RunImmovableBody2:M}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,d,o,a,s,i,r,l,n,h,u,v,f,c,g,m,x=function(P,O,I){t=P,e=O;var B=t.velocity.y,w=e.velocity.y;return d=t.pushable,l=t._dy<0,n=t._dy>0,h=t._dy===0,c=Math.abs(t.bottom-e.y)<=Math.abs(e.bottom-t.y),i=w-B*t.bounce.y,o=e.pushable,u=e._dy<0,v=e._dy>0,f=e._dy===0,g=!c,r=B-w*e.bounce.y,m=Math.abs(I),y()},y=function(){return n&&c&&e.blocked.down?(t.processY(-m,i,!1,!0),1):l&&g&&e.blocked.up?(t.processY(m,i,!0),1):v&&g&&t.blocked.down?(e.processY(-m,r,!1,!0),2):u&&c&&t.blocked.up?(e.processY(m,r,!0),2):0},T=function(){var P=t.velocity.y,O=e.velocity.y,I=Math.sqrt(O*O*e.mass/t.mass)*(O>0?1:-1),B=Math.sqrt(P*P*t.mass/e.mass)*(P>0?1:-1),w=(I+B)*.5;return I-=w,B-=w,a=w+I*t.bounce.y,s=w+B*e.bounce.y,l&&g?E(0):u&&c?E(1):n&&c?E(2):v&&g?E(3):!1},E=function(P){if(d&&o)m*=.5,P===0||P===3?(t.processY(m,a),e.processY(-m,s)):(t.processY(-m,a),e.processY(m,s));else if(d&&!o)P===0||P===3?t.processY(m,i,!0):t.processY(-m,i,!1,!0);else if(!d&&o)P===0||P===3?e.processY(-m,r,!1,!0):e.processY(m,r,!0);else{var O=m*.5;P===0?f?(t.processY(m,0,!0),e.processY(0,null,!1,!0)):v?(t.processY(O,0,!0),e.processY(-O,0,!1,!0)):(t.processY(O,e.velocity.y,!0),e.processY(-O,null,!1,!0)):P===1?h?(t.processY(0,null,!1,!0),e.processY(m,0,!0)):n?(t.processY(-O,0,!1,!0),e.processY(O,0,!0)):(t.processY(-O,null,!1,!0),e.processY(O,t.velocity.y,!0)):P===2?f?(t.processY(-m,0,!1,!0),e.processY(0,null,!0)):u?(t.processY(-O,0,!1,!0),e.processY(O,0,!0)):(t.processY(-O,e.velocity.y,!1,!0),e.processY(O,null,!0)):P===3&&(h?(t.processY(0,null,!0),e.processY(-m,0,!1,!0)):l?(t.processY(O,0,!0),e.processY(-O,0,!1,!0)):(t.processY(O,e.velocity.y,!0),e.processY(-O,null,!1,!0)))}return!0},R=function(P){P===1?e.velocity.y=0:c?e.processY(m,r,!0):e.processY(-m,r,!1,!0),t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x,e._dx=e.x-e.prev.x)},M=function(P){P===2?t.velocity.y=0:g?t.processY(m,i,!0):t.processY(-m,i,!1,!0),e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x,t._dx=t.x-t.prev.x)};p.exports={BlockCheck:y,Check:T,Set:x,Run:E,RunImmovableBody1:R,RunImmovableBody2:M}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ProcessTileCallbacks:t(530),ProcessTileSeparationX:t(534),ProcessTileSeparationY:t(536),SeparateTile:t(532),TileCheckX:t(533),TileCheckY:t(535),TileIntersectsBody:t(248)};p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(3),o=new e({initialize:function(){this.boundsCenter=new d,this.centerDiff=new d},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var s=this.boundsCenter,i=this.centerDiff,r=a.bounds.max.x-a.bounds.min.x,l=a.bounds.max.y-a.bounds.min.y,n=r*a.centerOfMass.x,h=l*a.centerOfMass.y;return s.set(r/2,l/2),i.set(n-s.x,h-s.y),!0},getTopLeft:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,l=this.centerDiff;return new d(s+r.x+l.x,i+r.y+l.y)}return!1},getTopCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,l=this.centerDiff;return new d(s+l.x,i+r.y+l.y)}return!1},getTopRight:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,l=this.centerDiff;return new d(s-(r.x-l.x),i+r.y+l.y)}return!1},getLeftCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,l=this.centerDiff;return new d(s+r.x+l.x,i+l.y)}return!1},getCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.centerDiff;return new d(s+r.x,i+r.y)}return!1},getRightCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,l=this.centerDiff;return new d(s-(r.x-l.x),i+l.y)}return!1},getBottomLeft:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,l=this.centerDiff;return new d(s+r.x+l.x,i-(r.y-l.y))}return!1},getBottomCenter:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,l=this.centerDiff;return new d(s+l.x,i-(r.y-l.y))}return!1},getBottomRight:function(a,s,i){if(s===void 0&&(s=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,l=this.centerDiff;return new d(s-(r.x-l.x),i-(r.y-l.y))}return!1}});p.exports=o},function(p,C){/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={decomp:P,quickDecomp:w,isSimple:I,removeCollinearPoints:z,removeDuplicatePoints:H,makeCCW:c};function t(D,F,G){G=G||0;var N=[0,0],X,V,W,Z,et,it,ht;return X=D[1][1]-D[0][1],V=D[0][0]-D[1][0],W=X*D[0][0]+V*D[0][1],Z=F[1][1]-F[0][1],et=F[0][0]-F[1][0],it=Z*F[0][0]+et*F[0][1],ht=X*et-Z*V,b(ht,0,G)||(N[0]=(et*W-V*it)/ht,N[1]=(X*it-Z*W)/ht),N}function e(D,F,G,N){var X=F[0]-D[0],V=F[1]-D[1],W=N[0]-G[0],Z=N[1]-G[1];if(W*V-Z*X===0)return!1;var et=(X*(G[1]-D[1])+V*(D[0]-G[0]))/(W*V-Z*X),it=(W*(D[1]-G[1])+Z*(G[0]-D[0]))/(Z*X-W*V);return et>=0&&et<=1&&it>=0&&it<=1}function d(D,F,G){return(F[0]-D[0])*(G[1]-D[1])-(G[0]-D[0])*(F[1]-D[1])}function o(D,F,G){return d(D,F,G)>0}function a(D,F,G){return d(D,F,G)>=0}function s(D,F,G){return d(D,F,G)<0}function i(D,F,G){return d(D,F,G)<=0}var r=[],l=[];function n(D,F,G,N){if(N){var X=r,V=l;X[0]=F[0]-D[0],X[1]=F[1]-D[1],V[0]=G[0]-F[0],V[1]=G[1]-F[1];var W=X[0]*V[0]+X[1]*V[1],Z=Math.sqrt(X[0]*X[0]+X[1]*X[1]),et=Math.sqrt(V[0]*V[0]+V[1]*V[1]),it=Math.acos(W/(Z*et));return it<N}else return d(D,F,G)===0}function h(D,F){var G=F[0]-D[0],N=F[1]-D[1];return G*G+N*N}function u(D,F){var G=D.length;return D[F<0?F%G+G:F%G]}function v(D){D.length=0}function f(D,F,G,N){for(var X=G;X<N;X++)D.push(F[X])}function c(D){for(var F=0,G=D,N=1;N<D.length;++N)(G[N][1]<G[F][1]||G[N][1]===G[F][1]&&G[N][0]>G[F][0])&&(F=N);return o(u(D,F-1),u(D,F),u(D,F+1))?!1:(g(D),!0)}function g(D){for(var F=[],G=D.length,N=0;N!==G;N++)F.push(D.pop());for(var N=0;N!==G;N++)D[N]=F[N]}function m(D,F){return s(u(D,F-1),u(D,F),u(D,F+1))}var x=[],y=[];function T(D,F,G){var N,X,V=x,W=y;if(a(u(D,F+1),u(D,F),u(D,G))&&i(u(D,F-1),u(D,F),u(D,G)))return!1;X=h(u(D,F),u(D,G));for(var Z=0;Z!==D.length;++Z)if(!((Z+1)%D.length===F||Z===F)&&a(u(D,F),u(D,G),u(D,Z+1))&&i(u(D,F),u(D,G),u(D,Z))&&(V[0]=u(D,F),V[1]=u(D,G),W[0]=u(D,Z),W[1]=u(D,Z+1),N=t(V,W),h(u(D,F),N)<X))return!1;return!0}function E(D,F,G){for(var N=0;N!==D.length;++N)if(!(N===F||N===G||(N+1)%D.length===F||(N+1)%D.length===G)&&e(u(D,F),u(D,G),u(D,N),u(D,N+1)))return!1;return!0}function R(D,F,G,N){var X=N||[];if(v(X),F<G)for(var V=F;V<=G;V++)X.push(D[V]);else{for(var V=0;V<=G;V++)X.push(D[V]);for(var V=F;V<D.length;V++)X.push(D[V])}return X}function M(D){for(var F=[],G=[],N=[],X=[],V=Number.MAX_VALUE,W=0;W<D.length;++W)if(m(D,W)){for(var Z=0;Z<D.length;++Z)if(T(D,W,Z)){G=M(R(D,W,Z,X)),N=M(R(D,Z,W,X));for(var et=0;et<N.length;et++)G.push(N[et]);G.length<V&&(F=G,V=G.length,F.push([u(D,W),u(D,Z)]))}}return F}function P(D){var F=M(D);return F.length>0?O(D,F):[D]}function O(D,F){if(F.length===0)return[D];if(F instanceof Array&&F.length&&F[0]instanceof Array&&F[0].length===2&&F[0][0]instanceof Array){for(var G=[D],N=0;N<F.length;N++)for(var X=F[N],V=0;V<G.length;V++){var W=G[V],Z=O(W,X);if(Z){G.splice(V,1),G.push(Z[0],Z[1]);break}}return G}else{var X=F,N=D.indexOf(X[0]),V=D.indexOf(X[1]);return N!==-1&&V!==-1?[R(D,N,V),R(D,V,N)]:!1}}function I(D){var F=D,G;for(G=0;G<F.length-1;G++)for(var N=0;N<G-1;N++)if(e(F[G],F[G+1],F[N],F[N+1]))return!1;for(G=1;G<F.length-2;G++)if(e(F[0],F[F.length-1],F[G],F[G+1]))return!1;return!0}function B(D,F,G,N,X){X=X||0;var V=F[1]-D[1],W=D[0]-F[0],Z=V*D[0]+W*D[1],et=N[1]-G[1],it=G[0]-N[0],ht=et*G[0]+it*G[1],vt=V*it-et*W;return b(vt,0,X)?[0,0]:[(it*Z-W*ht)/vt,(V*ht-et*Z)/vt]}function w(D,F,G,N,X,V,W){V=V||100,W=W||0,X=X||25,F=typeof F!="undefined"?F:[],G=G||[],N=N||[];var Z=[0,0],et=[0,0],it=[0,0],ht=0,vt=0,lt=0,xt=0,st=0,mt=0,wt=0,St=[],Rt=[],Tt=D,Bt=D;if(Bt.length<3)return F;if(W++,W>V)return console.warn("quickDecomp: max level ("+V+") reached."),F;for(var Pt=0;Pt<D.length;++Pt)if(m(Tt,Pt)){G.push(Tt[Pt]),ht=vt=Number.MAX_VALUE;for(var Ft=0;Ft<D.length;++Ft)o(u(Tt,Pt-1),u(Tt,Pt),u(Tt,Ft))&&i(u(Tt,Pt-1),u(Tt,Pt),u(Tt,Ft-1))&&(it=B(u(Tt,Pt-1),u(Tt,Pt),u(Tt,Ft),u(Tt,Ft-1)),s(u(Tt,Pt+1),u(Tt,Pt),it)&&(lt=h(Tt[Pt],it),lt<vt&&(vt=lt,et=it,mt=Ft))),o(u(Tt,Pt+1),u(Tt,Pt),u(Tt,Ft+1))&&i(u(Tt,Pt+1),u(Tt,Pt),u(Tt,Ft))&&(it=B(u(Tt,Pt+1),u(Tt,Pt),u(Tt,Ft),u(Tt,Ft+1)),o(u(Tt,Pt-1),u(Tt,Pt),it)&&(lt=h(Tt[Pt],it),lt<ht&&(ht=lt,Z=it,st=Ft)));if(mt===(st+1)%D.length)it[0]=(et[0]+Z[0])/2,it[1]=(et[1]+Z[1])/2,N.push(it),Pt<st?(f(St,Tt,Pt,st+1),St.push(it),Rt.push(it),mt!==0&&f(Rt,Tt,mt,Tt.length),f(Rt,Tt,0,Pt+1)):(Pt!==0&&f(St,Tt,Pt,Tt.length),f(St,Tt,0,st+1),St.push(it),Rt.push(it),f(Rt,Tt,mt,Pt+1));else{if(mt>st&&(st+=D.length),xt=Number.MAX_VALUE,st<mt)return F;for(var Ft=mt;Ft<=st;++Ft)a(u(Tt,Pt-1),u(Tt,Pt),u(Tt,Ft))&&i(u(Tt,Pt+1),u(Tt,Pt),u(Tt,Ft))&&(lt=h(u(Tt,Pt),u(Tt,Ft)),lt<xt&&E(Tt,Pt,Ft)&&(xt=lt,wt=Ft%D.length));Pt<wt?(f(St,Tt,Pt,wt+1),wt!==0&&f(Rt,Tt,wt,Bt.length),f(Rt,Tt,0,Pt+1)):(Pt!==0&&f(St,Tt,Pt,Bt.length),f(St,Tt,0,wt+1),f(Rt,Tt,wt,Pt+1))}return St.length<Rt.length?(w(St,F,G,N,X,V,W),w(Rt,F,G,N,X,V,W)):(w(Rt,F,G,N,X,V,W),w(St,F,G,N,X,V,W)),F}return F.push(D),F}function z(D,F){for(var G=0,N=D.length-1;D.length>3&&N>=0;--N)n(u(D,N-1),u(D,N),u(D,N+1),F)&&(D.splice(N%D.length,1),G++);return G}function H(D,F){for(var G=D.length-1;G>=1;--G)for(var N=D[G],X=G-1;X>=0;--X)if(Q(N,D[X],F)){D.splice(G,1);continue}}function b(D,F,G){return G=G||0,Math.abs(D-F)<=G}function Q(D,F,G){return b(D[0],F[0],G)&&b(D[1],F[1],G)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),d=t(0),o=t(591),a=t(128),s=t(592),i=t(1395),r=t(1396),l=t(1397),n=t(593),h=t(589),u=t(590),v=t(1398),f=t(64),c=new d({initialize:function(m){this.world=m,this.scene=m.scene,this.sys=m.scene.sys},rectangle:function(g,m,x,y,T){var E=e.rectangle(g,m,x,y,T);return this.world.add(E),E},trapezoid:function(g,m,x,y,T,E){var R=e.trapezoid(g,m,x,y,T,E);return this.world.add(R),R},circle:function(g,m,x,y,T){var E=e.circle(g,m,x,y,T);return this.world.add(E),E},polygon:function(g,m,x,y,T){var E=e.polygon(g,m,x,y,T);return this.world.add(E),E},fromVertices:function(g,m,x,y,T,E,R){typeof x=="string"&&(x=f.fromPath(x));var M=e.fromVertices(g,m,x,y,T,E,R);return this.world.add(M),M},fromPhysicsEditor:function(g,m,x,y,T){T===void 0&&(T=!0);var E=h.parseBody(g,m,x,y);return T&&!this.world.has(E)&&this.world.add(E),E},fromSVG:function(g,m,x,y,T,E){y===void 0&&(y=1),T===void 0&&(T={}),E===void 0&&(E=!0);for(var R=x.getElementsByTagName("path"),M=[],P=0;P<R.length;P++){var O=s.pathToVertices(R[P],30);y!==1&&f.scale(O,y,y),M.push(O)}var I=e.fromVertices(g,m,M,T);return E&&this.world.add(I),I},fromJSON:function(g,m,x,y,T){y===void 0&&(y={}),T===void 0&&(T=!0);var E=u.parseBody(g,m,x,y);return E&&T&&this.world.add(E),E},imageStack:function(g,m,x,y,T,E,R,M,P){R===void 0&&(R=0),M===void 0&&(M=0),P===void 0&&(P={});var O=this.world,I=this.sys.displayList;P.addToWorld=!1;var B=o.stack(x,y,T,E,R,M,function(w,z){var H=new r(O,w,z,g,m,P);return I.add(H),H.body});return O.add(B),B},stack:function(g,m,x,y,T,E,R){var M=o.stack(g,m,x,y,T,E,R);return this.world.add(M),M},pyramid:function(g,m,x,y,T,E,R){var M=o.pyramid(g,m,x,y,T,E,R);return this.world.add(M),M},chain:function(g,m,x,y,T,E){return o.chain(g,m,x,y,T,E)},mesh:function(g,m,x,y,T){return o.mesh(g,m,x,y,T)},newtonsCradle:function(g,m,x,y,T){var E=o.newtonsCradle(g,m,x,y,T);return this.world.add(E),E},car:function(g,m,x,y,T){var E=o.car(g,m,x,y,T);return this.world.add(E),E},softBody:function(g,m,x,y,T,E,R,M,P,O){var I=o.softBody(g,m,x,y,T,E,R,M,P,O);return this.world.add(I),I},joint:function(g,m,x,y,T){return this.constraint(g,m,x,y,T)},spring:function(g,m,x,y,T){return this.constraint(g,m,x,y,T)},constraint:function(g,m,x,y,T){y===void 0&&(y=1),T===void 0&&(T={}),T.bodyA=g.type==="body"?g:g.body,T.bodyB=m.type==="body"?m:m.body,isNaN(x)||(T.length=x),T.stiffness=y;var E=a.create(T);return this.world.add(E),E},worldConstraint:function(g,m,x,y){x===void 0&&(x=1),y===void 0&&(y={}),y.bodyB=g.type==="body"?g:g.body,isNaN(m)||(y.length=m),y.stiffness=x;var T=a.create(y);return this.world.add(T),T},mouseSpring:function(g){return this.pointerConstraint(g)},pointerConstraint:function(g){g===void 0&&(g={}),g.hasOwnProperty("render")||(g.render={visible:!1});var m=new v(this.scene,this.world,g);return this.world.add(m.constraint),m},image:function(g,m,x,y,T){var E=new r(this.world,g,m,x,y,T);return this.sys.displayList.add(E),E},tileBody:function(g,m){return new n(this.world,g,m)},sprite:function(g,m,x,y,T){var E=new l(this.world,g,m,x,y,T);return this.sys.displayList.add(E),this.sys.updateList.add(E),E},gameObject:function(g,m,x){return i(this.world,g,m,x)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});p.exports=c},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(249),d=t(2),o=t(3);function a(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}var s=function(i,r,l,n){l===void 0&&(l={}),n===void 0&&(n=!0);var h=r.x,u=r.y;r.body={temp:!0,position:{x:h,y:u}};var v=[e.Bounce,e.Collision,e.Force,e.Friction,e.Gravity,e.Mass,e.Sensor,e.SetBody,e.Sleep,e.Static,e.Transform,e.Velocity];if(v.forEach(function(c){for(var g in c)a(c[g])?Object.defineProperty(r,g,{get:c[g].get,set:c[g].set}):Object.defineProperty(r,g,{value:c[g]})}),r.world=i,r._tempVec2=new o(h,u),l.hasOwnProperty("type")&&l.type==="body")r.setExistingBody(l,n);else{var f=d(l,"shape",null);f||(f="rectangle"),l.addToWorld=n,r.setBody(f,l)}return r};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(249),o=t(15),a=t(2),s=t(125),i=t(167),r=t(3),l=new e({Extends:s,Mixins:[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity,i],initialize:function(h,u,v,f,c,g){o.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(f,c),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new r(u,v);var m=a(g,"shape",null);m?this.setBody(m,g):this.setRectangle(this.width,this.height,g),this.setPosition(u,v),this.initPipeline()}});p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),d=t(0),o=t(249),a=t(15),s=t(2),i=t(167),r=t(73),l=t(3),n=new d({Extends:r,Mixins:[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity,i],initialize:function(u,v,f,c,g,m){a.call(this,u.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(c,g),this.setSizeToFrame(),this.setOrigin(),this.world=u,this._tempVec2=new l(v,f);var x=s(m,"shape",null);x?this.setBody(x,m):this.setRectangle(this.width,this.height,m),this.setPosition(v,f),this.initPipeline()}});p.exports=n},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(84),d=t(0),o=t(118),a=t(128),s=t(273),i=t(272),r=t(51),l=t(127),n=t(165),h=t(3),u=t(64),v=new d({initialize:function(c,g,m){m===void 0&&(m={});var x={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=c,this.world=g,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=a.create(l(m,x)),this.world.on(i.BEFORE_UPDATE,this.update,this),c.sys.input.on(r.POINTER_DOWN,this.onDown,this),c.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(f){this.pointer||(this.pointer=f,this.camera=f.camera)},onUp:function(f){f===this.pointer&&(this.pointer=null)},getBody:function(f){var c=this.position,g=this.constraint;this.camera.getWorldPoint(f.x,f.y,c);for(var m=o.allBodies(this.world.localWorld),x=0;x<m.length;x++){var y=m[x];if(!y.ignorePointer&&e.contains(y.bounds,c)&&s.canCollide(y.collisionFilter,g.collisionFilter)&&this.hitTestBody(y,c))return this.world.emit(i.DRAG_START,y,this.part,this),!0}return!1},hitTestBody:function(f,c){for(var g=this.constraint,m=f.parts.length,x=m>1?1:0,y=x;y<m;y++){var T=f.parts[y];if(u.contains(T.vertices,c))return g.pointA=c,g.pointB={x:c.x-f.position.x,y:c.y-f.position.y},g.bodyB=f,g.angleB=f.angle,n.set(f,!1),this.part=T,this.body=f,!0}return!1},update:function(){var f=this.pointer,c=this.body;if(!this.active||!f){c&&this.stopDrag();return}if(!f.isDown&&c){this.stopDrag();return}else if(f.isDown){if(!c&&!this.getBody(f))return;c=this.body;var g=this.position,m=this.constraint;this.camera.getWorldPoint(f.x,f.y,g),m.pointA.x=g.x,m.pointA.y=g.y,n.set(c,!1),this.world.emit(i.DRAG,c,this)}},stopDrag:function(){var f=this.body,c=this.constraint;c.bodyB=null,c.pointB=null,this.pointer=null,this.body=null,this.part=null,f&&this.world.emit(i.DRAG_END,f,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(i.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});p.exports=v},function(p,C,t){var e={};p.exports=e;var d=t(595),o=t(32);(function(){e.name="matter-js",e.version="0.14.2",e.uses=[],e.used=[],e.use=function(){d.use(e,Array.prototype.slice.call(arguments))},e.before=function(a,s){return a=a.replace(/^Matter./,""),o.chainPathBefore(e,a,s)},e.after=function(a,s){return a=a.replace(/^Matter./,""),o.chainPathAfter(e,a,s)}})()},function(p,C,t){var e={};p.exports=e;var d=t(83),o=t(274),a=t(84),s=t(86),i=t(64);(function(){e.collides=function(r,l){for(var n=[],h=0;h<l.length;h++){var u=l[h];if(r!==u&&a.overlaps(u.bounds,r.bounds))for(var v=u.parts.length===1?0:1;v<u.parts.length;v++){var f=u.parts[v];if(a.overlaps(f.bounds,r.bounds)){var c=o.collides(f,r);if(c.collided){n.push(c);break}}}}return n},e.ray=function(r,l,n,h){h=h||1e-100;for(var u=d.angle(l,n),v=d.magnitude(d.sub(l,n)),f=(n.x+l.x)*.5,c=(n.y+l.y)*.5,g=s.rectangle(f,c,v,h,{angle:u}),m=e.collides(g,r),x=0;x<m.length;x+=1){var y=m[x];y.body=y.bodyB=y.bodyA}return m},e.region=function(r,l,n){for(var h=[],u=0;u<r.length;u++){var v=r[u],f=a.overlaps(v.bounds,l);(f&&!n||!f&&n)&&h.push(v)}return h},e.point=function(r,l){for(var n=[],h=0;h<r.length;h++){var u=r[h];if(a.contains(u.bounds,l))for(var v=u.parts.length===1?0:1;v<u.parts.length;v++){var f=u.parts[v];if(a.contains(f.bounds,l)&&i.contains(f.vertices,l)){n.push(u);break}}}return n}})()},function(p,C,t){var e={};p.exports=e;var d=t(596),o=t(165),a=t(599),s=t(598),i=t(1523),r=t(597),l=t(166),n=t(118),h=t(128),u=t(32),v=t(41);(function(){e.create=function(f,c){c=u.isElement(f)?c:f,f=u.isElement(f)?f:null,c=c||{},(f||c.render)&&u.warn("Engine.create: engine.render is deprecated (see docs)");var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:r}},m=u.extend(g,c);return m.world=c.world||d.create(m.world),m.pairs=s.create(),m.broadphase=m.broadphase.controller.create(m.broadphase),m.metrics=m.metrics||{extended:!1},m.metrics=i.create(m.metrics),m},e.update=function(f,c,g){c=c||16.666666666666668,g=g||1;var m=f.world,x=f.timing,y=f.broadphase,T=[],E;x.timestamp+=c*x.timeScale;var R={timestamp:x.timestamp};l.trigger(f,"beforeUpdate",R);var M=n.allBodies(m),P=n.allConstraints(m);for(i.reset(f.metrics),f.enableSleeping&&o.update(M,x.timeScale),e._bodiesApplyGravity(M,m.gravity),e._bodiesUpdate(M,c,x.timeScale,g,m.bounds),h.preSolveAll(M),E=0;E<f.constraintIterations;E++)h.solveAll(P,x.timeScale);h.postSolveAll(M),y.controller?(m.isModified&&y.controller.clear(y),y.controller.update(y,M,f,m.isModified),T=y.pairsList):T=M,m.isModified&&n.setModified(m,!1,!1,!0);var O=y.detector(T,f),I=f.pairs,B=x.timestamp;for(s.update(I,O,B),s.removeOld(I,B),f.enableSleeping&&o.afterCollisions(I.list,x.timeScale),I.collisionStart.length>0&&l.trigger(f,"collisionStart",{pairs:I.collisionStart}),a.preSolvePosition(I.list),E=0;E<f.positionIterations;E++)a.solvePosition(I.list,M,x.timeScale);for(a.postSolvePosition(M),h.preSolveAll(M),E=0;E<f.constraintIterations;E++)h.solveAll(P,x.timeScale);for(h.postSolveAll(M),a.preSolveVelocity(I.list),E=0;E<f.velocityIterations;E++)a.solveVelocity(I.list,x.timeScale);return I.collisionActive.length>0&&l.trigger(f,"collisionActive",{pairs:I.collisionActive}),I.collisionEnd.length>0&&l.trigger(f,"collisionEnd",{pairs:I.collisionEnd}),i.update(f.metrics,f),e._bodiesClearForces(M),l.trigger(f,"afterUpdate",R),f},e.merge=function(f,c){if(u.extend(f,c),c.world){f.world=c.world,e.clear(f);for(var g=n.allBodies(f.world),m=0;m<g.length;m++){var x=g[m];o.set(x,!1),x.id=u.nextId()}}},e.clear=function(f){var c=f.world;s.clear(f.pairs);var g=f.broadphase;if(g.controller){var m=n.allBodies(c);g.controller.clear(g),g.controller.update(g,m,f,!0)}},e._bodiesClearForces=function(f){for(var c=0;c<f.length;c++){var g=f[c];g.force.x=0,g.force.y=0,g.torque=0}},e._bodiesApplyGravity=function(f,c){var g=typeof c.scale!="undefined"?c.scale:.001;if(!(c.x===0&&c.y===0||g===0))for(var m=0;m<f.length;m++){var x=f[m];x.ignoreGravity||x.isStatic||x.isSleeping||(x.force.x+=x.mass*c.x*g*x.gravityScale.x,x.force.y+=x.mass*c.y*g*x.gravityScale.y)}},e._bodiesUpdate=function(f,c,g,m,x){for(var y=0;y<f.length;y++){var T=f[y];T.isStatic||T.isSleeping||v.update(T,c,g,m)}}})()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),d=t(41),o=t(0),a=t(32),s=t(118),i=t(1401),r=t(9),l=t(272),n=t(2),h=t(6),u=t(41),v=t(166),f=t(593),c=t(596),g=t(83),m=new o({Extends:r,initialize:function(y,T){r.call(this),this.scene=y,this.engine=i.create(T),this.localWorld=this.engine.world;var E=h(T,"gravity",null);E?this.setGravity(E.x,E.y,E.scale):E===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(T,"enabled",!0),this.correction=h(T,"correction",1),this.getDelta=h(T,"getDelta",this.update60Hz);var R=n(T,"runner",{}),M=n(R,"fps",!1),P=n(R,"fps",60),O=n(R,"delta",1e3/P),I=n(R,"deltaMin",1e3/P),B=n(R,"deltaMax",1e3/(P*.5));M||(P=1e3/O),this.runner={fps:P,correction:n(R,"correction",1),deltaSampleSize:n(R,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:n(R,"isFixed",!1),delta:O,deltaMin:I,deltaMax:B},this.autoUpdate=h(T,"autoUpdate",!0);var w=h(T,"debug",!1);if(this.drawDebug=typeof w=="object"?!0:w,this.debugGraphic,this.debugConfig={showAxes:n(w,"showAxes",!1),showAngleIndicator:n(w,"showAngleIndicator",!1),angleColor:n(w,"angleColor",15208787),showBroadphase:n(w,"showBroadphase",!1),broadphaseColor:n(w,"broadphaseColor",16757760),showBounds:n(w,"showBounds",!1),boundsColor:n(w,"boundsColor",16777215),showVelocity:n(w,"showVelocity",!1),velocityColor:n(w,"velocityColor",44783),showCollisions:n(w,"showCollisions",!1),collisionColor:n(w,"collisionColor",16094476),showSeparations:n(w,"showSeparations",!1),separationColor:n(w,"separationColor",16753920),showBody:n(w,"showBody",!0),showStaticBody:n(w,"showStaticBody",!0),showInternalEdges:n(w,"showInternalEdges",!1),renderFill:n(w,"renderFill",!1),renderLine:n(w,"renderLine",!0),fillColor:n(w,"fillColor",1075465),fillOpacity:n(w,"fillOpacity",1),lineColor:n(w,"lineColor",2678297),lineOpacity:n(w,"lineOpacity",1),lineThickness:n(w,"lineThickness",1),staticFillColor:n(w,"staticFillColor",857979),staticLineColor:n(w,"staticLineColor",1255396),showSleeping:n(w,"showSleeping",!1),staticBodySleepOpacity:n(w,"staticBodySleepOpacity",.7),sleepFillColor:n(w,"sleepFillColor",4605510),sleepLineColor:n(w,"sleepLineColor",10066585),showSensors:n(w,"showSensors",!0),sensorFillColor:n(w,"sensorFillColor",857979),sensorLineColor:n(w,"sensorLineColor",1255396),showPositions:n(w,"showPositions",!0),positionSize:n(w,"positionSize",4),positionColor:n(w,"positionColor",14697178),showJoint:n(w,"showJoint",!0),jointColor:n(w,"jointColor",14737474),jointLineOpacity:n(w,"jointLineOpacity",1),jointLineThickness:n(w,"jointLineThickness",2),pinSize:n(w,"pinSize",4),pinColor:n(w,"pinColor",4382944),springColor:n(w,"springColor",14697184),anchorColor:n(w,"anchorColor",15724527),anchorSize:n(w,"anchorSize",4),showConvexHulls:n(w,"showConvexHulls",!1),hullColor:n(w,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),n(T,"setBounds",!1)){var z=T.setBounds;if(typeof z=="boolean")this.setBounds();else{var H=n(z,"x",0),b=n(z,"y",0),Q=n(z,"width",y.sys.scale.width),D=n(z,"height",y.sys.scale.height),F=n(z,"thickness",64),G=n(z,"left",!0),N=n(z,"right",!0),X=n(z,"top",!0),V=n(z,"bottom",!0);this.setBounds(H,b,Q,D,F,G,N,X,V)}}},setCompositeRenderStyle:function(x){var y=x.bodies,T=x.constraints,E=x.composites,R,M,P;for(R=0;R<y.length;R++)M=y[R],P=M.render,this.setBodyRenderStyle(M,P.lineColor,P.lineOpacity,P.lineThickness,P.fillColor,P.fillOpacity);for(R=0;R<T.length;R++)M=T[R],P=M.render,this.setConstraintRenderStyle(M,P.lineColor,P.lineOpacity,P.lineThickness,P.pinSize,P.anchorColor,P.anchorSize);for(R=0;R<E.length;R++)M=E[R],this.setCompositeRenderStyle(M);return this},setBodyRenderStyle:function(x,y,T,E,R,M){var P=x.render,O=this.debugConfig;return P?(y==null&&(y=x.isStatic?O.staticLineColor:O.lineColor),T==null&&(T=O.lineOpacity),E==null&&(E=O.lineThickness),R==null&&(R=x.isStatic?O.staticFillColor:O.fillColor),M==null&&(M=O.fillOpacity),y!==!1&&(P.lineColor=y),T!==!1&&(P.lineOpacity=T),E!==!1&&(P.lineThickness=E),R!==!1&&(P.fillColor=R),M!==!1&&(P.fillOpacity=M),this):this},setConstraintRenderStyle:function(x,y,T,E,R,M,P){var O=x.render,I=this.debugConfig;if(!O)return this;if(y==null){var B=O.type;B==="line"?y=I.jointColor:B==="pin"?y=I.pinColor:B==="spring"&&(y=I.springColor)}return T==null&&(T=I.jointLineOpacity),E==null&&(E=I.jointLineThickness),R==null&&(R=I.pinSize),M==null&&(M=I.anchorColor),P==null&&(P=I.anchorSize),y!==!1&&(O.lineColor=y),T!==!1&&(O.lineOpacity=T),E!==!1&&(O.lineThickness=E),R!==!1&&(O.pinSize=R),M!==!1&&(O.anchorColor=M),P!==!1&&(O.anchorSize=P),this},setEventsProxy:function(){var x=this,y=this.engine,T=this.localWorld;this.drawDebug&&(v.on(T,"compositeModified",function(E){x.setCompositeRenderStyle(E)}),v.on(T,"beforeAdd",function(E){for(var R=[].concat(E.object),M=0;M<R.length;M++){var P=R[M],O=P.render;P.type==="body"?x.setBodyRenderStyle(P,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity):P.type==="composite"?x.setCompositeRenderStyle(P):P.type==="constraint"&&x.setConstraintRenderStyle(P,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize)}})),v.on(T,"beforeAdd",function(E){x.emit(l.BEFORE_ADD,E)}),v.on(T,"afterAdd",function(E){x.emit(l.AFTER_ADD,E)}),v.on(T,"beforeRemove",function(E){x.emit(l.BEFORE_REMOVE,E)}),v.on(T,"afterRemove",function(E){x.emit(l.AFTER_REMOVE,E)}),v.on(y,"beforeUpdate",function(E){x.emit(l.BEFORE_UPDATE,E)}),v.on(y,"afterUpdate",function(E){x.emit(l.AFTER_UPDATE,E)}),v.on(y,"collisionStart",function(E){var R=E.pairs,M,P;R.length>0&&(M=R[0].bodyA,P=R[0].bodyB),x.emit(l.COLLISION_START,E,M,P)}),v.on(y,"collisionActive",function(E){var R=E.pairs,M,P;R.length>0&&(M=R[0].bodyA,P=R[0].bodyB),x.emit(l.COLLISION_ACTIVE,E,M,P)}),v.on(y,"collisionEnd",function(E){var R=E.pairs,M,P;R.length>0&&(M=R[0].bodyA,P=R[0].bodyB),x.emit(l.COLLISION_END,E,M,P)})},setBounds:function(x,y,T,E,R,M,P,O,I){return x===void 0&&(x=0),y===void 0&&(y=0),T===void 0&&(T=this.scene.sys.scale.width),E===void 0&&(E=this.scene.sys.scale.height),R===void 0&&(R=64),M===void 0&&(M=!0),P===void 0&&(P=!0),O===void 0&&(O=!0),I===void 0&&(I=!0),this.updateWall(M,"left",x-R,y-R,R,E+R*2),this.updateWall(P,"right",x+T,y-R,R,E+R*2),this.updateWall(O,"top",x,y-R,T,R),this.updateWall(I,"bottom",x,y+E,T,R),this},updateWall:function(x,y,T,E,R,M){var P=this.walls[y];x?(P&&c.remove(this.localWorld,P),T+=R/2,E+=M/2,this.walls[y]=this.create(T,E,R,M,{isStatic:!0,friction:0,frictionStatic:0})):(P&&c.remove(this.localWorld,P),this.walls[y]=null)},createDebugGraphic:function(){var x=this.scene.sys.add.graphics({x:0,y:0});return x.setDepth(Number.MAX_VALUE),this.debugGraphic=x,this.drawDebug=!0,x},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(x,y,T){return x===void 0&&(x=0),y===void 0&&(y=1),this.localWorld.gravity.x=x,this.localWorld.gravity.y=y,T!==void 0&&(this.localWorld.gravity.scale=T),this},create:function(x,y,T,E,R){var M=e.rectangle(x,y,T,E,R);return c.add(this.localWorld,M),M},add:function(x){return c.add(this.localWorld,x),this},remove:function(x,y){Array.isArray(x)||(x=[x]);for(var T=0;T<x.length;T++){var E=x[T],R=E.body?E.body:E;s.remove(this.localWorld,R,y)}return this},removeConstraint:function(x,y){return s.remove(this.localWorld,x,y),this},convertTilemapLayer:function(x,y){var T=x.layer,E=x.getTilesWithin(0,0,T.width,T.height,{isColliding:!0});return this.convertTiles(E,y),this},convertTiles:function(x,y){if(x.length===0)return this;for(var T=0;T<x.length;T++)new f(this,x[T],y);return this},nextGroup:function(x){return u.nextGroup(x)},nextCategory:function(){return u.nextCategory()},pause:function(){return this.enabled=!1,this.emit(l.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(l.RESUME),this},update:function(x,y){if(!(!this.enabled||!this.autoUpdate)){var T=this.engine,E=this.runner,R=T.timing,M=this.correction;E.isFixed?y=this.getDelta(x,y):(y=x-E.timePrev||E.delta,E.timePrev=x,E.deltaHistory.push(y),E.deltaHistory=E.deltaHistory.slice(-E.deltaSampleSize),y=Math.min.apply(null,E.deltaHistory),y=y<E.deltaMin?E.deltaMin:y,y=y>E.deltaMax?E.deltaMax:y,M=y/E.delta,E.delta=y),E.timeScalePrev!==0&&(M*=R.timeScale/E.timeScalePrev),R.timeScale===0&&(M=0),E.timeScalePrev=R.timeScale,E.correction=M,E.frameCounter+=1,x-E.counterTimestamp>=1e3&&(E.fps=E.frameCounter*((x-E.counterTimestamp)/1e3),E.counterTimestamp=x,E.frameCounter=0),i.update(T,y,M)}},step:function(x,y){i.update(this.engine,x,y)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(x){var y=x.hasOwnProperty("body")?x.body:x;return s.get(this.localWorld,y.id,y.type)!==null},getAllBodies:function(){return s.allBodies(this.localWorld)},getAllConstraints:function(){return s.allConstraints(this.localWorld)},getAllComposites:function(){return s.allComposites(this.localWorld)},postUpdate:function(){if(!!this.drawDebug){var x=this.debugConfig,y=this.engine,T=this.debugGraphic,E=s.allBodies(this.localWorld);this.debugGraphic.clear(),x.showBroadphase&&y.broadphase.controller&&this.renderGrid(y.broadphase,T,x.broadphaseColor,.5),x.showBounds&&this.renderBodyBounds(E,T,x.boundsColor,.5),(x.showBody||x.showStaticBody)&&this.renderBodies(E),x.showJoint&&this.renderJoints(),(x.showAxes||x.showAngleIndicator)&&this.renderBodyAxes(E,T,x.showAxes,x.angleColor,.5),x.showVelocity&&this.renderBodyVelocity(E,T,x.velocityColor,1,2),x.showSeparations&&this.renderSeparations(y.pairs.list,T,x.separationColor),x.showCollisions&&this.renderCollisions(y.pairs.list,T,x.collisionColor)}},renderGrid:function(x,y,T,E){y.lineStyle(1,T,E);for(var R=a.keys(x.buckets),M=0;M<R.length;M++){var P=R[M];if(!(x.buckets[P].length<2)){var O=P.split(/C|R/);y.strokeRect(parseInt(O[1],10)*x.bucketWidth,parseInt(O[2],10)*x.bucketHeight,x.bucketWidth,x.bucketHeight)}}return this},renderSeparations:function(x,y,T){y.lineStyle(1,T,1);for(var E=0;E<x.length;E++){var R=x[E];if(!!R.isActive){var M=R.collision,P=M.bodyA,O=M.bodyB,I=P.position,B=O.position,w=M.penetration,z=!P.isStatic&&!O.isStatic?4:1;O.isStatic&&(z=0),y.lineBetween(B.x,B.y,B.x-w.x*z,B.y-w.y*z),z=!P.isStatic&&!O.isStatic?4:1,P.isStatic&&(z=0),y.lineBetween(I.x,I.y,I.x-w.x*z,I.y-w.y*z)}}return this},renderCollisions:function(x,y,T){y.lineStyle(1,T,.5),y.fillStyle(T,1);var E,R;for(E=0;E<x.length;E++)if(R=x[E],!!R.isActive)for(var M=0;M<R.activeContacts.length;M++){var P=R.activeContacts[M],O=P.vertex;y.fillRect(O.x-2,O.y-2,5,5)}for(E=0;E<x.length;E++)if(R=x[E],!!R.isActive){var I=R.collision,B=R.activeContacts;if(B.length>0){var w=B[0].vertex.x,z=B[0].vertex.y;B.length===2&&(w=(B[0].vertex.x+B[1].vertex.x)/2,z=(B[0].vertex.y+B[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic?y.lineBetween(w-I.normal.x*8,z-I.normal.y*8,w,z):y.lineBetween(w+I.normal.x*8,z+I.normal.y*8,w,z)}}return this},renderBodyBounds:function(x,y,T,E){y.lineStyle(1,T,E);for(var R=0;R<x.length;R++){var M=x[R];if(!!M.render.visible){var P=M.bounds;if(P)y.strokeRect(P.min.x,P.min.y,P.max.x-P.min.x,P.max.y-P.min.y);else for(var O=M.parts,I=O.length>1?1:0;I<O.length;I++){var B=O[I];y.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(x,y,T,E,R){y.lineStyle(1,E,R);for(var M=0;M<x.length;M++){var P=x[M],O=P.parts;if(!!P.render.visible){var I,B,w;if(T)for(B=O.length>1?1:0;B<O.length;B++)for(I=O[B],w=0;w<I.axes.length;w++){var z=I.axes[w];y.lineBetween(I.position.x,I.position.y,I.position.x+z.x*20,I.position.y+z.y*20)}else for(B=O.length>1?1:0;B<O.length;B++)for(I=O[B],w=0;w<I.axes.length;w++)y.lineBetween(I.position.x,I.position.y,(I.vertices[0].x+I.vertices[I.vertices.length-1].x)/2,(I.vertices[0].y+I.vertices[I.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(x,y,T,E,R){y.lineStyle(R,T,E);for(var M=0;M<x.length;M++){var P=x[M];!P.render.visible||y.lineBetween(P.position.x,P.position.y,P.position.x+(P.position.x-P.positionPrev.x)*2,P.position.y+(P.position.y-P.positionPrev.y)*2)}return this},renderBodies:function(x){for(var y=this.debugGraphic,T=this.debugConfig,E=T.showBody,R=T.showStaticBody,M=T.showSleeping,P=T.showInternalEdges,O=T.showConvexHulls,I=T.renderFill,B=T.renderLine,w=T.staticBodySleepOpacity,z=T.sleepFillColor,H=T.sleepLineColor,b=T.hullColor,Q=0;Q<x.length;Q++){var D=x[Q];if(!!D.render.visible&&!(!R&&D.isStatic||!E&&!D.isStatic)){var F=D.render.lineColor,G=D.render.lineOpacity,N=D.render.lineThickness,X=D.render.fillColor,V=D.render.fillOpacity;M&&D.isSleeping&&(D.isStatic?(G*=w,V*=w):(F=H,X=z)),I||(X=null),B||(F=null),this.renderBody(D,y,P,F,G,N,X,V);var W=D.parts.length;O&&W>1&&this.renderConvexHull(D,y,b,N)}}},renderBody:function(x,y,T,E,R,M,P,O){E===void 0&&(E=null),R===void 0&&(R=null),M===void 0&&(M=1),P===void 0&&(P=null),O===void 0&&(O=null);for(var I=this.debugConfig,B=I.sensorFillColor,w=I.sensorLineColor,z=x.parts,H=z.length,b=H>1?1:0;b<H;b++){var Q=z[b],D=Q.render,F=D.opacity;if(!(!D.visible||F===0||Q.isSensor&&!I.showSensors)){var G=Q.circleRadius;if(y.beginPath(),Q.isSensor?(P!==null&&y.fillStyle(B,O*F),E!==null&&y.lineStyle(M,w,R*F)):(P!==null&&y.fillStyle(P,O*F),E!==null&&y.lineStyle(M,E,R*F)),G)y.arc(Q.position.x,Q.position.y,G,0,2*Math.PI);else{var N=Q.vertices,X=N.length;y.moveTo(N[0].x,N[0].y);for(var V=1;V<X;V++){var W=N[V];if(!N[V-1].isInternal||T?y.lineTo(W.x,W.y):y.moveTo(W.x,W.y),V<X&&W.isInternal&&!T){var Z=(V+1)%X;y.moveTo(N[Z].x,N[Z].y)}}y.closePath()}P!==null&&y.fillPath(),E!==null&&y.strokePath()}}if(I.showPositions&&!x.isStatic){var et=x.position.x,it=x.position.y,ht=Math.ceil(I.positionSize/2);y.fillStyle(I.positionColor,1),y.fillRect(et-ht,it-ht,I.positionSize,I.positionSize)}return this},renderConvexHull:function(x,y,T,E){E===void 0&&(E=1);var R=x.parts,M=R.length;if(M>1){var P=x.vertices;y.lineStyle(E,T),y.beginPath(),y.moveTo(P[0].x,P[0].y);for(var O=1;O<P.length;O++)y.lineTo(P[O].x,P[O].y);y.lineTo(P[0].x,P[0].y),y.strokePath()}return this},renderJoints:function(){for(var x=this.debugGraphic,y=s.allConstraints(this.localWorld),T=0;T<y.length;T++){var E=y[T].render,R=E.lineColor,M=E.lineOpacity,P=E.lineThickness,O=E.pinSize,I=E.anchorColor,B=E.anchorSize;this.renderConstraint(y[T],x,R,M,P,O,I,B)}},renderConstraint:function(x,y,T,E,R,M,P,O){var I=x.render;if(!I.visible||!x.pointA||!x.pointB)return this;y.lineStyle(R,T,E);var B=x.bodyA,w=x.bodyB,z,H;if(B?z=g.add(B.position,x.pointA):z=x.pointA,I.type==="pin")y.strokeCircle(z.x,z.y,M);else{if(w?H=g.add(w.position,x.pointB):H=x.pointB,y.beginPath(),y.moveTo(z.x,z.y),I.type==="spring")for(var b=g.sub(H,z),Q=g.perp(g.normalise(b)),D=Math.ceil(a.clamp(x.length/5,12,20)),F,G=1;G<D;G+=1)F=G%2===0?1:-1,y.lineTo(z.x+b.x*(G/D)+Q.x*F*4,z.y+b.y*(G/D)+Q.y*F*4);y.lineTo(H.x,H.y)}return y.strokePath(),I.anchors&&O>0&&(y.fillStyle(P),y.fillCircle(z.x,z.y,O),y.fillCircle(H.x,H.y,O)),this},resetCollisionIDs:function(){return d._nextCollidingGroupId=1,d._nextNonCollidingGroupId=-1,d._nextCategory=1,this},shutdown:function(){v.off(this.engine),this.removeAllListeners(),c.clear(this.localWorld,!1),i.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});p.exports=m},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BasePlugin:t(540),DefaultPlugins:t(197),PluginCache:t(24),PluginManager:t(414),ScenePlugin:t(1404)}},function(p,C,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(540),d=t(0),o=t(20),a=new d({Extends:e,initialize:function(i,r,l){e.call(this,r),this.scene=i,this.systems=i.sys,this.pluginKey=l,i.sys.events.once(o.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(1406),Events:t(91),Snapshot:t(1407),WebGL:t(1408)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={CanvasRenderer:t(368),GetBlendModes:t(370),SetTransform:t(30)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Canvas:t(369),WebGL:t(383)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(107),d=t(17),o={PipelineManager:t(372),Pipelines:t(1409),RenderTarget:t(141),Utils:t(12),WebGLPipeline:t(58),WebGLRenderer:t(371),WebGLShader:t(375)};o=d(!1,o,e),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(92),d=t(17),o={BitmapMaskPipeline:t(373),Events:t(374),GraphicsPipeline:t(376),LightPipeline:t(377),MultiPipeline:t(108),PointLightPipeline:t(378),PostFXPipeline:t(1410),RopePipeline:t(379),SinglePipeline:t(380),UtilityPipeline:t(381)};o=d(!1,o,e),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(198),o=t(2),a=t(1411),s=t(382),i=t(58),r=new e({Extends:i,initialize:function(n){n.renderTarget=o(n,"renderTarget",1),n.fragShader=o(n,"fragShader",a),n.vertShader=o(n,"vertShader",s),n.attributes=o(n,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),n.batchSize=1,n.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],i.call(this,n),this.isPostFX=!0,this.gameObject,this.colorMatrix=new d,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){i.prototype.boot.call(this);var l=this.manager.UTILITY_PIPELINE;this.fullFrame1=l.fullFrame1,this.fullFrame2=l.fullFrame2,this.halfFrame1=l.halfFrame1,this.halfFrame2=l.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(l){this.bindAndDraw(l)},copyFrame:function(l,n,h,u,v){this.manager.copyFrame(l,n,h,u,v)},copyToGame:function(l){this.manager.copyToGame(l)},drawFrame:function(l,n,h){this.manager.drawFrame(l,n,h,this.colorMatrix)},blendFrames:function(l,n,h,u,v){this.manager.blendFrames(l,n,h,u,v)},blendFramesAdditive:function(l,n,h,u,v){this.manager.blendFramesAdditive(l,n,h,u,v)},clearFrame:function(l,n){this.manager.clearFrame(l,n)},blitFrame:function(l,n,h,u,v,f){this.manager.blitFrame(l,n,h,u,v,f)},copyFrameRect:function(l,n,h,u,v,f,c,g){this.manager.copyFrameRect(l,n,h,u,v,f,c,g)},bindAndDraw:function(l,n,h,u,v){h===void 0&&(h=!0),u===void 0&&(u=!0);var f=this.gl,c=this.renderer;this.bind(v),this.set1i("uMainSampler",0),n?(f.viewport(0,0,n.width,n.height),f.bindFramebuffer(f.FRAMEBUFFER,n.framebuffer),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,n.texture,0),h&&(u?f.clearColor(0,0,0,0):f.clearColor(0,0,0,1),f.clear(f.COLOR_BUFFER_BIT))):(c.popFramebuffer(!1,!1,!1),c.currentFramebuffer||f.viewport(0,0,c.width,c.height)),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,l.texture),f.bufferData(f.ARRAY_BUFFER,this.vertexData,f.STATIC_DRAW),f.drawArrays(f.TRIANGLES,0,6),n?(f.bindTexture(f.TEXTURE_2D,null),f.bindFramebuffer(f.FRAMEBUFFER,null)):c.resetTextures()}});p.exports=r},function(p,C){p.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join(`
`)},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),d=t(201),o={Center:t(403),Events:t(104),Orientation:t(404),ScaleManager:t(415),ScaleModes:t(405),Zoom:t(406)};o=e(!1,o,d.CENTER),o=e(!1,o,d.ORIENTATION),o=e(!1,o,d.SCALE_MODE),o=e(!1,o,d.ZOOM),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),d=t(17),o={Events:t(20),GetPhysicsPlugins:t(419),GetScenePlugins:t(420),SceneManager:t(417),ScenePlugin:t(1414),Settings:t(421),Systems:t(204)};o=d(!1,o,e),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),d=t(0),o=t(20),a=t(2),s=t(24),i=new d({initialize:function(l){this.scene=l,this.systems=l.sys,this.settings=l.sys.settings,this.key=l.sys.settings.key,this.manager=l.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.pluginStart,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(o.SHUTDOWN,this.shutdown,this)},start:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",r,l),this},restart:function(r){var l=this.key;return this.manager.queueOp("stop",l),this.manager.queueOp("start",l,r),this},transition:function(r){r===void 0&&(r={});var l=a(r,"target",!1),n=this.manager.getScene(l);if(!l||!this.checkValidTransition(n))return!1;var h=a(r,"duration",1e3);this._elapsed=0,this._target=n,this._duration=h,this._willSleep=a(r,"sleep",!1),this._willRemove=a(r,"remove",!1);var u=a(r,"onUpdate",null);u&&(this._onUpdate=u,this._onUpdateScope=a(r,"onUpdateScope",this.scene));var v=a(r,"allowInput",!1);this.settings.transitionAllowInput=v;var f=n.sys.settings;return f.isTransition=!0,f.transitionFrom=this.scene,f.transitionDuration=h,f.transitionAllowInput=v,a(r,"moveAbove",!1)?this.manager.moveAbove(this.key,l):a(r,"moveBelow",!1)&&this.manager.moveBelow(this.key,l),n.sys.isSleeping()?n.sys.wake(a(r,"data")):this.manager.start(l,a(r,"data")),this.systems.events.emit(o.TRANSITION_OUT,n,h),this.systems.events.on(o.UPDATE,this.step,this),!0},checkValidTransition:function(r){return!(!r||r.sys.isActive()||r.sys.isTransitioning()||r===this.scene||this.systems.isTransitioning())},step:function(r,l){this._elapsed+=l,this.transitionProgress=e(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var r=this._target.sys,l=this._target.sys.settings;this.systems.events.off(o.UPDATE,this.step,this),r.events.emit(o.TRANSITION_COMPLETE,this.scene),l.isTransition=!1,l.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(r,l,n,h){return this.manager.add(r,l,n,h)},launch:function(r,l){return r&&r!==this.key&&this.manager.queueOp("start",r,l),this},run:function(r,l){return r&&r!==this.key&&this.manager.queueOp("run",r,l),this},pause:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("pause",r,l),this},resume:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("resume",r,l),this},sleep:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("sleep",r,l),this},wake:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("wake",r,l),this},switch:function(r){return r!==this.key&&this.manager.queueOp("switch",this.key,r),this},stop:function(r,l){return r===void 0&&(r=this.key),this.manager.queueOp("stop",r,l),this},setActive:function(r,l,n){l===void 0&&(l=this.key);var h=this.manager.getScene(l);return h&&h.sys.setActive(r,n),this},setVisible:function(r,l){l===void 0&&(l=this.key);var n=this.manager.getScene(l);return n&&n.sys.setVisible(r),this},isSleeping:function(r){return r===void 0&&(r=this.key),this.manager.isSleeping(r)},isActive:function(r){return r===void 0&&(r=this.key),this.manager.isActive(r)},isPaused:function(r){return r===void 0&&(r=this.key),this.manager.isPaused(r)},isVisible:function(r){return r===void 0&&(r=this.key),this.manager.isVisible(r)},swapPosition:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.swapPosition(r,l),this},moveAbove:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.moveAbove(r,l),this},moveBelow:function(r,l){return l===void 0&&(l=this.key),r!==l&&this.manager.moveBelow(r,l),this},remove:function(r){return r===void 0&&(r=this.key),this.manager.remove(r),this},moveUp:function(r){return r===void 0&&(r=this.key),this.manager.moveUp(r),this},moveDown:function(r){return r===void 0&&(r=this.key),this.manager.moveDown(r),this},bringToTop:function(r){return r===void 0&&(r=this.key),this.manager.bringToTop(r),this},sendToBack:function(r){return r===void 0&&(r=this.key),this.manager.sendToBack(r),this},get:function(r){return this.manager.getScene(r)},getIndex:function(r){return r===void 0&&(r=this.key),this.manager.getIndex(r)},shutdown:function(){var r=this.systems.events;r.off(o.SHUTDOWN,this.shutdown,this),r.off(o.POST_UPDATE,this.step,this),r.off(o.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});s.register("ScenePlugin",i,"scenePlugin"),p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Events:t(438),List:t(110),Map:t(102),ProcessQueue:t(211),RTree:t(531),Set:t(149),Size:t(416)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),d=t(1417),o={CanvasTexture:t(423),Events:t(106),FilterMode:d,Frame:t(109),Parsers:t(425),Texture:t(206),TextureManager:t(422),TextureSource:t(424)};o=e(!1,o,d),p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LINEAR:0,NEAREST:1};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),d=t(1419),o={Components:t(251),Parsers:t(1452),Formats:t(40),ImageCollection:t(576),ParseToTilemap:t(262),Tile:t(85),Tilemap:t(580),TilemapCreator:t(1459),TilemapFactory:t(1460),Tileset:t(122),TilemapLayer:t(581),Orientation:t(29),LayerData:t(120),MapData:t(121),ObjectLayer:t(572)};o=e(!1,o,d.ORIENTATION),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ORIENTATION:t(29)};p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=t(63),o=function(a,s,i,r,l,n,h,u){h===void 0&&(h=!0),a<0&&(a=0),s<0&&(s=0);for(var v=e(a,s,i,r,null,u),f=l-a,c=n-s,g=0;g<v.length;g++){var m=v[g].x+f,x=v[g].y+c;m>=0&&m<u.width&&x>=0&&x<u.height&&u.data[x][m]&&u.data[x][m].copy(v[g])}h&&d(l-1,n-1,i+2,r+2,u)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=t(542),o=function(a,s,i,r,l,n){i||(i={}),Array.isArray(a)||(a=[a]);var h=n.tilemapLayer;r||(r=h.scene),l||(l=r.cameras.main);var u=e(0,0,n.width,n.height,null,n),v=[],f;for(f=0;f<u.length;f++){var c=u[f];if(a.indexOf(c.index)!==-1){var g=h.tileToWorldXY(c.x,c.y,void 0,l,n);i.x=g.x,i.y=g.y,v.push(r.make.sprite(i))}}if(typeof s=="number")for(f=0;f<a.length;f++)d(a[f],s,0,0,n.width,n.height,n);else if(Array.isArray(s))for(f=0;f<a.length;f++)d(a[f],s[f],0,0,n.width,n.height,n);return v};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=t(63),o=t(72),a=function(s,i,r,l,n,h,u){for(var v=u.collideIndexes.indexOf(s)!==-1,f=e(i,r,l,n,null,u),c=0;c<f.length;c++)f[c].index=s,o(f[c],v);h&&d(i-1,r-1,l+2,n+2,u)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=function(o,a,s,i,r,l,n,h){var u=e(s,i,r,l,n,h);return u.filter(o,a)};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){d===void 0&&(d=0),o===void 0&&(o=!1);var s=0,i,r,l;if(o){for(r=a.height-1;r>=0;r--)for(i=a.width-1;i>=0;i--)if(l=a.data[r][i],l&&l.index===e){if(s===d)return l;s+=1}}else for(r=0;r<a.height;r++)for(i=0;i<a.width;i++)if(l=a.data[r][i],l&&l.index===e){if(s===d)return l;s+=1}return null};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=function(o,a,s,i,r,l,n,h){var u=e(s,i,r,l,n,h);return u.find(o,a)||null};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=function(o,a,s,i,r,l,n,h){var u=e(s,i,r,l,n,h);u.forEach(o,a)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),d=t(544),o=t(545),a=t(547),s=t(1),i=t(548),r=function(l){return l===e.ORTHOGONAL?d:l===e.HEXAGONAL?o:l===e.STAGGERED?i:l===e.ISOMETRIC?a:s};p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),d=t(3),o=new d,a=function(s,i,r,l,n){return n.tilemapLayer.worldToTileXY(s,i,!0,o,l),e(o.x,o.y,r,n)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(483),d=t(26),o=t(484),a=t(1),s=t(3),i=function(u,v){return o.RectangleToTriangle(v,u)},r=new s,l=new s,n=new s,h=function(u,v,f,c){if(u===void 0)return[];var g=a;u instanceof e.Circle?g=o.CircleToRectangle:u instanceof e.Rectangle?g=o.RectangleToRectangle:u instanceof e.Triangle?g=i:u instanceof e.Line&&(g=o.LineToRectangle),c.tilemapLayer.worldToTileXY(u.left,u.top,!0,l,f);var m=l.x,x=l.y;c.tilemapLayer.worldToTileXY(u.right,u.bottom,!0,n,f);var y=Math.ceil(n.x),T=Math.ceil(n.y),E=Math.max(y-m,1),R=Math.max(T-x,1),M=d(m,x,E,R,v,c),P=c.tileWidth,O=c.tileHeight;c.tilemapLayer&&(P*=c.tilemapLayer.scaleX,O*=c.tilemapLayer.scaleY);for(var I=[],B=new e.Rectangle(0,0,P,O),w=0;w<M.length;w++){var z=M[w];c.tilemapLayer.tileToWorldXY(z.x,z.y,r,f),B.x=r.x,B.y=r.y,g(u,B)&&I.push(z)}return I};p.exports=h},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),d=t(1),o=t(253),a=function(s){return s===e.ORTHOGONAL?o:d};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),d=t(550),o=t(551),a=t(1),s=t(552),i=t(553),r=function(l){return l===e.ORTHOGONAL?i:l===e.ISOMETRIC?o:l===e.HEXAGONAL?d:l===e.STAGGERED?s:a};p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),d=t(554),o=t(1),a=t(555),s=t(254),i=function(r){return r===e.ORTHOGONAL?s:r===e.HEXAGONAL?d:r===e.STAGGERED?a:o};p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),d=t(1),o=t(255),a=function(s){return s===e.ORTHOGONAL?o:d};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),d=t(556),o=t(557),a=t(1),s=t(558),i=t(559),r=function(l){return l===e.ORTHOGONAL?i:l===e.ISOMETRIC?o:l===e.HEXAGONAL?d:l===e.STAGGERED?s:a};p.exports=r},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),d=t(560),o=t(1),a=t(561),s=t(256),i=function(r){return r===e.ORTHOGONAL?s:r===e.HEXAGONAL?d:r===e.STAGGERED?a:o};p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(562),d=t(3),o=new d,a=function(s,i,r,l){l.tilemapLayer.worldToTileXY(s,i,!0,o,r);var n=o.x,h=o.y;return e(n,h,l)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(257),d=t(3),o=new d,a=function(s,i,r,l,n,h){return h.tilemapLayer.worldToTileXY(i,r,!0,o,n,h),e(s,o.x,o.y,l,h)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(63),d=t(257),o=function(a,s,i,r,l){if(r===void 0&&(r=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var n=a.length,h=a[0].length,u=0;u<n;u++)for(var v=0;v<h;v++){var f=a[u][v];d(f,s+v,i+u,!1,l)}r&&e(s-1,i-1,h+2,n+2,l)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=t(210),o=function(a,s,i,r,l,n){var h,u=e(a,s,i,r,{},n);if(!l)for(l=[],h=0;h<u.length;h++)l.indexOf(u[h].index)===-1&&l.push(u[h].index);for(h=0;h<u.length;h++)u[h].index=d(l)};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(563),d=t(3),o=new d,a=function(s,i,r,l,n,h){return h.tilemapLayer.worldToTileXY(s,i,!0,o,n,h),e(o.x,o.y,r,l,h)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=t(397),o=new d(105,210,231,150),a=new d(243,134,48,200),s=new d(40,39,37,150),i=function(r,l,n){l===void 0&&(l={});var h=l.tileColor!==void 0?l.tileColor:o,u=l.collidingTileColor!==void 0?l.collidingTileColor:a,v=l.faceColor!==void 0?l.faceColor:s,f=e(0,0,n.width,n.height,null,n);r.translateCanvas(n.tilemapLayer.x,n.tilemapLayer.y),r.scaleCanvas(n.tilemapLayer.scaleX,n.tilemapLayer.scaleY);for(var c=0;c<f.length;c++){var g=f[c],m=g.width,x=g.height,y=g.pixelX,T=g.pixelY,E=g.collides?u:h;E!==null&&(r.fillStyle(E.color,E.alpha/255),r.fillRect(y,T,m,x)),y+=1,T+=1,m-=2,x-=2,v!==null&&(r.lineStyle(1,v.color,v.alpha/255),g.faceTop&&r.lineBetween(y,T,y+m,T),g.faceRight&&r.lineBetween(y+m,T,y+m,T+x),g.faceBottom&&r.lineBetween(y,T+x,y+m,T+x),g.faceLeft&&r.lineBetween(y,T,y,T+x))}};p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),d=t(63),o=t(160),a=function(s,i,r,l,n){i===void 0&&(i=!0),r===void 0&&(r=!0),n===void 0&&(n=!0),Array.isArray(s)||(s=[s]);for(var h=0;h<s.length;h++)o(s[h],i,l);if(n)for(var u=0;u<l.height;u++)for(var v=0;v<l.width;v++){var f=l.data[u][v];f&&s.indexOf(f.index)!==-1&&e(f,i)}r&&d(0,0,l.width,l.height,l)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),d=t(63),o=t(160),a=function(s,i,r,l,n,h){if(r===void 0&&(r=!0),l===void 0&&(l=!0),h===void 0&&(h=!0),!(s>i)){for(var u=s;u<=i;u++)o(u,r,n);if(h)for(var v=0;v<n.height;v++)for(var f=0;f<n.width;f++){var c=n.data[v][f];c&&c.index>=s&&c.index<=i&&e(c,r)}l&&d(0,0,n.width,n.height,n)}};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),d=t(63),o=t(160),a=function(s,i,r,l){i===void 0&&(i=!0),r===void 0&&(r=!0),Array.isArray(s)||(s=[s]);for(var n=0;n<l.height;n++)for(var h=0;h<l.width;h++){var u=l.data[n][h];u&&s.indexOf(u.index)===-1&&(e(u,i),o(u.index,i,l))}r&&d(0,0,l.width,l.height,l)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),d=t(63),o=t(126),a=function(s,i,r,l){i===void 0&&(i=!0),r===void 0&&(r=!0);for(var n=0;n<l.height;n++)for(var h=0;h<l.width;h++){var u=l.data[n][h];if(!!u){for(var v in s)if(!!o(u.properties,v)){var f=s[v];Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++)u.properties[v]===f[c]&&e(u,i)}}}r&&d(0,0,l.width,l.height,l)};p.exports=a},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),d=t(63),o=function(a,s,i){a===void 0&&(a=!0),s===void 0&&(s=!0);for(var r=0;r<i.height;r++)for(var l=0;l<i.width;l++){var n=i.data[r][l];if(!!n){var h=n.getCollisionGroup();h&&h.objects&&h.objects.length>0&&e(n,a)}}s&&d(0,0,i.width,i.height,i)};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d,o,a){if(typeof e=="number")a.callbacks[e]=d!==null?{callback:d,callbackContext:o}:void 0;else for(var s=0,i=e.length;s<i;s++)a.callbacks[e[s]]=d!==null?{callback:d,callbackContext:o}:void 0};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=function(o,a,s,i,r,l,n){for(var h=e(o,a,s,i,null,n),u=0;u<h.length;u++)h[u].setCollisionCallback(r,l)};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=t(131),o=function(a,s,i,r,l){var n=e(a,s,i,r,null,l),h=n.map(function(v){return v.index});d(h);for(var u=0;u<n.length;u++)n[u].index=h[u]};p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=function(o,a,s,i,r,l,n){for(var h=e(s,i,r,l,null,n),u=0;u<h.length;u++)h[u]&&(h[u].index===o?h[u].index=a:h[u].index===a&&(h[u].index=o))};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),d=function(o,a,s,i,r,l){if(!!r){var n,h=e(o,a,s,i,null,l),u=0;for(n=0;n<r.length;n++)u+=r[n].weight;if(!(u<=0))for(n=0;n<h.length;n++){for(var v=Math.random()*u,f=0,c=-1,g=0;g<r.length;g++)if(f+=r[g].weight,v<=f){var m=r[g].index;c=Array.isArray(m)?m[Math.floor(Math.random()*m.length)]:m;break}h[n].index=c}}};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={FromOrientationString:t(258),Parse:t(564),Parse2DArray:t(259),ParseCSV:t(565),Impact:t(1454),Tiled:t(1455)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){for(var o=0;o<e.length;o++){var a=e[o],s=o;if(a.name&&a.name!==""&&(s=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var i={},r={},l,n,h;if(Array.isArray(a.edgecolors))for(l=0;l<a.edgecolors.length;l++)h=1+l,n=a.edgecolors[l],n.name!==""&&(i[h]=n.name);if(Array.isArray(a.cornercolors))for(l=0;l<a.cornercolors.length;l++)h=1+l,n=a.cornercolors[l],n.name!==""&&(r[h]=n.name);if(Array.isArray(a.colors))for(l=0;l<a.colors.length;l++)n=a.colors[l],h=1+l,n.name!==""&&(i[h]=r[h]=n.name);for(var u=[i,r,i,r,i,r,i,r],v=0;v<a.wangtiles.length;v++){var f=a.wangtiles[v],c=d[f.tileid]||(d[f.tileid]={});c=c.wangid||(c.wangid={});for(var g=[],m=0;m<Math.min(u.length,f.wangid.length);m++){if(n=f.wangid[m],n===0){g.push(void 0);continue}var x=u[m][n];if(x!==void 0){g.push(x);continue}g.push(n)}c[s]=g}}}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ParseTileLayers:t(578),ParseTilesets:t(579),ParseWeltmeister:t(577)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={AssignTileProperties:t(567),Base64Decode:t(574),BuildTilesetIndex:t(568),CreateGroupLayer:t(161),ParseGID:t(261),ParseImageLayers:t(569),ParseJSONTiled:t(566),ParseObject:t(260),ParseObjectLayers:t(570),ParseTileLayers:t(573),ParseTilesets:t(575)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),d=t(1);e=t(1457),d=t(1458),p.exports={renderWebGL:e,renderCanvas:d}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),d=function(o,a,s){var i=a.cull(s),r=i.length,l=s.alpha*a.alpha;if(!(r===0||l<=0)){var n=a.gidMap,h=o.pipelines.set(a.pipeline,a),u=e.getTintAppendFloatAlpha,v=a.scrollFactorX,f=a.scrollFactorY,c=a.x,g=a.y,m=a.scaleX,x=a.scaleY;o.pipelines.preBatch(a);for(var y=0;y<r;y++){var T=i[y],E=n[T.index];if(!!E){var R=E.getTileTextureCoordinates(T.index);if(R!==null){var M=E.glTexture,P=h.setTexture2D(M,a),O=E.tileWidth,I=E.tileHeight,B=R.x,w=R.y,z=E.tileWidth*.5,H=E.tileHeight*.5,b=u(T.tint,l*T.alpha);h.batchTexture(a,M,M.width,M.height,c+(z+T.pixelX)*m,g+(H+T.pixelY)*x,T.width,T.height,m,x,T.rotation,T.flipX,T.flipY,v,f,z,H,B,w,O,I,b,b,b,b,!1,0,0,s,null,!0,P)}}}o.pipelines.postBatch(a)}};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),d=new e,o=new e,a=new e,s=function(i,r,l,n){var h=r.cull(l),u=h.length,v=l.alpha*r.alpha;if(!(u===0||v<=0)){var f=d,c=o,g=a;c.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),f.copyFrom(l.matrix);var m=i.currentContext,x=r.gidMap;m.save(),n?(f.multiplyWithOffset(n,-l.scrollX*r.scrollFactorX,-l.scrollY*r.scrollFactorY),c.e=r.x,c.f=r.y,f.multiply(c,g),g.copyToContext(m)):(c.e-=l.scrollX*r.scrollFactorX,c.f-=l.scrollY*r.scrollFactorY,c.copyToContext(m)),(!i.antialias||r.scaleX>1||r.scaleY>1)&&(m.imageSmoothingEnabled=!1);for(var y=0;y<u;y++){var T=h[y],E=x[T.index];if(!!E){var R=E.image.getSourceImage(),M=E.getTileTextureCoordinates(T.index);if(M!==null){var P=E.tileWidth,O=E.tileHeight,I=P*.5,B=O*.5;m.save(),m.translate(T.pixelX+I,T.pixelY+B),T.rotation!==0&&m.rotate(T.rotation),(T.flipX||T.flipY)&&m.scale(T.flipX?-1:1,T.flipY?-1:1),m.globalAlpha=v*T.alpha,m.drawImage(R,M.x,M.y,P,O,-I,-B,P,O),m.restore()}}}m.restore()}};p.exports=s},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),d=t(262);e.register("tilemap",function(o){var a=o!==void 0?o:{};return d(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),d=t(262);e.register("tilemap",function(o,a,s,i,r,l,n){return o===null&&(o=void 0),a===null&&(a=void 0),s===null&&(s=void 0),i===null&&(i=void 0),r===null&&(r=void 0),d(this.scene,o,a,s,i,r,l,n)})},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clock:t(1462),TimerEvent:t(582)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),d=t(24),o=t(20),a=t(582),s=t(93),i=new e({initialize:function(l){this.scene=l,this.systems=l.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],l.sys.events.once(o.BOOT,this.boot,this),l.sys.events.on(o.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var r=this.systems.events;r.on(o.PRE_UPDATE,this.preUpdate,this),r.on(o.UPDATE,this.update,this),r.once(o.SHUTDOWN,this.shutdown,this)},addEvent:function(r){var l;return r instanceof a?(l=r,this.removeEvent(l),l.elapsed=l.startAt,l.hasDispatched=!1,l.repeatCount=l.repeat===-1||l.loop?999999999999:l.repeat):l=new a(r),this._pendingInsertion.push(l),l},delayedCall:function(r,l,n,h){return this.addEvent({delay:r,callback:l,args:n,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(r){Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var n=r[l];s(this._pendingRemoval,n),s(this._pendingInsertion,n),s(this._active,n)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var r=this._pendingRemoval.length,l=this._pendingInsertion.length;if(!(r===0&&l===0)){var n,h;for(n=0;n<r;n++){h=this._pendingRemoval[n];var u=this._active.indexOf(h);u>-1&&this._active.splice(u,1),h.destroy()}for(n=0;n<l;n++)h=this._pendingInsertion[n],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(r,l){if(this.now=r,!this.paused){l*=this.timeScale;for(var n=0;n<this._active.length;n++){var h=this._active[n];if(!h.paused&&(h.elapsed+=l*h.timeScale,h.elapsed>=h.delay)){var u=h.elapsed-h.delay;h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0?(h.repeatCount--,h.elapsed=u,h.hasDispatched=!1):this._pendingRemoval.push(h)}}}},shutdown:function(){var r;for(r=0;r<this._pendingInsertion.length;r++)this._pendingInsertion[r].destroy();for(r=0;r<this._active.length;r++)this._active[r].destroy();for(r=0;r<this._pendingRemoval.length;r++)this._pendingRemoval[r].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var l=this.systems.events;l.off(o.PRE_UPDATE,this.preUpdate,this),l.off(o.UPDATE,this.update,this),l.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});d.register("Clock",i,"time"),p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(100),d=t(17),o={Builders:t(1464),Events:t(267),TweenManager:t(1480),Tween:t(266),TweenData:t(268),Timeline:t(588)};o=d(!1,o,e),p.exports=o},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={GetBoolean:t(99),GetEaseFunction:t(80),GetNewValue:t(162),GetProps:t(583),GetTargets:t(263),GetTweens:t(584),GetValueOp:t(264),NumberTweenBuilder:t(585),StaggerBuilder:t(586),TimelineBuilder:t(587),TweenBuilder:t(163)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="active"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="complete"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="loop"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="repeat"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="start"},function(p,C){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="stop"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="update"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="yoyo"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),d=t(0),o=t(585),a=t(24),s=t(20),i=t(586),r=t(587),l=t(100),n=t(163),h=new d({initialize:function(v){this.scene=v,this.systems=v.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,v.sys.events.once(s.BOOT,this.boot,this),v.sys.events.on(s.START,this.start,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var u=this.systems.events;u.on(s.PRE_UPDATE,this.preUpdate,this),u.on(s.UPDATE,this.update,this),u.once(s.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(u){return r(this,u)},timeline:function(u){var v=r(this,u);return v.paused||(this._add.push(v),this._toProcess++),v},create:function(u){return n(this,u)},add:function(u){var v=n(this,u);return this._add.push(v),this._toProcess++,v},existing:function(u){return this._add.push(u),this._toProcess++,this},addCounter:function(u){var v=o(this,u);return this._add.push(v),this._toProcess++,v},stagger:function(u,v){return i(u,v)},preUpdate:function(){if(this._toProcess!==0){var u=this._destroy,v=this._active,f=this._pending,c,g;for(c=0;c<u.length;c++){g=u[c];var m=v.indexOf(g);m===-1?(m=f.indexOf(g),m>-1&&(g.state=l.REMOVED,f.splice(m,1))):(g.state=l.REMOVED,v.splice(m,1))}for(u.length=0,u=this._add,c=0;c<u.length;c++)g=u[c],g.state===l.PENDING_ADD&&(g.init()?(g.play(),this._active.push(g)):this._pending.push(g));u.length=0,this._toProcess=0}},update:function(u,v){var f=this._active,c;v*=this.timeScale;for(var g=0;g<f.length;g++)c=f[g],c.update(u,v)&&(this._destroy.push(c),this._toProcess++)},remove:function(u){return e(this._add,u),e(this._pending,u),e(this._active,u),e(this._destroy,u),u.state=l.REMOVED,this},makeActive:function(u){if(this._add.indexOf(u)!==-1||this._active.indexOf(u)!==-1)return this;var v=this._pending.indexOf(u);return v!==-1&&this._pending.splice(v,1),this._add.push(u),u.state=l.PENDING_ADD,this._toProcess++,this},each:function(u,v){for(var f=[null],c=1;c<arguments.length;c++)f.push(arguments[c]);for(var g in this.list)f[0]=this.list[g],u.apply(v,f)},getAllTweens:function(){for(var u=this._active,v=[],f=0;f<u.length;f++)v.push(u[f]);return v},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(u,v){v===void 0&&(v=!1);var f=this._active,c,g=[],m,x;for(Array.isArray(u)||(u=[u]),m=0;m<f.length;m++)for(c=f[m],x=0;x<u.length;x++)c.hasTarget(u[x])&&g.push(c);if(v)for(f=this._pending,m=0;m<f.length;m++)for(c=f[m],x=0;x<u.length;x++)c.hasTarget(u[x])&&g.push(c);return g},isTweening:function(u){for(var v=this._active,f,c=0;c<v.length;c++)if(f=v[c],f.hasTarget(u)&&f.isPlaying())return!0;return!1},killAll:function(){for(var u=this.getAllTweens(),v=0;v<u.length;v++)u[v].stop();return this},killTweensOf:function(u){for(var v=this.getTweensOf(u),f=0;f<v.length;f++)v[f].stop();return this},pauseAll:function(){for(var u=this._active,v=0;v<u.length;v++)u[v].pause();return this},resumeAll:function(){for(var u=this._active,v=0;v<u.length;v++)u[v].resume();return this},setGlobalTimeScale:function(u){return this.timeScale=u,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var u=this.systems.events;u.off(s.PRE_UPDATE,this.preUpdate,this),u.off(s.UPDATE,this.update,this),u.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});a.register("TweenManager",h,"tweens"),p.exports=h},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Array:t(208),Base64:t(1482),Objects:t(1484),String:t(1488),NOOP:t(1)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={ArrayBufferToBase64:t(1483),Base64ToArrayBuffer:t(433)}},function(p,C){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(d,o){for(var a=new Uint8Array(d),s=a.length,i=o?"data:"+o+";base64,":"",r=0;r<s;r+=3)i+=t[a[r]>>2],i+=t[(a[r]&3)<<4|a[r+1]>>4],i+=t[(a[r+1]&15)<<2|a[r+2]>>6],i+=t[a[r+2]&63];return s%3===2?i=i.substring(0,i.length-1)+"=":s%3===1&&(i=i.substring(0,i.length-2)+"=="),i};p.exports=e},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Clone:t(77),DeepCopy:t(175),Extend:t(17),GetAdvancedValue:t(13),GetFastValue:t(2),GetMinMaxValue:t(1485),GetValue:t(6),HasAll:t(1486),HasAny:t(455),HasValue:t(126),IsPlainObject:t(7),Merge:t(127),MergeRight:t(1487),Pick:t(571),SetValue:t(478)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),d=t(18),o=function(a,s,i,r,l){l===void 0&&(l=i);var n=e(a,s,l);return d(n,i,r)};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){for(var o=0;o<d.length;o++)if(!e.hasOwnProperty(d[o]))return!1;return!0};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),d=function(o,a){var s=e(o);for(var i in a)s.hasOwnProperty(i)&&(s[i]=a[i]);return s};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Format:t(1489),Pad:t(186),RemoveAt:t(1490),Reverse:t(1491),UppercaseFirst:t(205),UUID:t(222)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return e.replace(/%([0-9]+)/g,function(o,a){return d[Number(a)-1]})};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,d){return d===0?e.slice(1):e.slice(0,d-1)+e.slice(d)};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.split("").reverse().join("")};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={SoundManagerCreator:t(426),Events:t(70),BaseSound:t(146),BaseSoundManager:t(145),WebAudioSound:t(434),WebAudioSoundManager:t(432),HTML5AudioSound:t(429),HTML5AudioSoundManager:t(427),NoAudioSound:t(431),NoAudioSoundManager:t(430)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={Arcade:t(1366),Matter:t(1494)}},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports={BodyBounds:t(1392),Components:t(249),Events:t(272),Factory:t(1394),MatterGameObject:t(1395),Image:t(1396),Matter:t(594),MatterPhysics:t(1524),PolyDecomp:t(1393),Sprite:t(1397),TileBody:t(593),PhysicsEditorParser:t(589),PhysicsJSONParser:t(590),PointerConstraint:t(1398),World:t(1402)}},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e){return this.body.restitution=e,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var d=0;if(!Array.isArray(e))d=e;else for(var o=0;o<e.length;o++)d|=e[o];return this.body.collisionFilter.mask=d,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,d){Array.isArray(e)||(e=[e]);for(var o=0;o<e.length;o++){var a=e[o].hasOwnProperty("body")?e[o].body:e[o];this.body.setOnCollideWith(a,d)}return this}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),d={applyForce:function(o){return this._tempVec2.set(this.body.position.x,this.body.position.y),e.applyForce(this.body,this._tempVec2,o),this},applyForceFrom:function(o,a){return e.applyForce(this.body,o,a),this},thrust:function(o){var a=this.body.angle;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(o){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(o){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(o){var a=this.body.angle-Math.PI;return this._tempVec2.set(o*Math.cos(a),o*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};p.exports=d},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,d,o){return this.body.friction=e,d!==void 0&&(this.body.frictionAir=d),o!==void 0&&(this.body.frictionStatic=o),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};p.exports=t},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),d=t(3),o={setMass:function(a){return e.setMass(this.body,a),this},setDensity:function(a){return e.setDensity(this.body,a),this},centerOfMass:{get:function(){return new d(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};p.exports=o},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};p.exports=t},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),d=t(41),o=t(124),a=t(2),s=t(589),i=t(590),r=t(64),l={setRectangle:function(n,h,u){return this.setBody({type:"rectangle",width:n,height:h},u)},setCircle:function(n,h){return this.setBody({type:"circle",radius:n},h)},setPolygon:function(n,h,u){return this.setBody({type:"polygon",sides:h,radius:n},u)},setTrapezoid:function(n,h,u,v){return this.setBody({type:"trapezoid",width:n,height:h,slope:u},v)},setExistingBody:function(n,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=n;for(var u=0;u<n.parts.length;u++)n.parts[u].gameObject=this;var v=this;if(n.destroy=function(){v.world.remove(v.body,!0),v.body.gameObject=null},h&&(this.world.has(n)&&this.world.remove(n,!0),this.world.add(n)),this._originComponent){var f=n.render.sprite.xOffset,c=n.render.sprite.yOffset,g=n.centerOfMass.x,m=n.centerOfMass.y;if(o(g,.5)&&o(m,.5))this.setOrigin(f+.5,c+.5);else{var x=n.centerOffset.x,y=n.centerOffset.y;this.setOrigin(f+x/this.displayWidth,c+y/this.displayHeight)}}return this},setBody:function(n,h){if(!n)return this;var u;typeof n=="string"&&(n={type:n});var v=a(n,"type","rectangle"),f=a(n,"x",this._tempVec2.x),c=a(n,"y",this._tempVec2.y),g=a(n,"width",this.width),m=a(n,"height",this.height);switch(v){case"rectangle":u=e.rectangle(f,c,g,m,h);break;case"circle":var x=a(n,"radius",Math.max(g,m)/2),y=a(n,"maxSides",25);u=e.circle(f,c,x,h,y);break;case"trapezoid":var T=a(n,"slope",.5);u=e.trapezoid(f,c,g,m,T,h);break;case"polygon":var E=a(n,"sides",5),R=a(n,"radius",Math.max(g,m)/2);u=e.polygon(f,c,E,R,h);break;case"fromVertices":case"fromVerts":var M=a(n,"verts",null);if(M)if(typeof M=="string"&&(M=r.fromPath(M)),this.body&&!this.body.hasOwnProperty("temp"))d.setVertices(this.body,M),u=this.body;else{var P=a(n,"flagInternal",!1),O=a(n,"removeCollinear",.01),I=a(n,"minimumArea",10);u=e.fromVertices(f,c,M,h,P,O,I)}break;case"fromPhysicsEditor":u=s.parseBody(f,c,n,h);break;case"fromPhysicsTracer":u=i.parseBody(f,c,n,h);break}return u&&this.setExistingBody(u,n.addToWorld),this}};p.exports=l},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(272),d=t(165),o=t(166),a={setToSleep:function(){return d.set(this.body,!0),this},setAwake:function(){return d.set(this.body,!1),this},setSleepThreshold:function(s){return s===void 0&&(s=60),this.body.sleepThreshold=s,this},setSleepEvents:function(s,i){return this.setSleepStartEvent(s),this.setSleepEndEvent(i),this},setSleepStartEvent:function(s){if(s){var i=this.world;o.on(this.body,"sleepStart",function(r){i.emit(e.SLEEP_START,r,this)})}else o.off(this.body,"sleepStart");return this},setSleepEndEvent:function(s){if(s){var i=this.world;o.on(this.body,"sleepEnd",function(r){i.emit(e.SLEEP_END,r,this)})}else o.off(this.body,"sleepEnd");return this}};p.exports=a},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afteradd"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterremove"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="afterupdate"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeadd"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeremove"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="beforeupdate"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionactive"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionend"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="collisionstart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragend"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="drag"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="dragstart"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="pause"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="resume"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepend"},function(p,C){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */p.exports="sleepstart"},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),d={setStatic:function(o){return e.setStatic(this.body,o),this},isStatic:function(){return this.body.isStatic}};p.exports=d},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),d=t(14),o=t(269),a=t(270),s=4,i={x:{get:function(){return this.body.position.x},set:function(r){this._tempVec2.set(r,this.y),e.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(r){this._tempVec2.set(this.x,r),e.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(r){var l=1/this._scaleX,n=1/this._scaleY;this._scaleX=r,this._scaleX===0?this.renderFlags&=~s:this.renderFlags|=s,e.scale(this.body,l,n),e.scale(this.body,r,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(r){var l=1/this._scaleX,n=1/this._scaleY;this._scaleY=r,this._scaleY===0?this.renderFlags&=~s:this.renderFlags|=s,e.scale(this.body,l,n),e.scale(this.body,this._scaleX,r)}},angle:{get:function(){return a(this.body.angle*d.RAD_TO_DEG)},set:function(r){this.rotation=a(r)*d.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(r){this._rotation=o(r),e.setAngle(this.body,this._rotation)}},setPosition:function(r,l){return r===void 0&&(r=0),l===void 0&&(l=r),this._tempVec2.set(r,l),e.setPosition(this.body,this._tempVec2),this},setRotation:function(r){return r===void 0&&(r=0),this._rotation=o(r),e.setAngle(this.body,r),this},setFixedRotation:function(){return e.setInertia(this.body,1/0),this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,e.setAngle(this.body,this.rotation),this},setScale:function(r,l,n){r===void 0&&(r=1),l===void 0&&(l=r);var h=1/this._scaleX,u=1/this._scaleY;return this._scaleX=r,this._scaleY=l,e.scale(this.body,h,u,n),e.scale(this.body,r,l,n),this}};p.exports=i},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),d={setAngularVelocity:function(o){return e.setAngularVelocity(this.body,o),this},setVelocityX:function(o){return this._tempVec2.set(o,this.body.velocity.y),e.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(o){return this._tempVec2.set(this.body.velocity.x,o),e.setVelocity(this.body,this._tempVec2),this},setVelocity:function(o,a){return this._tempVec2.set(o,a),e.setVelocity(this.body,this._tempVec2),this}};p.exports=d},function(p,C,t){var e={};p.exports=e;var d=t(118),o=t(32);(function(){e.create=function(a){var s={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return o.extend(s,!1,a)},e.reset=function(a){a.extended&&(a.narrowDetections=0,a.narrowphaseTests=0,a.narrowReuse=0,a.narrowReuseCount=0,a.midphaseTests=0,a.broadphaseTests=0,a.narrowEff=0,a.midEff=0,a.broadEff=0,a.collisions=0,a.buckets=0,a.pairs=0,a.bodies=0)},e.update=function(a,s){if(a.extended){var i=s.world,r=d.allBodies(i);a.collisions=a.narrowDetections,a.pairs=s.pairs.list.length,a.bodies=r.length,a.midEff=(a.narrowDetections/(a.midphaseTests||1)).toFixed(2),a.narrowEff=(a.narrowDetections/(a.narrowphaseTests||1)).toFixed(2),a.broadEff=(1-a.broadphaseTests/(r.length||1)).toFixed(2),a.narrowReuse=(a.narrowReuseCount/(a.narrowphaseTests||1)).toFixed(2)}}})()},function(p,C,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),d=t(271),o=t(86),a=t(41),s=t(1392),i=t(84),r=t(0),l=t(118),n=t(591),h=t(128),u=t(273),v=t(50),f=t(1394),c=t(2),g=t(6),m=t(597),x=t(1525),y=t(1526),T=t(1399),E=t(1527),R=t(127),M=t(250),P=t(598),O=t(595),I=t(24),B=t(1400),w=t(599),z=t(274),H=t(20),b=t(592),Q=t(83),D=t(64),F=t(1402),G=new r({initialize:function(X){this.scene=X,this.systems=X.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=l,this.detector=u,this.grid=m,this.pair=M,this.pairs=P,this.query=B,this.resolver=w,this.sat=z,this.constraint=h,this.bodies=o,this.composites=n,this.axes=d,this.bounds=i,this.svg=b,this.vector=Q,this.vertices=D,this.verts=D,this._tempVec2=Q.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),w._restingThresh=g(this.config,"restingThresh",4),w._restingThreshTangent=g(this.config,"restingThreshTangent",6),w._positionDampen=g(this.config,"positionDampen",.9),w._positionWarming=g(this.config,"positionWarming",.8),w._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),X.sys.events.once(H.BOOT,this.boot,this),X.sys.events.on(H.START,this.start,this)},boot:function(){this.world=new F(this.scene,this.config),this.add=new f(this.world),this.bodyBounds=new s,this.systems.events.once(H.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new F(this.scene,this.config),this.add=new f(this.world));var N=this.systems.events;N.on(H.UPDATE,this.world.update,this.world),N.on(H.POST_UPDATE,this.world.postUpdate,this.world),N.once(H.SHUTDOWN,this.shutdown,this)},getConfig:function(){var N=this.systems.game.config.physics,X=this.systems.settings.physics,V=R(c(X,"matter",{}),c(N,"matter",{}));return V},enableAttractorPlugin:function(){return O.register(x),O.use(T,x),this},enableWrapPlugin:function(){return O.register(E),O.use(T,E),this},enableCollisionEventsPlugin:function(){return O.register(y),O.use(T,y),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(N,X){this.world.step(N,X)},containsPoint:function(N,X,V){N=this.getMatterBodies(N);var W=Q.create(X,V),Z=B.point(N,W);return Z.length>0},intersectPoint:function(N,X,V){V=this.getMatterBodies(V);var W=Q.create(N,X),Z=[],et=B.point(V,W);return et.forEach(function(it){Z.indexOf(it)===-1&&Z.push(it)}),Z},intersectRect:function(N,X,V,W,Z,et){Z===void 0&&(Z=!1),et=this.getMatterBodies(et);var it={min:{x:N,y:X},max:{x:N+V,y:X+W}},ht=[],vt=B.region(et,it,Z);return vt.forEach(function(lt){ht.indexOf(lt)===-1&&ht.push(lt)}),ht},intersectRay:function(N,X,V,W,Z,et){Z===void 0&&(Z=1),et=this.getMatterBodies(et);for(var it=[],ht=B.ray(et,Q.create(N,X),Q.create(V,W),Z),vt=0;vt<ht.length;vt++)it.push(ht[vt].body);return it},intersectBody:function(N,X){X=this.getMatterBodies(X);for(var V=[],W=B.collides(N,X),Z=0;Z<W.length;Z++){var et=W[Z];et.bodyA===N?V.push(et.bodyB):V.push(et.bodyA)}return V},overlap:function(N,X,V,W,Z){V===void 0&&(V=null),W===void 0&&(W=null),Z===void 0&&(Z=V),Array.isArray(N)||(N=[N]),N=this.getMatterBodies(N),X=this.getMatterBodies(X);for(var et=!1,it=0;it<N.length;it++)for(var ht=N[it],vt=B.collides(ht,X),lt=0;lt<vt.length;lt++){var xt=vt[lt],st=xt.bodyA.id===ht.id?xt.bodyB:xt.bodyA;if(!W||W.call(Z,ht,st,xt)){if(et=!0,V)V.call(Z,ht,st,xt);else if(!W)return!0}}return et},setCollisionCategory:function(N,X){return N=this.getMatterBodies(N),N.forEach(function(V){V.collisionFilter.category=X}),this},setCollisionGroup:function(N,X){return N=this.getMatterBodies(N),N.forEach(function(V){V.collisionFilter.group=X}),this},setCollidesWith:function(N,X){N=this.getMatterBodies(N);var V=0;if(!Array.isArray(X))V=X;else for(var W=0;W<X.length;W++)V|=X[W];return N.forEach(function(Z){Z.collisionFilter.mask=V}),this},getMatterBodies:function(N){if(!N)return this.world.getAllBodies();Array.isArray(N)||(N=[N]);for(var X=[],V=0;V<N.length;V++){var W=N[V].hasOwnProperty("body")?N[V].body:N[V];X.push(W)}return X},setVelocity:function(N,X,V){N=this.getMatterBodies(N);var W=this._tempVec2;return W.x=X,W.y=V,N.forEach(function(Z){a.setVelocity(Z,W)}),this},setVelocityX:function(N,X){N=this.getMatterBodies(N);var V=this._tempVec2;return V.x=X,N.forEach(function(W){V.y=W.velocity.y,a.setVelocity(W,V)}),this},setVelocityY:function(N,X){N=this.getMatterBodies(N);var V=this._tempVec2;return V.y=X,N.forEach(function(W){V.x=W.velocity.x,a.setVelocity(W,V)}),this},setAngularVelocity:function(N,X){return N=this.getMatterBodies(N),N.forEach(function(V){a.setAngularVelocity(V,X)}),this},applyForce:function(N,X){N=this.getMatterBodies(N);var V=this._tempVec2;return N.forEach(function(W){V.x=W.position.x,V.y=W.position.y,a.applyForce(W,V,X)}),this},applyForceFromPosition:function(N,X,V,W){N=this.getMatterBodies(N);var Z=this._tempVec2;return N.forEach(function(et){W===void 0&&(W=et.angle),Z.x=V*Math.cos(W),Z.y=V*Math.sin(W),a.applyForce(et,X,Z)}),this},applyForceFromAngle:function(N,X,V){N=this.getMatterBodies(N);var W=this._tempVec2;return N.forEach(function(Z){V===void 0&&(V=Z.angle),W.x=X*Math.cos(V),W.y=X*Math.sin(V),a.applyForce(Z,{x:Z.position.x,y:Z.position.y},W)}),this},getConstraintLength:function(N){var X=N.pointA.x,V=N.pointA.y,W=N.pointB.x,Z=N.pointB.y;return N.bodyA&&(X+=N.bodyA.position.x,V+=N.bodyA.position.y),N.bodyB&&(W+=N.bodyB.position.x,Z+=N.bodyB.position.y),v(X,V,W,Z)},alignBody:function(N,X,V,W){N=N.hasOwnProperty("body")?N.body:N;var Z;switch(W){case e.TOP_LEFT:case e.LEFT_TOP:Z=this.bodyBounds.getTopLeft(N,X,V);break;case e.TOP_CENTER:Z=this.bodyBounds.getTopCenter(N,X,V);break;case e.TOP_RIGHT:case e.RIGHT_TOP:Z=this.bodyBounds.getTopRight(N,X,V);break;case e.LEFT_CENTER:Z=this.bodyBounds.getLeftCenter(N,X,V);break;case e.CENTER:Z=this.bodyBounds.getCenter(N,X,V);break;case e.RIGHT_CENTER:Z=this.bodyBounds.getRightCenter(N,X,V);break;case e.LEFT_BOTTOM:case e.BOTTOM_LEFT:Z=this.bodyBounds.getBottomLeft(N,X,V);break;case e.BOTTOM_CENTER:Z=this.bodyBounds.getBottomCenter(N,X,V);break;case e.BOTTOM_RIGHT:case e.RIGHT_BOTTOM:Z=this.bodyBounds.getBottomRight(N,X,V);break}return Z&&a.setPosition(N,Z),this},shutdown:function(){var N=this.systems.events;this.world&&(N.off(H.UPDATE,this.world.update,this.world),N.off(H.POST_UPDATE,this.world.postUpdate,this.world)),N.off(H.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(H.START,this.start,this),this.scene=null,this.systems=null}});I.register("MatterPhysics",G,"matterPhysics"),p.exports=G},function(p,C,t){var e=t(594),d={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(o){o.after("Body.create",function(){d.Body.init(this)}),o.before("Engine.update",function(a){d.Engine.update(a)})},Body:{init:function(o){o.plugin.attractors=o.plugin.attractors||[]}},Engine:{update:function(o){for(var a=e.Composite.allBodies(o.world),s=0;s<a.length;s++){var i=a[s],r=i.plugin.attractors;if(r&&r.length>0)for(var l=0;l<a.length;l++){var n=a[l];if(s!==l)for(var h=0;h<r.length;h++){var u=r[h],v=u;e.Common.isFunction(u)&&(v=u(i,n)),v&&e.Body.applyForce(n,n.position,v)}}}}},Attractors:{gravityConstant:.001,gravity:function(o,a){var s=e.Vector.sub(a.position,o.position),i=e.Vector.magnitudeSquared(s)||1e-4,r=e.Vector.normalise(s),l=-d.Attractors.gravityConstant*(o.mass*a.mass/i),n=e.Vector.mult(r,l);e.Body.applyForce(o,o.position,e.Vector.neg(n)),e.Body.applyForce(a,a.position,n)}}};p.exports=d},function(p,C){/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(d){d.pairs.map(function(o){var a=o.bodyA,s=o.bodyB;a.gameObject&&a.gameObject.emit("collide",a,s,o),s.gameObject&&s.gameObject.emit("collide",s,a,o),e.Events.trigger(a,"onCollide",{pair:o}),e.Events.trigger(s,"onCollide",{pair:o}),a.onCollideCallback&&a.onCollideCallback(o),s.onCollideCallback&&s.onCollideCallback(o),a.onCollideWith[s.id]&&a.onCollideWith[s.id](s,o),s.onCollideWith[a.id]&&s.onCollideWith[a.id](a,o)})}),e.Events.on(this,"collisionActive",function(d){d.pairs.map(function(o){var a=o.bodyA,s=o.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,s,o),s.gameObject&&s.gameObject.emit("collideActive",s,a,o),e.Events.trigger(a,"onCollideActive",{pair:o}),e.Events.trigger(s,"onCollideActive",{pair:o}),a.onCollideActiveCallback&&a.onCollideActiveCallback(o),s.onCollideActiveCallback&&s.onCollideActiveCallback(o)})}),e.Events.on(this,"collisionEnd",function(d){d.pairs.map(function(o){var a=o.bodyA,s=o.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,s,o),s.gameObject&&s.gameObject.emit("collideEnd",s,a,o),e.Events.trigger(a,"onCollideEnd",{pair:o}),e.Events.trigger(s,"onCollideEnd",{pair:o}),a.onCollideEndCallback&&a.onCollideEndCallback(o),s.onCollideEndCallback&&s.onCollideEndCallback(o)})})})}};p.exports=t},function(p,C,t){var e=t(594),d={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(o){o.after("Engine.update",function(){d.Engine.update(this)})},Engine:{update:function(o){for(var a=o.world,s=e.Composite.allBodies(a),i=e.Composite.allComposites(a),r=0;r<s.length;r+=1){var l=s[r];l.plugin.wrap&&d.Body.wrap(l,l.plugin.wrap)}for(r=0;r<i.length;r+=1){var n=i[r];n.plugin.wrap&&d.Composite.wrap(n,n.plugin.wrap)}}},Bounds:{wrap:function(o,a){var s=null,i=null;if(typeof a.min.x!="undefined"&&typeof a.max.x!="undefined"&&(o.min.x>a.max.x?s=a.min.x-o.max.x:o.max.x<a.min.x&&(s=a.max.x-o.min.x)),typeof a.min.y!="undefined"&&typeof a.max.y!="undefined"&&(o.min.y>a.max.y?i=a.min.y-o.max.y:o.max.y<a.min.y&&(i=a.max.y-o.min.y)),s!==null||i!==null)return{x:s||0,y:i||0}}},Body:{wrap:function(o,a){var s=d.Bounds.wrap(o.bounds,a);return s&&e.Body.translate(o,s),s}},Composite:{bounds:function(o){for(var a=e.Composite.allBodies(o),s=[],i=0;i<a.length;i+=1){var r=a[i];s.push(r.bounds.min,r.bounds.max)}return e.Bounds.create(s)},wrap:function(o,a){var s=d.Bounds.wrap(d.Composite.bounds(o),a);return s&&e.Composite.translate(o,s),s}}};p.exports=d},function(p,C,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var d=t(33),o=t(17),a={Actions:t(275),Animations:t(723),BlendModes:t(35),Cache:t(735),Cameras:t(738),Core:t(806),Class:t(0),Create:t(888),Curves:t(894),Data:t(896),Display:t(898),DOM:t(917),Events:t(918),Game:t(920),GameObjects:t(1011),Geom:t(483),Input:t(1308),Loader:t(1338),Math:t(193),Physics:t(1493),Plugins:t(1403),Renderer:t(1405),Scale:t(1412),ScaleModes:t(168),Scene:t(418),Scenes:t(1413),Structs:t(1415),Textures:t(1416),Tilemaps:t(1418),Time:t(1461),Tweens:t(1463),Utils:t(1481)};a.Sound=t(1492),a=o(!1,a,d),p.exports=a,e.Phaser=a}).call(this,t(600))}])})}},po={};function Ye(Ot){var p=po[Ot];if(p!==void 0)return p.exports;var C=po[Ot]={id:Ot,loaded:!1,exports:{}};return nl[Ot].call(C.exports,C,C.exports,Ye),C.loaded=!0,C.exports}Ye.n=Ot=>{var p=Ot&&Ot.__esModule?()=>Ot.default:()=>Ot;return Ye.d(p,{a:p}),p},Ye.d=(Ot,p)=>{for(var C in p)Ye.o(p,C)&&!Ye.o(Ot,C)&&Object.defineProperty(Ot,C,{enumerable:!0,get:p[C]})},Ye.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(Ot){if(typeof window=="object")return window}}(),Ye.o=(Ot,p)=>Object.prototype.hasOwnProperty.call(Ot,p),Ye.nmd=Ot=>(Ot.paths=[],Ot.children||(Ot.children=[]),Ot);var sl={};(()=>{"use strict";Ye.d(sl,{v:()=>$t,N:()=>Ai});var Ot=Ye(260);class p{constructor(U,J){this.width=U,this.height=J}relativeY(U){return this.height*U/100}relativeX(U){return this.width*U/100}heightRatio(U){return this.height/U}widthRatio(U){return this.width/U}}const C=class extends Phaser.Scene{constructor(){super(C.key)}create(){this.screen=new p(this.scale.width,this.scale.height),this.cameras.main.fadeIn(500,0,0,0),this.audioHandler=this.cache.custom.handlers.get("audioHandler"),this.bg=this.add.image(this.screen.relativeX(50),this.screen.relativeY(50),"title-screen:background").setOrigin(.5),this.bg.setScale(this.screen.height/this.bg.height);const j=this.add.image(this.screen.relativeX(20),this.screen.relativeY(20),"us:neptune").setScale(.305),U=this.add.image(this.screen.relativeX(62),this.screen.relativeY(20),"us:neptune-name").setScale(.105),J=this.add.image(this.screen.relativeX(80),this.screen.relativeY(60),"us:lazy-seal").setScale(.15),q=this.add.image(this.screen.relativeX(38),this.screen.relativeY(60),"us:lazy-seal-name").setScale(.105),ut=this.tweens.createTimeline({loop:-1}).add({targets:j,scale:j.scale*1.05,duration:500,yoyo:!0}).add({targets:j,scale:j.scale*.95,duration:500,yoyo:!0}),at=this.tweens.createTimeline({loop:-1}).add({targets:J,scale:J.scale*1.05,duration:500,yoyo:!0}).add({targets:J,scale:J.scale*.95,duration:500,yoyo:!0}),ct=this.tweens.createTimeline({loop:-1}).add({targets:[U,q],angle:3,duration:750,yoyo:!0}).add({targets:[U,q],angle:-3,duration:750,yoyo:!0});ut.play(),at.play(),ct.play();const Et=this.add.image(this.screen.relativeX(50),this.screen.relativeY(85),"death-screen:button_menu").setScale(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.tweens.add({targets:Et,scale:.5*1.1,duration:200})}).on("pointerout",()=>{this.tweens.add({targets:Et,scale:.5,duration:200})}).on("pointerdown",()=>{this.cameras.main.fadeOut(500,0,0,0),this.audioHandler.playSfx(this,"click-button",.2),this.time.delayedCall(500,()=>{this.scene.start("start")})})}update(){}};let t=C;t.key="credits";var e=Ye(486),d=Ye.n(e),o=(j=>(j[j.PistolAmmo=0]="PistolAmmo",j[j.ShotgunAmmo=1]="ShotgunAmmo",j))(o||{});class a{constructor(U,J,q,ut,at,ct){this.scene=U,this.sprite=U.add.sprite(at,ct,J),this.type=ut,this.player=q,this.audioHandler=U.cache.custom.handlers.get("audioHandler")}spawn(){do{const J=new Phaser.Math.Vector2(this.sprite.x,this.sprite.y),q=d().random(0,Math.PI*2,!0),ut=new Phaser.Math.Vector2(Math.cos(q)*40,Math.sin(q)*40),at=J.add(ut);this.sprite.setPosition(at.x,at.y)}while(!Phaser.Geom.Rectangle.ContainsRect(this.scene.cameras.main.getBounds(),this.sprite.getBounds()));const U=this.scene.physics.add.overlap(this.sprite,this.player.sprite,()=>{this.player.pickupLoot(this)&&(this.audioHandler.playSfx(this.scene,"pickup-loot",.3),U.destroy(),this.sprite.destroy(!0))})}idle(){this.scene.tweens.add({targets:this.sprite,y:this.sprite.y+10,duration:500,yoyo:!0,loop:-1})}}function s(j,U,J){return Math.min(Math.max(j,U),J)}function i(j){return Object.entries(j).length===0}function r(j,U,J){return j<=U&&U<=J}function l(j){return r(0,j,Math.PI/4)||r(7*Math.PI/4,j,Math.PI*2)?"right":r(Math.PI/4,j,3*Math.PI/4)?"up":r(3*Math.PI/4,j,5*Math.PI/4)?"left":(r(5*Math.PI/4,j,7*Math.PI/4),"down")}function n(j){return j<0?-j:Math.PI-j+Math.PI}function h(j){return j*Math.PI/180}const u={relativeX(j){return 800*j/100},relativeY(j){return 600*j/100}};function v(j){return{x:j.relativeX(Math.random()*100),y:j.relativeY(Math.random()*100)}}function f(j,U,J){return Array(j).fill(null).map(()=>Math.floor(c(U,J)))}function c(j,U){return Math.random()*(U-j)+j}function g(j,U){return Phaser.Geom.Rectangle.Intersection(U.getBounds(),j.getBounds()).isEmpty()}class m{constructor(U,J,q,ut,at,ct){this.speed=500,this.sprite=U.physics.add.sprite(J,q,"weapon:bullet").setScale(.5),this.scene=U,this.id=ct,this.sprite.setRotation(at),this.sprite.setFlipY(d().inRange(Math.abs(at),Math.PI/2,Math.PI));const Et=n(at+Math.PI);this.sprite.setVelocity(-Math.cos(Et)*this.speed,Math.sin(Et)*this.speed),this.enemyHitArea=new Phaser.GameObjects.Rectangle(this.scene,J,q,this.sprite.displayWidth,40),this.scene.add.existing(this.enemyHitArea),this.scene.physics.add.existing(this.enemyHitArea),this.propHitArea=new Phaser.GameObjects.Rectangle(this.scene,J,q,this.sprite.displayWidth,this.sprite.displayHeight).setOrigin(),this.scene.add.existing(this.propHitArea),this.scene.physics.add.existing(this.propHitArea),this.scene.events.emit("add-bullet-prop-collider",this.propHitArea),this.scene.events.emit("init-bullet-attack",this.enemyHitArea),this.propHitArea.on("prop-hit",()=>{this.destroy()}),this.enemyHitArea.on("enemy-hit",It=>{this.knockback(It),this.destroy()}),this.damage=ut,this.rotation=at}update(){this.enemyHitArea.setPosition(this.sprite.x,this.sprite.y+this.enemyHitArea.displayHeight/2),this.propHitArea.setPosition(this.sprite.x,this.sprite.y),Phaser.Geom.Rectangle.ContainsPoint(this.scene.cameras.main.getBounds(),new Phaser.Geom.Point(this.sprite.x,this.sprite.y))||this.destroy()}destroy(){this.scene.events.emit("remove-bullet",this.id),this.sprite.destroy(!0),this.enemyHitArea.destroy(!0),this.propHitArea.destroy(!0)}knockback(U){const J=new Phaser.Math.Vector2(this.sprite.body.velocity.divide(new Phaser.Math.Vector2(5,5)));this.scene.time.addEvent({callback:()=>{U.body.velocity.add(J)},repeat:2,delay:1})}}var x=(j=>(j[j.weapon=0]="weapon",j[j.food=1]="food",j[j.map=2]="map",j))(x||{});class y{constructor(){}}var T=(j=>(j[j.shovel=0]="shovel",j[j.pistol=1]="pistol",j[j.shotgun=2]="shotgun",j))(T||{});class E extends y{constructor(U,J,q,ut,at,ct,Et){super(),this._inDelay=!1,this.scene=U,this.key=J,this.type=q,this.damage=ut,this.ammunition=at,this.owner=ct,this.delay=Et,this.audioHandler=U.cache.custom.handlers.get("audioHandler")}get name(){return this.key.substring(7)}get currentAmmunition(){return this.ammunition}get inDelay(){return this._inDelay}get bulletsInScene(){return this.scene.data.get("bullets")}update(){this.scene.events.once("tulio-attack",this.attack,this)}handleAmmo(U){this.ammunition+=U}handleSfx(){if(this.ammunition==0){this.audioHandler.playSfx(this.scene,"gun-empty",.1);return}switch(this.type){case 0:this.audioHandler.playSfx(this.scene,"shovel-attack",.1);return;case 1:this.audioHandler.playSfx(this.scene,"pistol-fire",.1);return;case 2:this.audioHandler.playSfx(this.scene,"shotgun-fire",.1);return}}attack(){this._inDelay=!0,this.handleSfx(),this.scene.time.delayedCall(this.delay,()=>{this._inDelay=!1})}}class R extends E{constructor(U,J,q){super(U,"weapon:pistol",T.pistol,5,q,J,500),this.sprite=U.add.image(400,300,"weapon:pistol").setScale(2),this.direction=U.scene.get("gui-scene").data.get("direction"),this.scene.events.on("remove-bullet",ut=>{this.bulletsInScene.delete(ut)})}attack(){var U;super.attack();const J=((U=d().max(Array.from(this.bulletsInScene.keys())))!=null?U:-1)+1;this.bulletsInScene.set(J,new m(this.scene,this.sprite.x,this.sprite.y,this.damage,this.angle,J))}update(){switch(super.update(),this.owner.facingDirection){case"up":this.sprite.setPosition(this.owner.sprite.x+15,this.owner.sprite.y-20),this.sprite.setDepth(this.owner.sprite.depth-2);break;case"right":this.sprite.setPosition(this.owner.sprite.x+8,this.owner.sprite.y-10),this.sprite.setDepth(this.owner.sprite.depth+2);break;case"down":this.sprite.setPosition(this.owner.sprite.x-15,this.owner.sprite.y-10),this.sprite.setDepth(this.owner.sprite.depth+2);break;case"left":this.sprite.setPosition(this.owner.sprite.x-10,this.owner.sprite.y-10),this.sprite.setDepth(this.owner.sprite.depth-2);break}const U=new Phaser.Geom.Line(this.sprite.x-this.scene.cameras.main.scrollX,this.sprite.y-this.scene.cameras.main.scrollY,this.direction.pointer.x,this.direction.pointer.y);this.angle=Phaser.Geom.Line.Angle(U);const J=d().inRange(Math.abs(this.angle),Math.PI/2,Math.PI);this.sprite.setFlipY(J),this.sprite.setRotation(this.angle)}}class M extends E{constructor(U,J,q){super(U,"weapon:shotgun",T.shotgun,10,q,J,1e3),this.sprite=U.add.image(400,300,"weapon:shotgun").setScale(2),this.direction=U.scene.get("gui-scene").data.get("direction"),this.scene.events.on("remove-bullet",ut=>{this.bulletsInScene.delete(ut)})}attack(){var U;super.attack();const J=((U=d().max(Array.from(this.bulletsInScene.keys())))!=null?U:-1)+1;this.bulletsInScene.set(J,new m(this.scene,this.sprite.x,this.sprite.y,this.damage,this.angle,J))}update(){switch(super.update(),this.owner.facingDirection){case"up":this.sprite.setPosition(this.owner.sprite.x+15,this.owner.sprite.y-20),this.sprite.setDepth(this.owner.sprite.depth-2);break;case"right":this.sprite.setPosition(this.owner.sprite.x+8,this.owner.sprite.y-10),this.sprite.setDepth(this.owner.sprite.depth+2);break;case"down":this.sprite.setPosition(this.owner.sprite.x-15,this.owner.sprite.y-10),this.sprite.setDepth(this.owner.sprite.depth+2);break;case"left":this.sprite.setPosition(this.owner.sprite.x-10,this.owner.sprite.y-10),this.sprite.setDepth(this.owner.sprite.depth-2);break}const U=new Phaser.Geom.Line(this.sprite.x-this.scene.cameras.main.scrollX,this.sprite.y-this.scene.cameras.main.scrollY,this.direction.pointer.x,this.direction.pointer.y);this.angle=Phaser.Geom.Line.Angle(U);const J=d().inRange(Math.abs(this.angle),Math.PI/2,Math.PI);this.sprite.setFlipY(J),this.sprite.setRotation(this.angle)}}class P extends E{constructor(U,J,q){super(U,"weapon:shovel",T.shovel,2,q,J,1e3),this.attackArea=null,U.events.on("shovel-knockback",(ut,at)=>{this.knockback(ut,at)})}attack(){switch(super.attack(),this.owner.facingDirection){case"up":this.attackAreaSize={width:50,height:60},this.attackAreaOffset={x:0,y:-(this.attackAreaSize.height/2)};break;case"right":this.attackAreaSize={width:60,height:50},this.attackAreaOffset={x:this.attackAreaSize.width/2,y:0};break;case"down":this.attackAreaSize={width:50,height:60},this.attackAreaOffset={x:0,y:this.attackAreaSize.height/2};break;case"left":this.attackAreaSize={width:60,height:50},this.attackAreaOffset={x:-(this.attackAreaSize.width/2),y:0};break}this.attackArea=this.createAttackArea(this.owner.sprite.x+this.attackAreaOffset.x,this.owner.sprite.y+this.attackAreaOffset.y,this.attackAreaSize.width,this.attackAreaSize.height),this.scene.events.emit("init-shovel-attack",this.attackArea),this.scene.events.on("shovel-attack-concluded",()=>{var U;(U=this.attackArea)==null||U.destroy(),this.attackArea=null,this.scene.events.emit("finish-shovel-attack")},this)}update(){super.update(),this.attackArea&&this.attackArea.setPosition(this.owner.sprite.x+this.attackAreaOffset.x,this.owner.sprite.y+this.attackAreaOffset.y)}knockback(U,J){this.scene.time.addEvent({callback:()=>{switch(J){case"up":U.body.velocity.add(new Phaser.Math.Vector2(0,-100));break;case"right":U.body.velocity.add(new Phaser.Math.Vector2(100,0));break;case"down":U.body.velocity.add(new Phaser.Math.Vector2(0,100));break;case"left":U.body.velocity.add(new Phaser.Math.Vector2(-100,0));break}},repeat:6,delay:1})}createAttackArea(U,J,q,ut){const at=new Ot.GameObjects.Rectangle(this.scene,U,J,q,ut);return this.scene.add.existing(at),this.scene.physics.add.existing(at),at}}class O{constructor(U,J,q,ut,at,ct){this.isAlive=!0,this.scene=U,this.key=J,this.sprite=q,this.sprite.setName(ct!=null?ct:J),this.totalHealth=ut,this.currentHealth=ut,this.baseDamage=at,this.audioHandler=U.cache.custom.handlers.get("audioHandler"),this.sprite.on("receive-damage",Et=>{this.receiveDamage(Et)},this)}get currentAnimation(){var U,J;return(J=(U=this.sprite.anims.currentAnim)==null?void 0:U.key)!=null?J:""}attack(U,J){U.emit("receive-damage",J)}receiveDamage(U){if(this.currentHealth-=U,this.isAlive=this.currentHealth>0,!this.isAlive){this.die();return}this.sprite.setTint(11141120),this.scene.time.delayedCall(250,()=>{this.sprite.clearTint(),this.sprite.emit("post-hit")})}die(){this.sprite.disableBody(!0)}get currentHealth(){return this._currentHealth}set currentHealth(U){this._currentHealth=U}}var I=Object.defineProperty,B=Object.defineProperties,w=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,Q=(j,U,J)=>U in j?I(j,U,{enumerable:!0,configurable:!0,writable:!0,value:J}):j[U]=J,D=(j,U)=>{for(var J in U||(U={}))H.call(U,J)&&Q(j,J,U[J]);if(z)for(var J of z(U))b.call(U,J)&&Q(j,J,U[J]);return j},F=(j,U)=>B(j,w(U));class G extends O{constructor(U,J=400,q=300){super(U,"characters:tulio",U.physics.add.sprite(J,q,"characters:tulio"),10,1),this.frozen=!1,this.baseVelocity=150,this.isAttacking=!1,this.scene=U,this.sprite.setSize(this.sprite.width*.5,this.sprite.height*.2).setScale(2.5).setOrigin(.5,.85).setOffset(this.sprite.width*.25,this.sprite.height*.8);const ut=U.cache.custom.handlers.get("playerHandler"),{playerData:at}=ut;this.sprite.on("refresh-player-data",ct=>{const Et=this.playerHandler;Et.playerData=D(D({},Et.playerData),ct),U.scene.get("gui-scene").events.emit("refresh-player-data",Et.playerData)}),d().isNil(at.selectedWeapon)||this.pickupWeapon(at.selectedWeapon),this.currentHealth=at.health,this.changeWeaponKey=U.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.TAB,!0),this.changeWeaponKey.on("down",()=>{this.changeWeapon()}),this.audioHandler=U.cache.custom.handlers.get("audioHandler"),this.animations=[{key:"walk-up",frames:U.anims.generateFrameNumbers(this.key,{frames:[0,1,2]}),frameRate:8,repeat:-1},{key:"walk-right",frames:U.anims.generateFrameNumbers(this.key,{frames:[3,4,5]}),frameRate:8,repeat:-1},{key:"walk-down",frames:U.anims.generateFrameNumbers(this.key,{frames:[6,7,8]}),frameRate:8,repeat:-1},{key:"walk-left",frames:U.anims.generateFrameNumbers(this.key,{frames:[9,10,11]}),frameRate:8,repeat:-1},{key:"idle-up",frames:U.anims.generateFrameNumbers(this.key,{frames:[1]}),frameRate:8,repeat:-1},{key:"idle-right",frames:U.anims.generateFrameNumbers(this.key,{frames:[4]}),frameRate:8,repeat:-1},{key:"idle-down",frames:U.anims.generateFrameNumbers(this.key,{frames:[7]}),frameRate:8,repeat:-1},{key:"idle-left",frames:U.anims.generateFrameNumbers(this.key,{frames:[10]}),frameRate:8,repeat:-1},{key:"shovel-attack-up",frames:U.anims.generateFrameNumbers(this.key,{frames:[24,25,26]}),duration:150},{key:"shovel-attack-right",frames:U.anims.generateFrameNumbers(this.key,{frames:[27,28,29]}),duration:150},{key:"shovel-attack-down",frames:U.anims.generateFrameNumbers(this.key,{frames:[30,31,32]}),duration:150},{key:"shovel-attack-left",frames:U.anims.generateFrameNumbers(this.key,{frames:[33,34,35]}),duration:150},{key:"die-up",frames:U.anims.generateFrameNumbers(this.key,{frames:[36,37,38]}),duration:1500},{key:"die-right",frames:U.anims.generateFrameNumbers(this.key,{frames:[39,40,41]}),duration:1500},{key:"die-down",frames:U.anims.generateFrameNumbers(this.key,{frames:[42,43,44]}),duration:1500},{key:"die-left",frames:U.anims.generateFrameNumbers(this.key,{frames:[45,46,47]}),duration:1500}],this.animations.forEach(ct=>{this.sprite.anims.create(ct)}),this.sprite.on("hit",()=>{this.sprite.toggleData("invencible"),this.sprite.once("post-hit",()=>{const ct=this.scene.time.addEvent({callback:()=>{this.sprite.visible?this.sprite.setVisible(!1):this.sprite.setVisible(!0),ct.getOverallProgress()==1&&this.sprite.toggleData("invencible")},repeat:19,delay:50})})},this),this.direction=U.scene.get("gui-scene").data.get("direction"),this.scene.time.addEvent({callback:this.walkSfx,loop:!0,delay:250,callbackScope:this})}pickupLoot(U){var J,q;switch(U.type){case o.PistolAmmo:return((J=this.weapon)==null?void 0:J.type)!==T.pistol?!1:(this.handleAmmo(U.value),!0);case o.ShotgunAmmo:return((q=this.weapon)==null?void 0:q.type)!==T.shotgun?!1:(this.handleAmmo(U.value),!0)}}pickupWeapon(U){const{playerData:J}=this.playerHandler;J.selectedWeapon=U;const q=J.weapons[J.selectedWeapon];switch(q.picked=!0,this.weapon&&this.weapon.type!=T.shovel&&this.weapon.sprite.destroy(!0),J.selectedWeapon){case T.shovel:this.weapon=new P(this.scene,this,q.ammo);break;case T.pistol:this.weapon=new R(this.scene,this,q.ammo);break;case T.shotgun:this.weapon=new M(this.scene,this,q.ammo);break}}changeWeapon(){const{playerData:U}=this.playerHandler;if(!!this.weapon)for(let J=1;J<=3;J++){const q=U.weapons[(this.weapon.type+J)%3];if(!!q.picked){this.pickupWeapon(q.type);break}}}refreshWeapon(){const{playerData:U}=this.playerHandler;if(d().isNil(U.selectedWeapon))return;this.weapon&&this.weapon.type!=T.shovel&&this.weapon.sprite.destroy(!0);const J=U.weapons[U.selectedWeapon];switch(U.selectedWeapon){case T.shovel:this.weapon=new P(this.scene,this,J.ammo);break;case T.pistol:this.weapon=new R(this.scene,this,J.ammo);break;case T.shotgun:this.weapon=new M(this.scene,this,J.ammo);break}}get playerHandler(){return this.scene.cache.custom.handlers.get("playerHandler")}get damage(){var U,J;return this.baseDamage+((J=(U=this.weapon)==null?void 0:U.damage)!=null?J:0)}get weapon(){return this._weapon}set weapon(U){var J;this._weapon=U,this.sprite.emit("refresh-player-data",{selectedWeapon:(J=this.weapon)==null?void 0:J.type})}get currentHealth(){return super.currentHealth}set currentHealth(U){super.currentHealth=U,this.sprite.emit("refresh-player-data",{health:this.currentHealth})}get facingDirection(){const U=new Ot.Geom.Line(this.sprite.x-this.scene.cameras.main.scrollX,this.sprite.y-this.scene.cameras.main.scrollY,this.direction.pointer.x,this.direction.pointer.y),J=Ot.Geom.Line.Angle(U),q=n(J);return l(q)}walkSfx(){if(this.sprite.body.speed!=0)switch(this.scene.data.get("type")){case"dungeon":this.audioHandler.playSfx(this.scene,"dungeon-walk",.08);return;case"graveyard":this.audioHandler.playSfx(this.scene,"graveyard-walk",.08);return}}setPosition(U,J){this.sprite.setPosition(U,J)}freeze(){this.frozen=!0,this.sprite.setVelocity(0),this.sprite.body.velocity.limit(0)}unfreeze(){this.frozen=!1,this.sprite.body.velocity.limit(this.baseVelocity)}update(){var U;if(this.frozen)return;(U=this.weapon)==null||U.update();const{x:J,y:q}=this.calculateVelocity();this.sprite.setVelocity(J,q);const ut=`${this.direction.isPressed&&this.sprite.body.speed>0?"walk":"idle"}-${this.facingDirection}`;this.isAttacking||this.sprite.play(ut,!0),this.sprite.body.velocity.limit(this.baseVelocity),this.direction.shift&&this.sprite.body.speed>0&&(this.sprite.setVelocity(J*2,q*2),this.sprite.body.velocity.limit(this.baseVelocity*2)),this.direction.pointer.leftButtonDown()&&this.scene.data.get("type")!="interior"&&this.handleAttack(ut)}calculateVelocity(){let U=0,J=0;return this.direction.isLeft&&(U-=this.baseVelocity),this.direction.isRight&&(U+=this.baseVelocity),this.direction.isUp&&(J-=this.baseVelocity),this.direction.isDown&&(J+=this.baseVelocity),{x:U,y:J}}attack(U){super.attack(U,this.damage)}handleAmmo(U){if(!this.weapon)return;const{playerData:J}=this.playerHandler,q=J.weapons[J.selectedWeapon];q.ammo+=U,this.sprite.emit("refresh-player-data",F(D({},J),{weapons:D(D({},J.weapons),q)})),this.weapon.handleAmmo(U)}handleAttack(U){var J;if(!(!this.weapon||this.isAttacking||this.weapon.inDelay||this.weapon.currentAmmunition==0))switch(this.handleAmmo(-1),this.weapon.type){case T.shovel:this.scene.time.delayedCall(100,()=>{this.weapon.attack()}),this.isAttacking=!0,this.sprite.play(`${(J=this.weapon)==null?void 0:J.name}-attack-${this.facingDirection}`),this.sprite.once("animationcomplete",()=>{var q;this.isAttacking=!1,this.sprite.setSize(this.sprite.width*.5,this.sprite.height*.2).setScale(2.5).setOrigin(.5,.85).setOffset(this.sprite.width*.25,this.sprite.height*.8),this.sprite.playAfterDelay(U,100),(q=this.weapon)==null||q.scene.events.emit("shovel-attack-concluded")});break;case T.pistol:case T.shotgun:this.weapon.attack();break}}die(){super.die(),this.scene.scene.start("death",{pos:{x:this.sprite.x-this.scene.cameras.main.scrollX,y:this.sprite.y-this.scene.cameras.main.scrollY},facingDirection:this.facingDirection})}receiveDamage(U){this.audioHandler.playSfx(this.scene,"person-hit",.3),super.receiveDamage(U)}}class N{constructor(){this.soundEnabled=!0,this.musicEnabled=!0}turnOffSound(){this.soundEnabled=!1}turnOnSound(){this.soundEnabled=!0}get sound(){return this.soundEnabled}turnOffMusic(U){U.sound.removeByKey("bg_graveyard_music"),U.sound.removeByKey("bg_dungeon_music"),U.sound.removeByKey("bg_start_music"),this.musicEnabled=!1}turnOnMusic(U){this.handleBackgroundMusic(U),this.musicEnabled=!0}get music(){return this.musicEnabled}handleBackgroundMusic(U){const J=U.sys.config;if(U.sound.pauseOnBlur=!1,["start","credits","options"].includes(J)){if(U.sound.get("bg_start_music"))return;U.sound.removeByKey("bg_graveyard_music"),U.sound.removeByKey("bg_dungeon_music"),U.sound.add("bg_start_music",{volume:.1,loop:!0}).play();return}if(J.startsWith("graveyard:")){if(U.sound.get("bg_graveyard_music"))return;U.sound.removeByKey("bg_start_music"),U.sound.removeByKey("bg_dungeon_music"),U.sound.add("bg_graveyard_music",{volume:.1,loop:!0}).play();return}if(J.startsWith("dungeon:")){if(U.sound.get("bg_dungeon_music"))return;U.sound.removeByKey("bg_start_music"),U.sound.removeByKey("bg_graveyard_music"),U.sound.add("bg_dungeon_music",{volume:.1,loop:!0}).play();return}}playSfx(U,J,q){U.sound.play(J,{volume:q})}}class X{constructor(){this._playerData=null,this._initialData={weapons:{[T.shovel]:{type:T.shovel,ammo:1/0,picked:!1},[T.pistol]:{type:T.pistol,ammo:99,picked:!1},[T.shotgun]:{type:T.shotgun,ammo:50,picked:!1}},health:10,selectedWeapon:void 0}}clean(){this._playerData=null}get playerData(){var U;return(U=this._playerData)!=null?U:this._initialData}set playerData(U){this._playerData=U}}class V{constructor(){this.hasKey=!1,this.searchingForKey=!1}}const W=class extends Phaser.Scene{constructor(){super(W.key)}preload(){const j=new p(this.scale.width,this.scale.height);this.progressBox=this.add.graphics().fillStyle(16777215).fillRect(90,420,620,50),this.progressBar=this.add.graphics(),this.loadingText=this.add.text(j.relativeX(50),j.relativeY(50),"Loading .    ",{fontFamily:"MinimalPixel",fontSize:"62px",color:"#fff"}).setOrigin(.5),this.tweens.addCounter({from:0,to:299,onUpdate:U=>{if(U.getValue()<100){this.loadingText.setText("Loading .    ");return}if(U.getValue()<200){this.loadingText.setText("Loading . .  ");return}this.loadingText.setText("Loading . . .")},loop:-1}),this.load.on("progress",U=>{this.progressBar.clear(),this.progressBar.fillStyle(5186708),this.progressBar.fillRect(100,430,600*U,30)}),this.load.on("complete",()=>{this.scene.start("start")}),this.load.image("title-screen:background","assets/title_screen/background.png"),this.load.image("title-screen:title","assets/title_screen/title.png"),this.load.image("title-screen:button_iniciar","assets/title_screen/button_iniciar.png"),this.load.image("title-screen:button_creditos","assets/title_screen/button_creditos.png"),this.load.image("death-screen:button_reiniciar","assets/death_screen/button-reiniciar.png"),this.load.image("death-screen:button_menu","assets/death_screen/button-menu.png"),this.load.image("gui:arrow-up","assets/gui/arrow_up.png"),this.load.image("gui:arrow-right","assets/gui/arrow_right.png"),this.load.image("gui:arrow-down","assets/gui/arrow_down.png"),this.load.image("gui:arrow-left","assets/gui/arrow_left.png"),this.load.image("gui:bullet","assets/gui/bullet.png"),this.load.image("gui:button_default_down","assets/gui/button_default_down.png"),this.load.image("gui:button_default_up","assets/gui/button_default_up.png"),this.load.image("gui:button_pause","assets/gui/button_pause.png"),this.load.image("gui:infinity","assets/gui/infinity.png"),this.load.image("gui:inventory_bg","assets/gui/inventory_bg.png"),this.load.image("gui:music_icon_on","assets/gui/music_icon_on.png"),this.load.image("gui:music_icon_off","assets/gui/music_icon_off.png"),this.load.image("gui:crosshair","assets/gui/cursor_crosshair_white.png"),this.load.image("gui:cursor","assets/gui/cursor_white.png"),this.load.spritesheet("gui:hearts","assets/gui/hearts.png",{frameWidth:17,frameHeight:17}),this.load.image("weapon:shovel","assets/weapons/shovel.png"),this.load.image("weapon:pistol","assets/weapons/pistol.png"),this.load.image("weapon:shotgun","assets/weapons/shotgun.png"),this.load.image("weapon:bullet","assets/weapons/bullet.png"),this.load.image("graveyard:mausoleum:bg","assets/graveyard/Mausoleum.png"),this.load.image("graveyard:toolshed:bg","assets/graveyard/Tool Shed.png"),this.load.image("graveyard:house:bg","assets/graveyard/Tulios House.png"),this.load.image("graveyard:room_00:bg","assets/graveyard/Room - [0,0]_ House.png"),this.load.image("graveyard:room_01:bg","assets/graveyard/Room - [0,1].png"),this.load.image("graveyard:room_02_03:bg","assets/graveyard/Room - ([0,2], [0,3]).png"),this.load.image("graveyard:room_04_14:bg","assets/graveyard/Room - ([0,4], [1,4]).png"),this.load.image("graveyard:room_05:bg","assets/graveyard/Room - [0,5].png"),this.load.image("graveyard:room_06_07_16_17:bg","assets/graveyard/Room - ([0,6], [0,7], [1,6], [1,7])_ Key.png"),this.load.image("graveyard:room_10:bg","assets/graveyard/Room - [1,0].png"),this.load.image("graveyard:room_11:bg","assets/graveyard/Room - [1,1].png"),this.load.image("graveyard:room_12:bg","assets/graveyard/Room - [1,2].png"),this.load.image("graveyard:room_13:bg","assets/graveyard/Room - [1,3].png"),this.load.image("graveyard:room_15:bg","assets/graveyard/Room - [1,5].png"),this.load.image("graveyard:room_20_30:bg","assets/graveyard/Room - ([2,0], [3,0]).png"),this.load.image("graveyard:room_21:bg","assets/graveyard/Room - [2,1].png"),this.load.image("graveyard:room_22:bg","assets/graveyard/Room - [2,2].png"),this.load.image("graveyard:room_23_33:bg","assets/graveyard/Room - ([2,3], [3,3]).png"),this.load.image("graveyard:room_24:bg","assets/graveyard/Room - [2,4].png"),this.load.image("graveyard:room_25:bg","assets/graveyard/Room - [2,5].png"),this.load.image("graveyard:room_26:bg","assets/graveyard/Room - [2,6].png"),this.load.image("graveyard:room_27:bg","assets/graveyard/Room - [2,7].png"),this.load.image("graveyard:room_31_32:bg","assets/graveyard/Room - ([3,1], [3,2]).png"),this.load.image("graveyard:room_34:bg","assets/graveyard/Room - [3,4].png"),this.load.image("graveyard:room_35_36:bg","assets/graveyard/Room - ([3,5], [3,6]).png"),this.load.image("graveyard:room_37:bg","assets/graveyard/Room - [3,7].png"),this.load.image("graveyard:room_40_50_41_51:bg","assets/graveyard/Room - ([4,0], [5,0], [4,1], [5,1])_ Key.png"),this.load.image("graveyard:room_42:bg","assets/graveyard/Room - [4,2].png"),this.load.image("graveyard:room_43:bg","assets/graveyard/Room - [4,3].png"),this.load.image("graveyard:room_44_54:bg","assets/graveyard/Room - ([4,4], [5,4]).png"),this.load.image("graveyard:room_45:bg","assets/graveyard/Room - [4,5].png"),this.load.image("graveyard:room_46:bg","assets/graveyard/Room - [4,6].png"),this.load.image("graveyard:room_47:bg","assets/graveyard/Room - [4,7]_ Mausoleum.png"),this.load.image("graveyard:room_52_53:bg","assets/graveyard/Room - ([5,2], [5,3]).png"),this.load.image("graveyard:room_55:bg","assets/graveyard/Room - [5,5].png"),this.load.image("graveyard:room_56_57:bg","assets/graveyard/Room - ([5,6], [5,7]).png"),this.load.image("dungeon:room_00:bg","assets/dungeon/Room 0.png"),this.load.image("dungeon:room_01:bg","assets/dungeon/Room 1.png"),this.load.image("dungeon:room_02:bg","assets/dungeon/Room 2.png"),this.load.image("dungeon:room_03R:bg","assets/dungeon/Room 3R.png"),this.load.image("dungeon:room_04R:bg","assets/dungeon/Room 4R.png"),this.load.image("dungeon:room_05R:bg","assets/dungeon/Room 5_9_10R-9L.png"),this.load.image("dungeon:room_06R:bg","assets/dungeon/Room 6R.png"),this.load.image("dungeon:room_07R:bg","assets/dungeon/Room 7R.png"),this.load.image("dungeon:room_08R:bg","assets/dungeon/Room 8R-7L.png"),this.load.image("dungeon:room_09R:bg","assets/dungeon/Room 5_9_10R-9L.png"),this.load.image("dungeon:room_10R:bg","assets/dungeon/Room 5_9_10R-9L.png"),this.load.image("dungeon:room_11R:bg","assets/dungeon/Room 11R.png"),this.load.image("dungeon:room_12R:bg","assets/dungeon/Room 12R.png"),this.load.image("dungeon:room_13R:bg","assets/dungeon/Room 13R-3_14L.png"),this.load.image("dungeon:room_03L:bg","assets/dungeon/Room 13R-3_14L.png"),this.load.image("dungeon:room_04L:bg","assets/dungeon/Room 4L.png"),this.load.image("dungeon:room_05L:bg","assets/dungeon/Room 5L.png"),this.load.image("dungeon:room_06L:bg","assets/dungeon/Room 6L.png"),this.load.image("dungeon:room_07L:bg","assets/dungeon/Room 8R-7L.png"),this.load.image("dungeon:room_08L:bg","assets/dungeon/Room 8L.png"),this.load.image("dungeon:room_09L:bg","assets/dungeon/Room 5_9_10R-9L.png"),this.load.image("dungeon:room_10L:bg","assets/dungeon/Room 10L.png"),this.load.image("dungeon:room_11L:bg","assets/dungeon/Room 11L.png"),this.load.image("dungeon:room_12L:bg","assets/dungeon/Room 12L.png"),this.load.image("dungeon:room_13L:bg","assets/dungeon/Room 13L.png"),this.load.image("dungeon:room_14L:bg","assets/dungeon/Room 13R-3_14L.png"),this.load.image("dungeon:room_15:bg","assets/dungeon/Room 15.png"),this.load.image("dungeon:room_16:bg","assets/dungeon/Room 16.png"),this.load.image("dungeon:room_17:bg","assets/dungeon/Room 17.png"),this.load.image("dungeon:room_18:bg","assets/dungeon/Room 18.png"),this.load.image("prop:graveyard:tombstone-1","assets/props/graveyard/outside/tombstone-1.png"),this.load.image("prop:graveyard:tombstone-2","assets/props/graveyard/outside/tombstone-2.png"),this.load.image("prop:graveyard:tombstone-3","assets/props/graveyard/outside/tombstone-3.png"),this.load.image("prop:graveyard:tree-1","assets/props/graveyard/outside/Tree-1.png"),this.load.image("prop:graveyard:tree-2","assets/props/graveyard/outside/Tree-2.png"),this.load.image("prop:graveyard:tree-3","assets/props/graveyard/outside/Tree-3.png"),this.load.image("prop:graveyard:house","assets/props/graveyard/outside/House.png"),this.load.image("prop:graveyard:cabin","assets/props/graveyard/outside/Cabin.png"),this.load.image("prop:graveyard:mausoleum","assets/props/graveyard/outside/Mausoleum.png"),this.load.image("prop:graveyard:key","assets/props/graveyard/outside/mausoleum-key.png"),this.load.image("prop:graveyard:home-lamp","assets/props/graveyard/interior/home-lamp.png"),this.load.image("prop:graveyard:trashcan","assets/props/graveyard/interior/trashcan.png"),this.load.image("prop:graveyard:sofa","assets/props/graveyard/interior/sofa.png"),this.load.image("prop:graveyard:blue-chest","assets/props/graveyard/interior/blue-chest.png"),this.load.image("prop:graveyard:hanging-light","assets/props/graveyard/interior/hanging-light.png"),this.load.image("prop:graveyard:stone-coffin","assets/props/graveyard/interior/stone-coffin.png"),this.load.image("prop:graveyard:stairs","assets/props/graveyard/interior/stairs.png"),this.load.image("prop:graveyard:box","assets/props/graveyard/interior/box.png"),this.load.image("prop:graveyard:door-1","assets/props/graveyard/interior/door-1.png"),this.load.image("prop:graveyard:door-2","assets/props/graveyard/interior/door-2.png"),this.load.image("prop:graveyard:door-3","assets/props/graveyard/interior/door-3.png"),this.load.spritesheet("prop:graveyard:door-4","assets/props/graveyard/outside/mausoleum_door_anim.png",{frameWidth:31,frameHeight:45}),this.load.spritesheet("prop:dungeon:door-5","assets/props/dungeon/jorge_door_anim.png",{frameWidth:32,frameHeight:28}),this.load.spritesheet("prop:dungeon:candlestick","assets/props/dungeon/candlestick_anim.png",{frameWidth:9,frameHeight:16}),this.load.image("loot:pistol-bullet","assets/loot/loot-pistol.png"),this.load.image("loot:shotgun-bullet","assets/loot/loot-shotgun.png"),this.load.image("us:lazy-seal","assets/the-gang/lazy-seal-pixelated.png"),this.load.image("us:lazy-seal-name","assets/the-gang/lazy-seal-name.png"),this.load.image("us:neptune","assets/the-gang/neptune-pixelated.png"),this.load.image("us:neptune-name","assets/the-gang/neptune-name.png"),this.load.spritesheet("characters:tulio","assets/characters/Tulio_SpriteSheet.png",{frameWidth:26,frameHeight:28}),this.load.spritesheet("characters:zombie","assets/characters/Zombie.png",{frameWidth:16,frameHeight:28}),this.load.spritesheet("characters:jorge","assets/characters/Jorge.png",{frameWidth:22,frameHeight:28}),this.load.audio("bg_start_music","audio/bg_start_music.wav"),this.load.audio("bg_graveyard_music","audio/bg_graveyard_music.wav"),this.load.audio("bg_dungeon_music","audio/bg_dungeon_music.wav"),this.load.audio("bg_marina_music","audio/bg_marina_music.wav"),this.load.audio("click-button","audio/click-button.wav"),this.load.audio("pickup-loot","audio/pickup-loot.wav"),this.load.audio("dungeon-walk","audio/dungeon-walk.wav"),this.load.audio("graveyard-walk","audio/graveyard-walk.wav"),this.load.audio("person-hit","audio/person-hit.wav"),this.load.audio("zombie-hit","audio/zombie-hit.wav"),this.load.audio("gun-empty","audio/gun-empty.wav"),this.load.audio("pistol-fire","audio/pistol-fire.wav"),this.load.audio("shotgun-fire","audio/shotgun-fire.wav"),this.load.audio("shovel-attack","audio/shovel-attack.wav"),this.cache.addCustom("handlers").add("audioHandler",new N).add("playerHandler",new X).add("progressHandler",new V)}create(){}};let Z=W;Z.key="preloader";const et=class extends Phaser.Scene{constructor(){super(et.key)}create(j){const{pos:U,facingDirection:J}=j;this.screen=new p(this.scale.width,this.scale.height),this.scene.manager.scenes.map(at=>at.scene.key).filter(at=>![et.key,Z.key].includes(at)).forEach(at=>{this.scene.manager.remove(at),this.scene.manager.add(at,Ai[at])}),this.audioHandler=this.cache.custom.handlers.get("audioHandler"),this.cache.custom.handlers.get("playerHandler").clean();const ut=new G(this,U.x,U.y);ut.freeze(),ut.sprite.play(`die-${J}`),ut.sprite.once("animationcomplete",()=>{this.tweens.add({targets:ut.sprite,alpha:0,duration:1e3,onComplete:()=>{this.events.emit("tulio-gone")}})}),this.events.on("tulio-gone",()=>{this.createUI()})}createUI(){const j=this.add.text(this.screen.relativeX(50),this.screen.relativeY(50),"You Died!",{fontFamily:"MinimalPixel",fontSize:"62px",color:"#fff"}).setOrigin(.5).setAlpha(0),U=this.add.image(this.screen.relativeX(35),this.screen.relativeY(75),"death-screen:button_reiniciar").setScale(.5).setAlpha(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.tweens.add({targets:U,scale:.5*1.1,duration:200})}).on("pointerout",()=>{this.tweens.add({targets:U,scale:.5,duration:200})}).on("pointerdown",()=>{this.cameras.main.fadeOut(500,0,0,0),this.audioHandler.playSfx(this,"click-button",.2),this.time.delayedCall(500,()=>{this.scene.run("gui-scene"),this.scene.start("graveyard:house")})}),J=this.add.image(this.screen.relativeX(65),this.screen.relativeY(75),"death-screen:button_menu").setScale(.5).setAlpha(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.tweens.add({targets:J,scale:.5*1.1,duration:200})}).on("pointerout",()=>{this.tweens.add({targets:J,scale:.5,duration:200})}).on("pointerdown",()=>{this.cameras.main.fadeOut(500,0,0,0),this.audioHandler.playSfx(this,"click-button",.2),this.time.delayedCall(500,()=>{this.scene.start("start")})});this.tweens.add({targets:[j,U,J],alpha:1,duration:1e3})}};let it=et;it.key="death";const ht=class extends Phaser.Scene{constructor(){super(ht.key)}create(j){var U;this.screen=new p(this.scale.width,this.scale.height),this.backgroundScenes=this.scene.manager.getScenes(),this.scene.bringToTop(),this.backgroundScenes.forEach(ct=>{ct.scene.pause()}),this.overlay=this.add.graphics({x:0,y:0,fillStyle:{color:0,alpha:.1}}).fillRect(0,0,this.screen.width,this.screen.height);const J=this.box(50,85,80,20,4335898,5,9986875);this.modalBoxText=this.add.text(this.screen.relativeX(11),this.screen.relativeY(76),"",{fontFamily:"PixeloidSans",fontSize:"18px",wordWrap:{width:this.screen.relativeX(70)}});const q=this.box(20,71.25,20,7.5,4335898,5,9986875);if(this.characterBoxText=this.add.text(this.screen.relativeX(11),this.screen.relativeY(68),(U=j.character)!=null?U:"",{fontFamily:"PixeloidSans",fontSize:"32px"}),this.keepGoingIconText=this.add.text(this.screen.relativeX(86),this.screen.relativeY(90),">>",{fontFamily:"PixeloidSans",fontSize:"18px"}),j.characters){const ct=(Et,It=!1)=>{this.characterBoxText.setText(j.characters[Et]),!It&&this.events.once("dialogue-complete",(Kt=!1)=>ct(Et+1,Kt))};ct(0)}const[ut,...at]=j.dialogs;this.runDialog(ut,at)}box(j,U,J,q,ut,at,ct){return j=this.screen.relativeX(j),U=this.screen.relativeY(U),J=this.screen.relativeX(J),q=this.screen.relativeY(q),this.physics.add.staticGroup([this.add.rectangle(j,U,J,q,ut),this.add.graphics().lineStyle(at,ct).strokeRect(j-J/2,U-q/2,J,q)])}runDialog(j,U){const J=j.split("");this.keepGoingIconText.setVisible(!1);const q=this.time.addEvent({callback:()=>{this.modalBoxText.setText(J.slice(0,q.repeat-q.repeatCount+1).join("")),q.getOverallProgress()==1&&ut()},repeat:J.length-1,delay:50});this.input.once("pointerdown",()=>{q.getOverallProgress()!=1&&(this.modalBoxText.setText(J.join("")),ut(),q.destroy())});const ut=()=>{this.keepGoingIconText.setVisible(!0),this.input.once("pointerdown",()=>{if(this.events.emit("dialogue-complete",d().isEmpty(U)),this.modalBoxText.setText(""),d().isEmpty(U)){this.scene.stop(),this.backgroundScenes.forEach(Et=>{Et.scene.resume()});return}const[at,...ct]=U;this.runDialog(at,ct)})}}fadeIn(j){this.cameras.main.fadeIn(j,0,0,0)}fadeOut(j){this.cameras.main.fadeOut(j,0,0,0)}};let vt=ht;vt.key="dialog";var lt=(j=>(j[j["1x1"]=0]="1x1",j[j["2x1"]=1]="2x1",j[j["1x2"]=2]="1x2",j[j["2x2"]=3]="2x2",j))(lt||{}),xt=(j=>(j[j.Tree1=0]="Tree1",j[j.Tree2=1]="Tree2",j[j.Tree3=2]="Tree3",j[j.Tombstone1=3]="Tombstone1",j[j.Tombstone2=4]="Tombstone2",j[j.Tombstone3=5]="Tombstone3",j))(xt||{}),st=(j=>(j[j.Peaceful=0]="Peaceful",j[j.Easy=1]="Easy",j[j.Medium=2]="Medium",j[j.Hard=3]="Hard",j[j.Jorge=4]="Jorge",j))(st||{}),mt=(j=>(j[j.TopLeft=0]="TopLeft",j[j.TopRight=1]="TopRight",j[j.RightTop=2]="RightTop",j[j.RightBottom=3]="RightBottom",j[j.BottomLeft=4]="BottomLeft",j[j.LeftTop=5]="LeftTop",j[j.LeftBottom=6]="LeftBottom",j[j.RightBottomCorner=7]="RightBottomCorner",j[j.LeftBottomCorner=8]="LeftBottomCorner",j))(mt||{});function wt(j,U,J,q,ut){const at=Object.entries(q).map(([ct,Et])=>{var It;return new NextRoomArrow(U,J,ct,Array.isArray(Et)?Et.length:1,(It=ut[ct])!=null?It:0)});U.physics.world.on(`${j}:concluded`,()=>at.forEach(ct=>{ct.toggleVisible()}))}function St(j){const U={up:q=>({x:{relative:!1,offset:q},y:{relative:!0,value:100}}),right:q=>({x:{relative:!0,value:0},y:{relative:!1,offset:q}}),down:q=>({x:{relative:!1,offset:q},y:{relative:!0,value:0}}),left:q=>({x:{relative:!0,value:100},y:{relative:!1,offset:q}})};function J(q,ut){return U[q](ut)}return{up:d().isNumber(j.up)?J("up",j.up):void 0,right:d().isNumber(j.right)?J("right",j.right):void 0,down:d().isNumber(j.down)?J("down",j.down):void 0,left:d().isNumber(j.left)?J("left",j.left):void 0}}function Rt(j,U,J,q){const ut=U.physics.add.staticGroup();["up","down","left","right"].forEach(at=>{if(!q[at])return;const ct=q[at];let Et=J.width/2+60,It=J.height/2+60,Kt=J.relativeX(ct.x),le=J.relativeY(ct.y);switch(at){case"up":{It=J.height*ct.padding/100,Kt+=Et/2;break}case"down":{It=J.height*ct.padding/100,Kt+=Et/2;break}case"left":{Et=J.width*2*ct.padding/100,le+=It/2-60;break}case"right":{Et=J.width*2*ct.padding/100,le+=It/2-60;break}}ut.add(U.add.rectangle(Kt,le,Et,It,0,.5),!0)}),U.physics.add.collider(j,ut)}function Tt(j,U,J){const q={up:ut=>({x:ut,y:5,padding:U.vertical}),down:ut=>({x:ut,y:95,padding:U.vertical}),left:ut=>({x:0,y:ut,padding:U.horizontal}),right:ut=>({x:100,y:ut,padding:U.horizontal})};return{up:_.isNumber(J.up)?q.up(J.up):void 0,right:_.isNumber(J.right)?q.right(J.right):void 0,down:_.isNumber(J.down)?q.down(J.down):void 0,left:_.isNumber(J.left)?q.left(J.left):void 0}}class Bt extends a{constructor(U,J,q,ut,at){super(U,"loot:pistol-bullet",J,o.PistolAmmo,q,ut),this.value=at,this.spawn(),this.idle()}}class Pt extends a{constructor(U,J,q,ut,at){super(U,"loot:shotgun-bullet",J,o.ShotgunAmmo,q,ut),this.value=at,this.spawn(),this.idle()}}class Ft extends O{constructor(U,J,q,ut){switch(super(U,"characters:zombie",U.physics.add.sprite(J,q,"characters:zombie"),10,1,`characters:zombie:${ut}`),this.baseVelocity=30,this.sprite.setSize(this.sprite.width*.75,this.sprite.height*.2).setScale(2.5).setOrigin(.5,.85).setOffset(this.sprite.width*.15,this.sprite.height*.8),U.data.get("difficulty")){case st.Easy:this.baseVelocity=50;break;case st.Medium:this.baseVelocity=75;break;case st.Hard:case st.Jorge:this.baseVelocity=100;break}this.animations=[{key:"walk-up",frames:U.anims.generateFrameNumbers(this.key,{frames:[0,1,2]}),frameRate:6,repeat:-1},{key:"walk-right",frames:U.anims.generateFrameNumbers(this.key,{frames:[3,4,5]}),frameRate:6,repeat:-1},{key:"walk-down",frames:U.anims.generateFrameNumbers(this.key,{frames:[6,7,8]}),frameRate:6,repeat:-1},{key:"walk-left",frames:U.anims.generateFrameNumbers(this.key,{frames:[9,10,11]}),frameRate:6,repeat:-1},{key:"die-up",frames:U.anims.generateFrameNumbers(this.key,{frames:[12,13,14]}),frameRate:6},{key:"die-right",frames:U.anims.generateFrameNumbers(this.key,{frames:[15,16,17]}),frameRate:6},{key:"die-down",frames:U.anims.generateFrameNumbers(this.key,{frames:[18,19,20]}),frameRate:6},{key:"die-left",frames:U.anims.generateFrameNumbers(this.key,{frames:[21,22,23]}),frameRate:6}],this.animations.forEach(at=>{this.sprite.anims.create(at)}),this.player=U.data.get("player"),this.walkEvent=U.time.addEvent({callback:this.update,callbackScope:this,delay:100,loop:!0})}update(){const U=new Phaser.Geom.Line(this.sprite.x,this.sprite.y,this.player.sprite.x,this.player.sprite.y),J=Phaser.Geom.Line.Angle(U)+Math.PI,q=J<0?-J:Math.PI-J+Math.PI;this.sprite.body.setVelocity(-Math.cos(q)*this.baseVelocity,Math.sin(q)*this.baseVelocity),this.sprite.body.velocity.limit(this.baseVelocity);const ut=(q+Math.PI)%(Math.PI*2),at=`walk-${l(ut)}`;this.currentAnimation!=at&&this.sprite.play(at)}attack(U){super.attack(U,this.damage),U.emit("hit")}get facingDirection(){return["up","right","down","left"].find(U=>this.currentAnimation.includes(U))}lootHandler(){const U=d().random(0,100,!0);if(!d().inRange(U,0,50))return;switch(d().sample([o.PistolAmmo,...this.scene.data.get("type")=="dungeon"?[o.ShotgunAmmo]:[]])){case o.PistolAmmo:return new Bt(this.scene,this.player,this.sprite.x,this.sprite.y,Math.trunc(U%4)+2);case o.ShotgunAmmo:return new Pt(this.scene,this.player,this.sprite.x,this.sprite.y,Math.trunc(U%4)+1)}}die(){this.sprite.setMaxVelocity(0),this.walkEvent.destroy(),this.scene.events.emit("remove-zombie",this.sprite.name),this.sprite.play(`die-${this.facingDirection}`),this.sprite.once("animationcomplete",()=>{super.die();const U=this.lootHandler();U&&this.scene.data.get("lootGroup").add(U.sprite)},this)}receiveDamage(U){this.audioHandler.playSfx(this.scene,"zombie-hit",.3),super.receiveDamage(U)}get damage(){return this.baseDamage}}class ae{constructor(U,J,q){this.image=U.add.image(0,0,J).setOrigin(0),U.cameras.main.setBounds(0,0,this.image.width,this.image.height,!0),this.border=q!=null?q:{},this.bounds=this.setBounds()}setBounds(){var U,J,q,ut,at,ct,Et,It;const Kt=800*((J=(U=this.border)==null?void 0:U.left)!=null?J:0)/100,le=600*((ut=(q=this.border)==null?void 0:q.top)!=null?ut:0)/100,li=800*((ct=(at=this.border)==null?void 0:at.right)!=null?ct:0)/100,lr=600*((It=(Et=this.border)==null?void 0:Et.bottom)!=null?It:0)/100,ii=this.image.width-Kt-li,ur=this.image.height-le-lr;return new Phaser.Geom.Rectangle(Kt,le,ii,ur)}applyBoundsOnSprite(U){U.body.setBoundsRectangle(this.bounds)}}class Xt extends Phaser.Physics.Arcade.Sprite{constructor(U,J,q,ut,at){super(U,J,q,ut.includes("weapon")?ut:`prop:${ut}`),super.name=ut,U.add.existing(this),U.physics.add.existing(this,!0),at&&(this.destiny=at)}relativeX(U){return this.displayWidth*U/100}relativeY(U){return this.displayWidth*U/100}rescale(U){this.setScale(U).refreshBody()}resize({width:U=1,height:J=1}){this.setSize(this.displayWidth*U,this.displayHeight*J)}offset({x:U=0,y:J=0}){this.setOffset(this.displayWidth*U,this.displayHeight*J)}addExtraArea(U,J,q){this.scene.events.emit("add-extra-area",U,J,q)}generateOccupiedArea(U=!1){return new Phaser.GameObjects.Rectangle(this.scene,this.x,this.y,this.body.width+50,this.body.height+50,0,U?.5:0)}updatePosition(U,J){this.setPosition(U,J),this.body.x=this.x-this.body.width/2,this.body.y=this.y-this.body.height/2,this.body.center=this.getCenter()}getDestiny(){return this.destiny}}class Qt extends Xt{constructor(U,J,q,ut){var at,ct;super(U,J,q,`graveyard:tombstone-${ut}`),this.rescale(1.5);const It={1:{height:.45},2:{height:.4},3:{height:.65}}[ut];this.resize(It),this.setOrigin(.5,1-((at=It.height)!=null?at:0)+((ct=It.height)!=null?ct:0)/2)}}class zt extends Xt{constructor(U,J,q,ut){super(U,J,q,`graveyard:tree-${ut}`),this.resize({width:.2,height:.1}),this.setOrigin(.5,.95)}}function Lt(j){const U={up:q=>({x:{relative:!1,offset:q},y:{relative:!0,value:100}}),right:q=>({x:{relative:!0,value:0},y:{relative:!1,offset:q}}),down:q=>({x:{relative:!1,offset:q},y:{relative:!0,value:0}}),left:q=>({x:{relative:!0,value:100},y:{relative:!1,offset:q}})};function J(q,{mode:ut,offsets:at,offset:ct}){switch(ut){case"single":return U[q](ct);case"double":return[U[q](at[0]),U[q](at[1])]}}return{up:j.up?J("up",j.up):void 0,right:j.right?J("right",j.right):void 0,down:j.down?J("down",j.down):void 0,left:j.left?J("left",j.left):void 0}}function ee(j,U,J,q){switch(U){case xt.Tree1:return new zt(j,J,q,1);case xt.Tree2:return new zt(j,J,q,2);case xt.Tree3:return new zt(j,J,q,3);case xt.Tombstone1:return new Qt(j,J,q,1);case xt.Tombstone2:return new Qt(j,J,q,2);case xt.Tombstone3:return new Qt(j,J,q,3)}}const se=Object.keys(xt).filter(j=>typeof xt[j]=="number").map(j=>xt[j]);class he{constructor(U,J,q,ut,at){this.scene=U,this.screen=J,this.orientation=q,this.imageDimensions=this.getImageDimensions();const ct=this.getSpawnPosition(ut,at);this.imageGroup=this.scene.add.group(ct.map(Et=>this.scene.add.image(Et.x,Et.y,`gui:arrow-${q}`).setVisible(!1))),this.imageGroup.getChildren().forEach(Et=>{this.addTween(Et)})}getImageDimensions(){const{width:U,height:J}=this.scene.textures.get(`gui:arrow-${this.orientation}`).source[0];return{width:U,height:J}}getSpawnPosition(U,J=0){const q=(ut,at=0+25*J)=>{switch(ut){case"up":return{x:this.screen.relativeX(50+at),y:this.imageDimensions.height};case"right":return{x:this.screen.relativeX(100)-this.imageDimensions.width,y:this.screen.relativeY(50+at)};case"down":return{x:this.screen.relativeX(50+at),y:this.screen.relativeY(100)-this.imageDimensions.height};case"left":return{x:this.imageDimensions.width,y:this.screen.relativeY(50+at)}}};return U==1?[q(this.orientation)]:[q(this.orientation,-25),q(this.orientation,25)]}addTween(U){["left","right"].includes(this.orientation)&&this.scene.tweens.createTimeline({loop:-1}).add({targets:U,x:U.x+U.width/4,duration:200,yoyo:!0}).add({targets:U,x:U.x-U.width/4,duration:200,yoyo:!0}).play(),["up","down"].includes(this.orientation)&&this.scene.tweens.createTimeline({loop:-1}).add({targets:U,y:U.y+U.height/4,duration:200,yoyo:!0}).add({targets:U,y:U.y-U.height/4,duration:200,yoyo:!0}).play()}toggleVisible(){this.imageGroup.toggleVisible()}}var pe=Object.defineProperty,Ee=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,xe=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,yi=(j,U,J)=>U in j?pe(j,U,{enumerable:!0,configurable:!0,writable:!0,value:J}):j[U]=J,Qe=(j,U)=>{for(var J in U||(U={}))Ae.call(U,J)&&yi(j,J,U[J]);if(xe)for(var J of xe(U))Re.call(U,J)&&yi(j,J,U[J]);return j},$e=(j,U)=>Ee(j,Ce(U));class Ki extends Phaser.Scene{constructor(U,J,q,ut,at,ct,Et,It){super(U),this.zombiesInScene=new Array,this.bulletsInScene=new Map,this.key=U,this.borderConfig=J,this.nextRoom=q,this.nextRoomData=ut,this.difficulty=at,this.roomSize=ct,this.nextRoomArrowsPosition=Et!=null?Et:{},this.customBorders=It}init(U){if(console.log(this.constructor.name),this.fadeIn($t),i(U)){this.physics.world.once("worldbounds",this.onWorldBounds,this);return}this.events.on("reposition-player",()=>{const{x:J,y:q}=this.repositionPlayer(U);this.player.setPosition(J,q),this.physics.world.once("worldbounds",this.onWorldBounds,this)})}create(){var U,J;this.bgBorder={top:this.borderConfig.hasTop?this.verticalPadding:void 0,right:this.borderConfig.hasRight?this.horizontalPadding:void 0,bottom:this.borderConfig.hasBottom?this.verticalPadding:void 0,left:this.borderConfig.hasLeft?this.horizontalPadding:void 0},this.borderArea={top:{pos:{x:50,y:0},size:{height:(U=this.bgBorder.top)!=null?U:10,width:100},origin:{x:.5,y:0}},right:{pos:{x:100,y:50},size:{height:100,width:10},origin:{x:1,y:.5}},bottom:{pos:{x:50,y:100},size:{height:(J=this.bgBorder.bottom)!=null?J:10,width:100},origin:{x:.5,y:1}},left:{pos:{x:0,y:50},size:{height:100,width:10},origin:{x:0,y:.5}}},this.bg=new ae(this,`${this.key}:bg`,this.bgBorder),this.screen=new p(this.bg.image.width,this.bg.image.height),this.data.set("difficulty",this.difficulty),this.data.set("bullets",this.bulletsInScene),this.player=new G(this),this.player.sprite.body.setCollideWorldBounds(!0,void 0,void 0,!0),this.data.set("player",this.player),this.events.emit("reposition-player"),this.cameras.main.startFollow(this.player.sprite),this.bg.applyBoundsOnSprite(this.player.sprite),this.staticProps=this.physics.add.staticGroup(),this.events.on("add-extra-area",this.addExtraArea,this),this.physics.add.collider(this.player.sprite,this.staticProps,(at,ct)=>{ct.emit("collide")}),this.physics.add.collider(this.player.sprite,this.staticProps,(at,ct)=>{}),this.enemiesGroup=this.physics.add.group(),this.physics.add.collider(this.enemiesGroup,this.enemiesGroup),this.physics.add.collider(this.player.sprite,this.enemiesGroup,(at,ct)=>{at.body.velocity.limit(30),ct.body.velocity.limit(30);const Et=this.zombiesInScene.find(It=>It.sprite.name==ct.name);at.getData("invencible")||Et.attack(at)}),this.physics.add.collider(this.staticProps,this.enemiesGroup),this.proplessAreas=this.physics.add.staticGroup(),this.generateInicialProplessAreas(),this.refreshProps(),this.lootGroup=this.physics.add.group(),this.data.set("lootGroup",this.lootGroup),this.customBorders&&(this.customBorderGroup=this.createCustomBorders(this.customBorders),this.physics.add.collider(this.player.sprite,this.customBorderGroup),this.physics.add.collider(this.enemiesGroup,this.customBorderGroup)),this.addEnemies(),this.events.on("init-shovel-attack",at=>{const ct=new Set,Et=this.physics.add.overlap(at,this.enemiesGroup,(It,Kt)=>{ct.has(Kt)||(this.player.attack(Kt),ct.add(Kt),this.events.emit("shovel-knockback",Kt,this.player.facingDirection))});this.events.once("finish-shovel-attack",()=>{Et.destroy()})},this),this.events.on("init-bullet-attack",at=>{const ct=this.physics.add.overlap(at,this.enemiesGroup,(Et,It)=>{!ct.active||(this.player.attack(It),Et.emit("enemy-hit",It),ct.destroy())})},this),this.events.on("add-bullet-prop-collider",at=>{const ct=this.physics.add.collider(at,this.staticProps,(Et,It)=>{Et.emit("prop-hit"),ct.destroy()})},this),this.events.on("remove-zombie",at=>{this.enemiesGroup.remove(this.enemiesGroup.getChildren().find(ct=>ct.name==at))}),this.audioHandler=this.cache.custom.handlers.get("audioHandler"),this.audioHandler.handleBackgroundMusic(this);const q=Object.entries(this.nextRoom).map(([at,ct])=>{var Et;return new he(this,this.screen,at,Array.isArray(ct)?ct.length:1,(Et=this.nextRoomArrowsPosition[at])!=null?Et:0)});this.events.on("wake",this.wake,this),this.time.delayedCall(this.difficulty==st.Peaceful?0:3e3,()=>{const at=this.time.addEvent({callback:()=>{this.enemiesGroup.getChildren().every(ct=>!ct.active)&&(this.events.emit("room-concluded"),at.destroy())},loop:!0,delay:1e3});this.events.on("room-concluded",()=>{this.data.set("concluded",!0),q.forEach(ct=>{ct.toggleVisible()})})});const ut=(at,ct)=>{this.fadeOut($t),this.player.freeze(),this.time.delayedCall($t,()=>{this.player.sprite.disableBody(),this.scene.transition({target:at,data:ct,sleep:!0,duration:0}),this.events.once("go-to-interior",ut)})};this.events.once("go-to-interior",ut)}update(){this.player.update(),this.children.list.filter(U=>U.body instanceof Phaser.Physics.Arcade.Body).forEach(U=>{U.setDepth(U.y)}),this.bulletsInScene.forEach(U=>{U.update()})}get progressHandler(){return this.cache.custom.handlers.get("progressHandler")}addFixedProps(...U){this.staticProps.addMultiple(U,!0),this.proplessAreas.addMultiple(U.map(J=>J.generateOccupiedArea()),!0),this.refreshProps()}addProps(...U){U.forEach(J=>{const q=ee(this,J,0,0);do{const ut=v(this.screen);q.updatePosition(ut.x,ut.y)}while(this.proplessAreas.getChildren().some(ut=>!g(q,ut)));this.staticProps.add(q,!0),this.proplessAreas.add(q.generateOccupiedArea(),!0)}),this.refreshProps()}generateRandomProps(U,J=se){const q=f(U,0,J.length).map(ut=>J[ut]);this.addProps(...q)}addExtraArea(U,J,q,ut=!1){q?(this.add.existing(U),this.physics.add.existing(U,!0),this.physics.add.overlap(this.player.sprite,U,q,void 0,this)):this.staticProps.add(U,!0),this.proplessAreas.add(J!=null?J:new Phaser.GameObjects.Rectangle(this,U.x,U.y,U.width+50,U.height+50,0,ut?.5:0),!0),this.refreshProps()}generateInicialProplessAreas(U=!1){if(d().isNil(this.roomSize))return;this.proplessAreas.addMultiple(Object.values(this.borderArea).map(q=>new Phaser.GameObjects.Rectangle(this,this.screen.relativeX(q.pos.x),this.screen.relativeY(q.pos.y),q.size.width==100?this.screen.width:u.relativeX(q.size.width),q.size.height==100?this.screen.height:u.relativeY(q.size.height),0,U?.5:0).setOrigin(q.origin.x,q.origin.y)),!0);const J=q=>{const ut={x:50,height:10,width:100},at={center:$e(Qe({},ut),{y:50}),first:$e(Qe({},ut),{y:25}),second:$e(Qe({},ut),{y:75})},ct={y:50,height:100,width:10},Et={center:$e(Qe({},ct),{x:50}),first:$e(Qe({},ct),{x:25}),second:$e(Qe({},ct),{x:75})};switch(q){case lt["1x1"]:return[at.center,Et.center];case lt["1x2"]:return[at.center,Et.first,Et.second];case lt["2x1"]:return[at.first,at.second];case lt["2x2"]:return[at.first,at.second,Et.first,Et.second]}};this.proplessAreas.addMultiple(J(this.roomSize).map(q=>new Phaser.GameObjects.Rectangle(this,this.screen.relativeX(q.x),this.screen.relativeY(q.y),q.width==100?this.screen.width:u.relativeX(q.width),q.height==100?this.screen.height:u.relativeY(q.height),0,U?.5:0)),!0)}refreshProps(){this.staticProps.getChildren().forEach(U=>{U.setDepth(U.y)})}createCustomBorders(U){const J=this.physics.add.staticGroup();for(const q of U)switch(q){case mt.TopLeft:J.addMultiple([this.add.rectangle(this.screen.relativeX(2),this.screen.relativeY(0),this.screen.relativeX(4),this.screen.relativeY(22)),this.add.rectangle(this.screen.relativeX(73),this.screen.relativeY(0),this.screen.relativeX(54),this.screen.relativeY(22))]);break;case mt.TopRight:J.addMultiple([this.add.rectangle(this.screen.relativeX(27),this.screen.relativeY(0),this.screen.relativeX(54),this.screen.relativeY(22)),this.add.rectangle(this.screen.relativeX(98),this.screen.relativeY(0),this.screen.relativeX(4),this.screen.relativeY(22))]);break;case mt.RightTop:J.addMultiple([this.add.rectangle(this.screen.relativeX(100),this.screen.relativeY(79.5),this.screen.relativeX(16),this.screen.relativeY(70)),this.add.rectangle(this.screen.relativeX(100),this.screen.relativeY(2.75),this.screen.relativeX(16),this.screen.relativeY(5.5))]);break;case mt.RightBottom:J.addMultiple([this.add.rectangle(this.screen.relativeX(100),this.screen.relativeY(20),this.screen.relativeX(16),this.screen.relativeY(70)),this.add.rectangle(this.screen.relativeX(100),this.screen.relativeY(97.25),this.screen.relativeX(16),this.screen.relativeY(5.5))]);break;case mt.BottomLeft:J.addMultiple([this.add.rectangle(this.screen.relativeX(2),this.screen.relativeY(100),this.screen.relativeX(4),this.screen.relativeY(22)),this.add.rectangle(this.screen.relativeX(73),this.screen.relativeY(100),this.screen.relativeX(54),this.screen.relativeY(22))]);break;case mt.LeftTop:J.addMultiple([this.add.rectangle(this.screen.relativeX(0),this.screen.relativeY(79.5),this.screen.relativeX(16),this.screen.relativeY(70)),this.add.rectangle(this.screen.relativeX(0),this.screen.relativeY(2.75),this.screen.relativeX(16),this.screen.relativeY(5.5))]);break;case mt.LeftBottom:J.addMultiple([this.add.rectangle(this.screen.relativeX(0),this.screen.relativeY(20),this.screen.relativeX(16),this.screen.relativeY(70)),this.add.rectangle(this.screen.relativeX(0),this.screen.relativeY(97.25),this.screen.relativeX(16),this.screen.relativeY(5.5))]);break;case mt.LeftBottomCorner:J.add(this.add.rectangle(this.screen.relativeX(4),this.screen.relativeY(94.5),this.screen.relativeX(8),this.screen.relativeY(11)));break;case mt.RightBottomCorner:J.add(this.add.rectangle(this.screen.relativeX(96),this.screen.relativeY(94.5),this.screen.relativeX(8),this.screen.relativeY(11)));break}return J}addEnemies(){let U=0;switch(this.difficulty){case st.Peaceful:U=0;break;case st.Easy:U=d().random(1,3);break;case st.Medium:U=d().random(3,5);break;case st.Hard:U=d().random(5,7);break}switch(this.screen.width/800+this.screen.height/600){case 3:U=Math.floor(U*1.25);break;case 4:U=Math.floor(U*2);break}const J={up:"top",right:"right",down:"bottom",left:"left"},q=Object.entries(this.nextRoom).reduce((at,[ct,Et])=>{if(d().isArray(Et)){const It=Et.filter(Kt=>!this.scene.get(Kt).data.get("concluded")).map((Kt,le)=>{const li=this.borderArea[J[ct]];return $e(Qe({},li),{pos:{x:li.pos.x==50?(le+1)*25:li.pos.x,y:li.pos.y==50?(le+1)*25:li.pos.y}})});return[...at,...It]}return[...at,...this.scene.get(Et).data.get("concluded")?[]:[this.borderArea[J[ct]]]]},[]),ut=(at,ct,Et)=>{switch(ct){case"horizontal":return at==this.screen.relativeX(0)?-Et.sprite.width*Et.sprite.scaleX:at==this.screen.relativeX(100)?at+Et.sprite.width*Et.sprite.scaleX:at;case"vertical":return at==this.screen.relativeY(0)?-Et.sprite.height*Et.sprite.scaleY:at==this.screen.relativeY(100)?at+Et.sprite.height*Et.sprite.scaleY:at}};for(const at of d().range(U)){const ct=d().sample(q);if(!ct)return;this.time.delayedCall(d().random(0,3e3,!0),()=>{var Et;const It=new Ft(this,0,0,this.enemiesGroup.countActive()),Kt={x:15,y:10};do{const le={x:[0,1].includes(ct.origin.x)?this.screen.relativeX(ct.origin.x*100):ct.pos.x==50?this.screen.relativeX(d().random(Kt.x,100-Kt.x,!0)):this.screen.relativeX(d().random(Kt.x+ct.pos.x-25,ct.pos.x+25-Kt.x,!0)),y:[0,1].includes(ct.origin.y)?this.screen.relativeY(ct.origin.y*100):ct.pos.y==50?this.screen.relativeY(d().random(Kt.y,100-Kt.y,!0)):this.screen.relativeY(d().random(Kt.y+ct.pos.y-25,ct.pos.y+25-Kt.y,!0))};It.sprite.setPosition(ut(le.x,"horizontal",It),ut(le.y,"vertical",It))}while(this.enemiesGroup.getChildren().some(le=>!g(It.sprite,le))||((Et=this.customBorderGroup)==null?void 0:Et.getChildren().some(le=>!Phaser.Geom.Rectangle.Intersection(le.getBounds(),It.sprite.getBounds()).isEmpty())));this.enemiesGroup.add(It.sprite),this.zombiesInScene.push(It)})}}onWorldBounds(U){if(!this.data.get("concluded")){this.physics.world.once("worldbounds",this.onWorldBounds,this);return}["up","right","left","down"].forEach(J=>{if(!(U.blocked[J]&&this.nextRoom[J]&&this.nextRoomData[J])){this.isThereNextRoom=!1;return}this.isThereNextRoom=!0,this.handleTransition(J)}),this.isThereNextRoom||this.physics.world.once("worldbounds",this.onWorldBounds,this)}handleTransition(U){var J,q;let ut=this.nextRoomData[U];const at=this.nextRoom[U],ct=["up","down"].includes(U)&&this.player.sprite.x<this.screen.relativeX(50)||["left","right"].includes(U)&&this.player.sprite.y<this.screen.relativeY(50)?"first":"second";Array.isArray(ut)&&(ut=ct=="first"?ut[0]:ut[1]);const Et={x:{relative:ut.x.relative,value:(J=ut.x.value)!=null?J:this.player.sprite.x,offset:ut.x.offset},y:{relative:ut.y.relative,value:(q=ut.y.value)!=null?q:this.player.sprite.y,offset:ut.y.offset}};this.fadeOut($t),this.player.freeze(),this.time.delayedCall($t,()=>{this.player.sprite.disableBody(),this.scene.transition({target:Array.isArray(at)?ct=="first"?at[0]:at[1]:at,data:Et,sleep:!0,duration:0})})}wake(U,J){console.log(this.constructor.name),this.fadeIn($t);const{x:q,y:ut}=this.repositionPlayer(J);this.player.sprite.enableBody(!0,q,ut,!0,!0),this.player.unfreeze(),this.player.refreshWeapon(),this.physics.world.once("worldbounds",this.onWorldBounds,this)}repositionPlayer({x:U,y:J}){var q,ut;const at=this.player.sprite.width+10,ct=this.screen.width-this.player.sprite.width-10,Et=this.player.sprite.height+5,It=this.screen.height-this.player.sprite.height-5,Kt=U.relative?this.screen.relativeX(U.value):U.value+this.screen.relativeX((q=U.offset)!=null?q:0),le=J.relative?this.screen.relativeY(J.value):J.value+this.screen.relativeY((ut=J.offset)!=null?ut:0);return{x:s(Kt,at,ct),y:s(le,Et,It)}}fadeIn(U){this.cameras.main.fadeIn(U,0,0,0)}fadeOut(U){this.cameras.main.fadeOut(U,0,0,0)}}class qt extends Ki{constructor(U,J,q,ut,at,ct,Et){super(U,J,q,ut,at,void 0,ct,Et),this.verticalPadding=11,this.horizontalPadding=8}create(){super.create(),this.data.set("type","dungeon")}}const mn=class extends qt{constructor(){super(mn.key,{hasTop:!0,hasLeft:!0,hasRight:!0},{down:"dungeon:room_01"},St({down:50}),st.Hard)}create(){super.create();const j=new Ot.GameObjects.Rectangle(this.scene.scene,this.screen.relativeX(49),this.screen.relativeY(0),this.screen.relativeX(12.5),this.screen.relativeY(25),0,0);this.add.existing(j),this.physics.add.existing(j,!0),this.physics.add.overlap(this.player.sprite,j,()=>{if(!this.data.get("concluded"))return;const U={x:{relative:!1,value:100},y:{relative:!1,value:300}};this.events.emit("go-to-interior","graveyard:mausoleum",U)},void 0,this)}update(){super.update()}};let xn=mn;xn.key="dungeon:room_00";const yr=class extends qt{constructor(){super(yr.key,{hasBottom:!0},{up:"dungeon:room_00",left:"dungeon:room_03L",right:"dungeon:room_03R"},St({up:-100,left:0,right:0}),st.Hard,{up:1},[mt.TopRight])}create(){super.create()}update(){super.update()}};let Tr=yr;Tr.key="dungeon:room_01";const yn=class extends qt{constructor(){super(yn.key,{hasBottom:!0,hasLeft:!0,hasRight:!0},{up:"dungeon:room_01"},St({up:50}),st.Peaceful)}create(){super.create()}update(){super.update()}};let Tn=yn;Tn.key="dungeon:room_02";const Sn=class extends qt{constructor(){super(Sn.key,{hasTop:!0,hasBottom:!0},{left:"dungeon:room_01",right:"dungeon:room_04R"},St({left:0,right:0}),st.Hard)}create(){super.create()}update(){super.update()}};let En=Sn;En.key="dungeon:room_03R";const Sr=class extends qt{constructor(){super(Sr.key,{hasTop:!0,hasRight:!0},{left:"dungeon:room_03R",down:"dungeon:room_05R"},St({down:0,left:0}),st.Hard,{left:-1},[mt.LeftTop])}create(){super.create()}update(){super.update()}};let Cn=Sr;Cn.key="dungeon:room_04R";const An=class extends qt{constructor(){super(An.key,{hasLeft:!0,hasRight:!0},{up:"dungeon:room_04R",down:"dungeon:room_08R"},St({up:0,down:0}),st.Hard)}create(){super.create()}update(){super.update()}};let Rn=An;Rn.key="dungeon:room_05R";const Zi=class extends qt{constructor(){super(Zi.key,{hasTop:!0,hasBottom:!0,hasLeft:!0},{right:"dungeon:room_08R"},St({right:50}),st.Peaceful)}create(){super.create()}update(){super.update()}};let Pn=Zi;Pn.key="dungeon:room_06R";const bi=class extends qt{constructor(){super(bi.key,{hasTop:!0,hasRight:!0,hasBottom:!0},{left:"dungeon:room_08R"},St({left:50}),st.Peaceful)}create(){super.create()}update(){super.update()}};let Mn=bi;Mn.key="dungeon:room_07R";const Ln=class extends qt{constructor(){super(Ln.key,{hasLeft:!0,hasRight:!0},{up:"dungeon:room_05R",down:"dungeon:room_09R"},St({up:0,down:0}),st.Hard)}create(){super.create()}update(){super.update()}};let On=Ln;On.key="dungeon:room_08R";const Fn=class extends qt{constructor(){super(Fn.key,{hasLeft:!0,hasRight:!0},{up:"dungeon:room_08R",down:"dungeon:room_10R"},St({up:0,down:0}),st.Hard)}create(){super.create()}update(){super.update()}};let In=Fn;In.key="dungeon:room_09R";const Dn=class extends qt{constructor(){super(Dn.key,{hasLeft:!0,hasRight:!0},{up:"dungeon:room_09R",down:"dungeon:room_11R"},St({up:0,down:50}),st.Hard)}create(){super.create()}update(){super.update()}};let Bn=Dn;Bn.key="dungeon:room_10R";const Gn=class extends qt{constructor(){super(Gn.key,{hasRight:!0,hasBottom:!0},{up:"dungeon:room_10R",left:"dungeon:room_13R"},St({up:-100,left:0}),st.Hard,{up:1},[mt.TopRight])}create(){super.create()}update(){super.update()}};let Er=Gn;Er.key="dungeon:room_11R";const Nn=class extends qt{constructor(){super(Nn.key,{hasLeft:!0,hasRight:!0,hasBottom:!0},{up:"dungeon:room_11R"},St({up:50}),st.Peaceful)}create(){super.create()}update(){super.update()}};let wn=Nn;wn.key="dungeon:room_12R";const Yn=class extends qt{constructor(){super(Yn.key,{hasTop:!0,hasBottom:!0},{left:"dungeon:room_15",right:"dungeon:room_11R"},St({left:50,right:0}),st.Hard)}create(){super.create()}update(){super.update()}};let Xn=Yn;Xn.key="dungeon:room_13R";const Un=class extends qt{constructor(){super(Un.key,{hasTop:!0,hasBottom:!0},{left:"dungeon:room_04L",right:"dungeon:room_01"},St({left:0,right:0}),st.Hard)}create(){super.create()}update(){super.update()}};let zn=Un;zn.key="dungeon:room_03L";const Fi=class extends qt{constructor(){super(Fi.key,{hasTop:!0,hasLeft:!0},{right:"dungeon:room_03L",down:"dungeon:room_05L"},St({down:0,right:0}),st.Hard,{},[mt.RightBottomCorner])}create(){super.create()}update(){super.update()}};let Vn=Fi;Vn.key="dungeon:room_04L";const Ii=class extends qt{constructor(){super(Ii.key,{hasRight:!0,hasBottom:!0},{up:"dungeon:room_04L",left:"dungeon:room_06L"},St({up:0,left:-100}),st.Hard,{left:1},[mt.LeftBottom])}create(){super.create()}update(){super.update()}};let Wn=Ii;Wn.key="dungeon:room_05L";const Hn=class extends qt{constructor(){super(Hn.key,{hasTop:!0,hasLeft:!0},{down:"dungeon:room_07L",right:"dungeon:room_05L"},St({down:0,right:50}),st.Hard,{down:-1},[mt.BottomLeft])}create(){super.create()}update(){super.update()}};let Kn=Hn;Kn.key="dungeon:room_06L";const Cr=class extends qt{constructor(){super(Cr.key,{hasRight:!0,hasLeft:!0},{up:"dungeon:room_06L",down:"dungeon:room_09L"},St({up:0,down:0}),st.Hard)}create(){super.create()}update(){super.update()}};let Ar=Cr;Ar.key="dungeon:room_07L";const Rr=class extends qt{constructor(){super(Rr.key,{hasTop:!0,hasBottom:!0,hasLeft:!0},{right:"dungeon:room_07L"},St({right:-50}),st.Peaceful)}create(){super.create()}update(){super.update()}};let Zn=Rr;Zn.key="dungeon:room_08L";const bn=class extends qt{constructor(){super(bn.key,{hasLeft:!0,hasRight:!0},{up:"dungeon:room_07L",down:"dungeon:room_10L"},St({up:0,down:0}),st.Hard)}create(){super.create()}update(){super.update()}};let Jn=bn;Jn.key="dungeon:room_09L";const Qn=class extends qt{constructor(){super(Qn.key,{hasLeft:!0},{up:"dungeon:room_09L",down:"dungeon:room_11L",right:"dungeon:room_12L"},St({up:0,down:0,right:0}),st.Hard,{up:-1,down:-1},[mt.TopLeft,mt.BottomLeft])}create(){super.create()}update(){super.update()}};let Pr=Qn;Pr.key="dungeon:room_10L";const Mr=class extends qt{constructor(){super(Mr.key,{hasLeft:!0,hasRight:!0,hasBottom:!0},{up:"dungeon:room_10L"},St({up:0}),st.Peaceful)}create(){super.create()}update(){super.update()}};let Lr=Mr;Lr.key="dungeon:room_11L";const Ji=class extends qt{constructor(){super(Ji.key,{hasTop:!0,hasRight:!0},{left:"dungeon:room_10L",down:"dungeon:room_13L"},St({down:0,left:0}),st.Hard,{},[mt.LeftBottomCorner])}create(){super.create()}update(){super.update()}};let $n=Ji;$n.key="dungeon:room_12L";const Or=class extends qt{constructor(){super(Or.key,{hasLeft:!0,hasBottom:!0},{up:"dungeon:room_12L",right:"dungeon:room_14L"},St({up:0,right:0}),st.Hard,{right:-1},[mt.RightTop])}create(){super.create()}update(){super.update()}};let Di=Or;Di.key="dungeon:room_13L";const Fr=class extends qt{constructor(){super(Fr.key,{hasTop:!0,hasBottom:!0},{left:"dungeon:room_13L",right:"dungeon:room_15"},St({left:0,right:50}),st.Hard)}create(){super.create()}update(){super.update()}};let jn=Fr;jn.key="dungeon:room_14L";const Ir=class extends qt{constructor(){super(Ir.key,{hasBottom:!0},{up:"dungeon:room_16",left:"dungeon:room_14L",right:"dungeon:room_13R"},St({up:0,left:-100,right:-100}),st.Hard,{left:1,right:1},[mt.LeftBottom,mt.RightBottom])}create(){super.create()}update(){super.update()}};let Dr=Ir;Dr.key="dungeon:room_15";class ai extends Xt{constructor(U,J,q,ut,at){switch(super(U,J,q,ut===5?`dungeon:door-${ut}`:`graveyard:door-${ut}`,at),ut){case 4:this.setScale(1.3),this.refreshBody(),this.setData("hasAnim",!0),this.anims.create({key:"open",frames:this.anims.generateFrameNumbers("prop:graveyard:door-4",{start:0,end:5}),frameRate:5,repeat:0});break;case 5:this.setScale(2.5),this.refreshBody(),this.setData("hasAnim",!0),this.anims.create({key:"open",frames:this.anims.generateFrameNumbers("prop:dungeon:door-5",{start:0,end:14}),frameRate:8,repeat:0});break;default:this.setOrigin(.52,.5);break}this.on("collide",()=>{if(!this.scene.data.get("concluded"))return;const ct=Kt=>{switch(Kt){case"graveyard:house":return{x:{relative:!1,value:375},y:{relative:!1,value:470}};case"graveyard:toolshed":return{x:{relative:!1,value:400},y:{relative:!1,value:480}};case"graveyard:mausoleum":return{x:{relative:!1,value:100},y:{relative:!1,value:300}};case"dungeon:room_18":return{x:{relative:!1,value:800},y:{relative:!1,value:1e3}};default:return}},Et=this.getDestiny(),It=ct(Et);if(!(Et.includes("mausoleum")&&!this.scene.cache.custom.handlers.get("progressHandler").hasKey)&&!!It){if(!this.getData("hasAnim")){this.scene.events.emit("go-to-interior",Et,It);return}this.play("open"),this.on("animationcomplete",()=>{this.scene.events.emit("go-to-interior",Et,It)})}})}}const kn=class extends qt{constructor(){super(kn.key,{hasLeft:!0,hasTop:!0,hasRight:!0},{down:"dungeon:room_15"},St({down:0}),st.Peaceful)}create(){super.create();const j=new ai(this,this.screen.relativeX(50),this.screen.relativeY(6),5,"dungeon:room_18");super.addFixedProps(j)}update(){super.update()}};let Br=kn;Br.key="dungeon:room_16";const Qi=class extends qt{constructor(){super(Qi.key,{hasTop:!0,hasBottom:!0,hasRight:!0,hasLeft:!0},{},{},st.Peaceful)}create(){super.create()}update(){super.update()}};let $i=Qi;$i.key="dungeon:room_17";class Ti extends O{constructor(U,J,q){super(U,"characters:jorge",U.physics.add.sprite(J,q,"characters:jorge"),10,0),this.sprite.setSize(this.sprite.width*.5,this.sprite.height*.2).setScale(3).setOrigin(.5,.85).setOffset(this.sprite.width*.25,this.sprite.height*.8),this.animations=[{key:"idle",frames:U.anims.generateFrameNumbers(this.key,{frames:[0,1,2,3]}),frameRate:4,repeat:-1},{key:"summoning",frames:U.anims.generateFrameNumbers(this.key,{frames:[4,5]}),frameRate:6,repeat:-1},{key:"die",frames:U.anims.generateFrameNumbers(this.key,{frames:[8,9,10]}),frameRate:6}],this.animations.forEach(ut=>{this.sprite.anims.create(ut)}),this.idle()}idle(){this.currentAnimation!="idle"&&this.sprite.play("idle")}summon(){this.currentAnimation!="summoning"&&this.sprite.play("summoning")}die(){this.currentAnimation!="die"&&(this.sprite.play("die"),this.sprite.once("animationcomplete",()=>{super.die()}))}get damage(){return 0}}const Gr=class extends qt{constructor(){super(Gr.key,{hasTop:!0,hasLeft:!0,hasRight:!0,hasBottom:!0},{},{},st.Jorge)}create(){super.create(),this.spawnArea=this.physics.add.staticGroup(),this.spawnArea.addMultiple([this.add.rectangle(this.screen.relativeX(50),this.screen.relativeY(10),this.screen.relativeX(75),this.screen.relativeY(5)),this.add.rectangle(this.screen.relativeX(10),this.screen.relativeY(50),this.screen.relativeX(5),this.screen.relativeY(75)),this.add.rectangle(this.screen.relativeX(50),this.screen.relativeY(90),this.screen.relativeX(75),this.screen.relativeY(5)),this.add.rectangle(this.screen.relativeX(90),this.screen.relativeY(50),this.screen.relativeX(5),this.screen.relativeY(75))],!0),this.jorge=new Ti(this,this.screen.relativeX(50),this.screen.relativeY(50)),this.time.delayedCall($t,()=>{const J=this.time.addEvent({callback:()=>{!Phaser.Geom.Rectangle.ContainsRect(this.cameras.main.getBounds(),this.jorge.sprite.getBounds())||(J.destroy(),this.scene.run("dialog",{characters:["???","T\xFAlio","T\xFAlio","T\xFAlio","???","???","T\xFAlio","T\xFAlio","Jorge","Jorge","T\xFAlio"],dialogs:["O que voc\xEA est\xE1 fazendo aqui em baixo?","Eu que te pergunto isso, e mais, quem \xE9 voc\xEA?","Por que est\xE1 acordando os mortos desse jeito?","Meu cemit\xE9rio virou uma bagun\xE7a, e j\xE1 n\xE3o sei mais quantas vezes eu quase morri hoje.","Tulio, me desculpe... N\xE3o era essa minha inten\xE7\xE3o.","Mas eu n\xE3o vou descansar at\xE9 ver ela mais uma vez!","Ela... Um momento... Jorge \xE9 voc\xEA?","Se bem que faz tempo desde a \xFAltima vez que te vi deixar flores no t\xFAmulo da Mariana.","Chega dessa conversa!","T\xFAlio, eu te pe\xE7o, saia daqui e finja que nunca me viu aqui.","Jorge, voc\xEA sabe muito bem que eu n\xE3o posso fazer isso."]}))},loop:!0,delay:500})}),this.events.on("jorge-die",()=>{this.time.delayedCall(3e3,()=>{this.scene.run("dialog",{character:"T\xFAlio",dialogs:["...","Finalmente acabou...","Jorge, por que voc\xEA teve que ir t\xE3o longe...","O m\xEDnimo que tenho que fazer agora \xE9 enterra-lo ao lado da Mariana, talvez isso traga paz \xE0 eles."]}),this.time.delayedCall(100,()=>{this.scene.start("end")})})});let j=1;this.dispatchWave(j);const U=()=>{if(j==3){this.events.off("wave-concluded",U),this.jorge.sprite.clearTint(),this.events.emit("jorge-die"),this.jorge.die();return}j+=1,this.dispatchWave(j)};this.events.on("wave-concluded",U,this)}update(){super.update()}dispatchWave(j){this.time.delayedCall(2e3,()=>{this.jorge.summon(),j==3&&this.jorge.sprite.setTint(16711680),this.wave(5+j*5)})}wave(j){for(const J of d().range(j)){const q=d().sample(this.spawnArea.getChildren()),ut=Phaser.Geom.Rectangle.Random(q.getBounds(),new Phaser.Geom.Point),at=new Ft(this,ut.x,ut.y,this.enemiesGroup.getChildren().length);this.enemiesGroup.add(at.sprite),this.zombiesInScene.push(at)}const U=this.time.addEvent({callback:()=>{this.enemiesGroup.countActive()==0&&(this.jorge.idle(),this.jorge.sprite.setTint(16711680),this.audioHandler.playSfx(this,"person-hit",.3),this.time.delayedCall(500,()=>{this.jorge.sprite.clearTint()}),this.events.emit("wave-concluded"),U.destroy())},loop:!0,delay:1e3})}};let Nr=Gr;Nr.key="dungeon:room_18";const fa=[xn,Tr,Tn,En,Cn,Rn,Pn,Mn,On,In,Bn,Er,wn,Xn,zn,Vn,Wn,Kn,Ar,Zn,Jn,Pr,Lr,$n,Di,jn,Dr,Br,$i,Nr],ji=class extends Phaser.Scene{constructor(){super(ji.key)}create(){this.screen=new p(this.scale.width,this.scale.height),this.scene.manager.scenes.map(j=>j.scene.key).filter(j=>![ji.key,Z.key].includes(j)).forEach(j=>{this.scene.manager.remove(j),this.scene.manager.add(j,Ai[j])}),this.audioHandler=this.cache.custom.handlers.get("audioHandler"),this.createUI()}createUI(){const j=this.add.text(this.screen.relativeX(50),this.screen.relativeY(50),"Obrigado por jogar!",{fontFamily:"MinimalPixel",fontSize:"62px",color:"#fff"}).setOrigin(.5).setAlpha(0),U=this.add.image(this.screen.relativeX(35),this.screen.relativeY(75),"death-screen:button_menu").setScale(.5).setAlpha(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.tweens.add({targets:U,scale:.5*1.1,duration:200})}).on("pointerout",()=>{this.tweens.add({targets:U,scale:.5,duration:200})}).on("pointerdown",()=>{this.cameras.main.fadeOut(500,0,0,0),this.audioHandler.playSfx(this,"click-button",.2),this.time.delayedCall(500,()=>{this.scene.start("start")})}),J=this.add.image(this.screen.relativeX(65),this.screen.relativeY(75),"title-screen:button_creditos").setScale(.5).setAlpha(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.tweens.add({targets:J,scale:.5*1.1,duration:200})}).on("pointerout",()=>{this.tweens.add({targets:J,scale:.5,duration:200})}).on("pointerdown",()=>{this.cameras.main.fadeOut(500,0,0,0),this.audioHandler.playSfx(this,"click-button",.2),this.time.delayedCall(500,()=>{this.scene.start("credits")})});this.tweens.add({targets:[j,U,J],alpha:1,duration:1e3})}};let wr=ji;wr.key="end";class qn extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:house"),this.resize({width:.82,height:.5}),this.setOrigin(.495,.57),this.addExtraArea(new Phaser.GameObjects.Rectangle(U,this.x+this.relativeX(-5.5),this.y+this.relativeY(21),this.relativeX(15),this.relativeY(5),0,0),new Phaser.GameObjects.Rectangle(U,this.x+this.relativeX(-5.5),this.y+this.relativeY(21),this.relativeX(20),this.relativeY(50),0,0).setOrigin(.5,.05),(ut,at)=>{if(!this.scene.data.get("concluded"))return;const ct={x:{relative:!1,value:375},y:{relative:!1,value:470}};this.scene.events.emit("go-to-interior","graveyard:house",ct)}),this.addExtraArea(new Phaser.GameObjects.Rectangle(U,this.x+this.relativeX(27),this.y+this.relativeY(26.5),this.relativeX(28),this.relativeY(10),0,0))}}class bt extends Ki{constructor(U,J,q,ut,at,ct){super(U,J,q,ut,ct,at,void 0,void 0),this.verticalPadding=17,this.horizontalPadding=6.5}create(){super.create(),this.data.set("type","graveyard")}}const _n=class extends bt{constructor(){super(_n.key,{hasTop:!0,hasLeft:!0},{right:"graveyard:room_01",down:"graveyard:room_10"},Lt({right:{mode:"single"},down:{mode:"single"}}),lt["1x1"],st.Easy)}create(){super.create(),super.addFixedProps(new qn(this,this.screen.relativeX(28),this.screen.relativeY(32))),super.generateRandomProps(5,[xt.Tree1,xt.Tree2,xt.Tree3]),this.events.on("room-concluded",()=>{this.scene.run("dialog",{character:"T\xFAlio",dialogs:["Pu@! %$#&!, O que t\xE1 rolando no meu cemit\xE9rio?","Pelo jeito vou precisar da ajuda da minha velha companheira Bala Mansa.","Eu tenho quase certeza que a deixei na cabana, que fica aqui \xE0 direita"]})})}update(){super.update()}};let ts=_n;ts.key="graveyard:room_00";const es=class extends bt{constructor(){super(es.key,{hasTop:!0},{left:"graveyard:room_00",right:"graveyard:room_02_03",down:"graveyard:room_11"},Lt({left:{mode:"single"},right:{mode:"single"},down:{mode:"single"}}),lt["1x1"],st.Easy)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let Yr=es;Yr.key="graveyard:room_01";class va extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:cabin"),this.resize({height:.4,width:.925}),this.setOrigin(.5,.75),this.addExtraArea(new Phaser.GameObjects.Rectangle(U,this.x+this.relativeX(3),this.y+this.relativeY(27),this.relativeX(20),this.relativeY(7),0,0),new Phaser.GameObjects.Rectangle(U,this.x+this.relativeX(3),this.y+this.relativeY(27),this.relativeX(30),this.relativeY(100),0,0).setOrigin(.5,.05),(ut,at)=>{if(!this.scene.data.get("concluded"))return;const ct={x:{relative:!1,value:400},y:{relative:!1,value:480}};this.scene.events.emit("go-to-interior","graveyard:toolshed",ct)})}}const is=class extends bt{constructor(){super(is.key,{hasTop:!0},{left:"graveyard:room_01",right:"graveyard:room_04_14",down:["graveyard:room_12","graveyard:room_13"]},Lt({left:{mode:"single"},right:{mode:"single"},down:{mode:"double",offsets:[0,-100]}}),lt["1x2"],st.Easy)}create(){super.create(),super.addFixedProps(new va(this,this.screen.relativeX(15),this.screen.relativeY(30))),super.generateRandomProps(10)}update(){super.update()}};let rs=is;rs.key="graveyard:room_02_03";const ns=class extends bt{constructor(){super(ns.key,{hasTop:!0},{right:["graveyard:room_05","graveyard:room_15"],left:["graveyard:room_02_03","graveyard:room_13"],down:"graveyard:room_24"},Lt({right:{mode:"double",offsets:[0,0]},down:{mode:"single"},left:{mode:"double",offsets:[0,0]}}),lt["2x1"],st.Easy)}create(){super.create(),super.generateRandomProps(10)}update(){super.update()}};let ki=ns;ki.key="graveyard:room_04_14";const ss=class extends bt{constructor(){super(ss.key,{hasTop:!0},{right:"graveyard:room_06_07_16_17",left:"graveyard:room_04_14",down:"graveyard:room_15"},Lt({right:{mode:"single"},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Easy)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let as=ss;as.key="graveyard:room_05";class os extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:key"),this.on("picked",ut=>{U.scene.run("dialog",{character:"T\xFAlio",dialogs:ut?["Aha!, finalmente te achei, sua chave danada.","Agora, posso abrir a porta do mausol\xE9u"]:["Hmmm, uma chave?","Me pergunto o que ela abre."]}),this.destroy(!0)})}}const hs=class extends bt{constructor(){super(hs.key,{hasTop:!0,hasRight:!0},{left:["graveyard:room_05","graveyard:room_15"],down:["graveyard:room_26","graveyard:room_27"]},Lt({left:{mode:"double",offsets:[0,-100]},down:{mode:"double",offsets:[0,-100]}}),lt["2x2"],st.Medium)}create(){if(super.create(),super.generateRandomProps(20),!this.progressHandler.hasKey){const j=new os(this,this.screen.relativeX(75),this.screen.relativeY(25));super.addFixedProps(j),j.on("collide",()=>{this.progressHandler.hasKey=!0,j.emit("picked",this.progressHandler.searchingForKey)})}}update(){super.update()}};let ls=hs;ls.key="graveyard:room_06_07_16_17";const re=class extends bt{constructor(){super(re.key,{hasLeft:!0},{up:"graveyard:room_00",right:"graveyard:room_11",down:"graveyard:room_20_30"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single"}}),lt["1x1"],st.Easy)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let ie=re;ie.key="graveyard:room_10";const us=class extends bt{constructor(){super(us.key,{},{up:"graveyard:room_01",right:"graveyard:room_12",left:"graveyard:room_10",down:"graveyard:room_21"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Easy)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let fs=us;fs.key="graveyard:room_11";const vs=class extends bt{constructor(){super(vs.key,{},{up:"graveyard:room_02_03",right:"graveyard:room_13",left:"graveyard:room_11",down:"graveyard:room_22"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Easy)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let ds=vs;ds.key="graveyard:room_12";const cs=class extends bt{constructor(){super(cs.key,{},{up:"graveyard:room_02_03",right:"graveyard:room_04_14",left:"graveyard:room_12",down:"graveyard:room_23_33"},Lt({up:{mode:"single",offset:50},right:{mode:"single",offset:50},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Easy)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let ps=cs;ps.key="graveyard:room_13";const Xr=class extends bt{constructor(){super(Xr.key,{},{up:"graveyard:room_05",right:"graveyard:room_06_07_16_17",left:"graveyard:room_04_14",down:"graveyard:room_25"},Lt({up:{mode:"single"},right:{mode:"single",offset:50},down:{mode:"single"},left:{mode:"single",offset:50}}),lt["1x1"],st.Easy)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let gs=Xr;gs.key="graveyard:room_15";const de=class extends bt{constructor(){super(de.key,{hasLeft:!0},{up:"graveyard:room_10",right:["graveyard:room_21","graveyard:room_31_32"],down:"graveyard:room_40_50_41_51"},Lt({up:{mode:"single"},right:{mode:"double",offsets:[0,-100]},down:{mode:"single"}}),lt["2x1"],st.Easy)}create(){super.create(),super.generateRandomProps(10)}update(){super.update()}};let Ur=de;Ur.key="graveyard:room_20_30";const Si=class extends bt{constructor(){super(Si.key,{},{up:"graveyard:room_11",right:"graveyard:room_22",down:"graveyard:room_31_32",left:"graveyard:room_20_30"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Easy)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let zr=Si;zr.key="graveyard:room_21";const qi=class extends bt{constructor(){super(qi.key,{},{up:"graveyard:room_12",right:"graveyard:room_23_33",down:"graveyard:room_31_32",left:"graveyard:room_21"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single",offset:50},left:{mode:"single"}}),lt["1x1"],st.Medium)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let Pe=qi;Pe.key="graveyard:room_22";const Vr=class extends bt{constructor(){super(Vr.key,{},{up:"graveyard:room_13",right:["graveyard:room_24","graveyard:room_34"],down:"graveyard:room_43",left:["graveyard:room_22","graveyard:room_31_32"]},Lt({up:{mode:"single"},right:{mode:"double",offsets:[0,-100]},down:{mode:"single"},left:{mode:"double",offsets:[0,-100]}}),lt["2x1"],st.Medium)}create(){super.create(),super.generateRandomProps(10)}update(){super.update()}};let Wr=Vr;Wr.key="graveyard:room_23_33";const Hr=class extends bt{constructor(){super(Hr.key,{},{up:"graveyard:room_04_14",right:"graveyard:room_25",down:"graveyard:room_34",left:"graveyard:room_23_33"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Medium)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let Kr=Hr;Kr.key="graveyard:room_24";const Zr=class extends bt{constructor(){super(Zr.key,{},{up:"graveyard:room_15",right:"graveyard:room_26",down:"graveyard:room_35_36",left:"graveyard:room_24"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Medium)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let br=Zr;br.key="graveyard:room_25";const ye=class extends bt{constructor(){super(ye.key,{},{up:"graveyard:room_06_07_16_17",right:"graveyard:room_27",down:"graveyard:room_35_36",left:"graveyard:room_25"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single",offset:50},left:{mode:"single"}}),lt["1x1"],st.Medium)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let ms=ye;ms.key="graveyard:room_26";const Me=class extends bt{constructor(){super(Me.key,{hasRight:!0},{up:"graveyard:room_06_07_16_17",down:"graveyard:room_37",left:"graveyard:room_26"},Lt({up:{mode:"single",offset:50},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Medium)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let xs=Me;xs.key="graveyard:room_27";const Jr=class extends bt{constructor(){super(Jr.key,{},{up:["graveyard:room_21","graveyard:room_22"],right:"graveyard:room_23_33",down:["graveyard:room_40_50_41_51","graveyard:room_42"],left:"graveyard:room_20_30"},Lt({up:{mode:"double",offsets:[0,-100]},right:{mode:"single",offset:50},down:{mode:"double",offsets:[50,-100]},left:{mode:"single",offset:50}}),lt["1x2"],st.Medium)}create(){super.create(),super.generateRandomProps(10)}update(){super.update()}};let je=Jr;je.key="graveyard:room_31_32";const Bi=class extends bt{constructor(){super(Bi.key,{},{up:"graveyard:room_24",right:"graveyard:room_35_36",down:"graveyard:room_44_54",left:"graveyard:room_23_33"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single"},left:{mode:"single",offset:50}}),lt["1x1"],st.Medium)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let _i=Bi;_i.key="graveyard:room_34";const ne=class extends bt{constructor(){super(ne.key,{},{up:["graveyard:room_25","graveyard:room_26"],right:"graveyard:room_37",down:["graveyard:room_45","graveyard:room_46"],left:"graveyard:room_34"},Lt({up:{mode:"double",offsets:[0,-100]},right:{mode:"single"},down:{mode:"double",offsets:[0,-100]},left:{mode:"single"}}),lt["1x2"],st.Medium)}create(){super.create(),super.generateRandomProps(10)}update(){super.update()}};let ke=ne;ke.key="graveyard:room_35_36";const tr=class extends bt{constructor(){super(tr.key,{hasRight:!0},{up:"graveyard:room_27",down:"graveyard:room_47",left:"graveyard:room_35_36"},Lt({up:{mode:"single"},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Medium)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let ys=tr;ys.key="graveyard:room_37";const er=class extends bt{constructor(){super(er.key,{hasLeft:!0,hasBottom:!0},{up:["graveyard:room_20_30","graveyard:room_31_32"],right:["graveyard:room_42","graveyard:room_52_53"]},Lt({up:{mode:"double",offsets:[0,-50]},right:{mode:"double",offsets:[0,0]}}),lt["2x2"],st.Medium)}create(){if(super.create(),super.generateRandomProps(20),!this.progressHandler.hasKey){const j=new os(this,this.screen.relativeX(75),this.screen.relativeY(25));super.addFixedProps(j),j.once("collide",()=>{this.progressHandler.hasKey=!0,j.emit("picked",this.progressHandler.searchingForKey)})}}update(){super.update()}};let Ts=er;Ts.key="graveyard:room_40_50_41_51";const Ss=class extends bt{constructor(){super(Ss.key,{},{up:"graveyard:room_31_32",right:"graveyard:room_43",down:"graveyard:room_52_53",left:"graveyard:room_40_50_41_51"},Lt({up:{mode:"single",offset:50},right:{mode:"single"},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Medium)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let Es=Ss;Es.key="graveyard:room_42";const Qr=class extends bt{constructor(){super(Qr.key,{},{up:"graveyard:room_23_33",right:"graveyard:room_44_54",down:"graveyard:room_52_53",left:"graveyard:room_42"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single",offset:50},left:{mode:"single"}}),lt["1x1"],st.Medium)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let Gi=Qr;Gi.key="graveyard:room_43";const oi=class extends bt{constructor(){super(oi.key,{hasBottom:!0},{up:"graveyard:room_34",right:["graveyard:room_45","graveyard:room_55"],left:["graveyard:room_43","graveyard:room_52_53"]},Lt({up:{mode:"single"},right:{mode:"double",offsets:[0,-100]},left:{mode:"double",offsets:[0,-100]}}),lt["2x1"],st.Hard)}create(){super.create(),super.generateRandomProps(10)}update(){super.update()}};let Cs=oi;Cs.key="graveyard:room_44_54";const $r=class extends bt{constructor(){super($r.key,{},{up:"graveyard:room_35_36",right:"graveyard:room_46",down:"graveyard:room_55",left:"graveyard:room_44_54"},Lt({up:{mode:"single"},right:{mode:"single"},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Hard)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let jr=$r;jr.key="graveyard:room_45";const ir=class extends bt{constructor(){super(ir.key,{},{up:"graveyard:room_35_36",right:"graveyard:room_47",down:"graveyard:room_56_57",left:"graveyard:room_45"},Lt({up:{mode:"single",offset:50},right:{mode:"single"},down:{mode:"single"},left:{mode:"single"}}),lt["1x1"],st.Hard)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let rr=ir;rr.key="graveyard:room_46";const kr=class extends bt{constructor(){super(kr.key,{hasRight:!0},{up:"graveyard:room_37",down:"graveyard:room_56_57",left:"graveyard:room_46"},Lt({up:{mode:"single"},down:{mode:"single",offset:50},left:{mode:"single"}}),lt["1x1"],st.Hard)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let As=kr;As.key="graveyard:room_47";const nr=class extends bt{constructor(){super(nr.key,{hasBottom:!0},{up:["graveyard:room_42","graveyard:room_43"],right:"graveyard:room_44_54",left:"graveyard:room_40_50_41_51"},Lt({up:{mode:"double",offsets:[0,-100]},right:{mode:"single",offset:50},left:{mode:"single",offset:50}}),lt["1x2"],st.Medium)}create(){super.create(),super.generateRandomProps(10)}update(){super.update()}};let sr=nr;sr.key="graveyard:room_52_53";const Rs=class extends bt{constructor(){super(Rs.key,{hasBottom:!0},{up:"graveyard:room_45",right:"graveyard:room_56_57",left:"graveyard:room_44_54"},Lt({up:{mode:"single"},right:{mode:"single"},left:{mode:"single",offset:50}}),lt["1x1"],st.Hard)}create(){super.create(),super.generateRandomProps(6)}update(){super.update()}};let qr=Rs;qr.key="graveyard:room_55";class Le extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:mausoleum"),this.rescale(1.25),this.resize({height:.5,width:.9}),this.setOrigin(.5,.7),this.addExtraArea(new Phaser.GameObjects.Rectangle(U,this.x+this.relativeX(0),this.y+this.relativeY(37.5),this.relativeX(25),this.relativeY(10),0,0),new Phaser.GameObjects.Rectangle(U,this.x+this.relativeX(0),this.y+this.relativeY(37.5),this.relativeX(35),this.relativeY(100),0,0).setOrigin(.5,.1))}}const ar=class extends bt{constructor(){super(ar.key,{hasBottom:!0,hasRight:!0},{up:["graveyard:room_46","graveyard:room_47"],left:"graveyard:room_55"},Lt({up:{mode:"double",offsets:[0,-100]},left:{mode:"single"}}),lt["1x2"],st.Hard)}create(){super.create(),this.doors=[new ai(this,this.screen.relativeX(90.05),this.screen.relativeY(33.5),4,"graveyard:mausoleum")],this.doors.forEach(U=>super.addFixedProps(U));const j=new Le(this,this.screen.relativeX(90),this.screen.relativeY(30));super.addFixedProps(j),super.generateRandomProps(10),this.events.once("room-concluded",()=>{const U=this.time.addEvent({callback:()=>{d().isEmpty(this.cameras.main.cull([j]))||(this.progressHandler.hasKey||(this.progressHandler.searchingForKey=!0),this.scene.run("dialog",{character:"T\xFAlio",dialogs:["Ora ora, mas que surpresa, faz tanto tempo que eu n\xE3o visito o maus\xF3leu.","Espera, a porta do mausol\xE9u t\xE1 trancada?","Quem diabos trancou?",...this.progressHandler.hasKey?["Hmm, sera que aquela chave que eu peguei mais cedo abre essa porta","Bom, s\xF3 h\xE1 um jeito de descobrir"]:["Bom, deixa eu pegar a chave que est\xE1 no meu bolso e...","\xD3timo... A chave desapareceu...","Eu n\xE3o tenho um minuto de paz!","Agora, vou ter que vasculhar esse cemit\xE9rio em busca dessa maldita chave!"]]}),U.destroy())},loop:!0,delay:1e3})})}update(){super.update()}};let Ei=ar;Ei.key="graveyard:room_56_57";const Ps=[ts,Yr,rs,ki,as,ls,ie,fs,ds,ps,gs,Ur,zr,Pe,Wr,Kr,br,ms,xs,je,_i,ke,ys,Ts,Es,Gi,Cs,jr,rr,As,sr,qr,Ei];class Ms{constructor(U){this.keys={w:U.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W,!0),a:U.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A,!0),s:U.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S,!0),d:U.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D,!0)},this.pointer=U.input.mousePointer,this.shiftKey=U.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SHIFT,!0)}get isLeft(){return this.keys.a.isDown}get isRight(){return this.keys.d.isDown}get isUp(){return this.keys.w.isDown}get isDown(){return this.keys.s.isDown}get isVertical(){return this.isUp||this.isDown}get isHorizontal(){return this.isLeft||this.isRight}get shift(){return this.shiftKey.isDown}get isPressed(){return Object.values(this.keys).some(U=>U.isDown)}}const _r=class extends Phaser.Scene{constructor(){super(_r.key)}create(){this.data.set("direction",new Ms(this)),this.scene.bringToTop(),this.cameras.main.fadeIn(500,0,0,0),this.screen=new p(800,600),this.audioHandler=new N;const j=this.cache.custom.handlers.get("playerHandler");this.weaponBg=this.add.image(this.screen.relativeX(7),this.screen.relativeY(8),"gui:inventory_bg"),this.handlePlayerData(j.playerData),this.events.on("refresh-player-data",U=>{this.handlePlayerData(U)}),this.createPauseUI()}handlePlayerData(j){var U;this.weapon=j.weapons[(U=j.selectedWeapon)!=null?U:-1];const J={[T.shovel]:"weapon:shovel",[T.pistol]:"weapon:pistol",[T.shotgun]:"weapon:shotgun"};if(this.weapon){switch(this.clearWeapon(),this.weaponIcon=this.add.image(this.weaponBg.x,this.weaponBg.y,J[this.weapon.type]),this.weapon.type){case T.shotgun:this.weaponIcon.setScale(1.5);break;case T.pistol:this.weaponIcon.setScale(2);break}this.createAmmunitionText(this.weaponBg.x,this.weaponBg.y)}this.health=j.health,this.handleHealthHearts(this.weaponBg.x+30,this.weaponBg.y)}createAmmunitionText(j,U){var J,q;if(j-=15,U+=30,((J=this.weapon)==null?void 0:J.type)===T.shovel){this.ammunitionText=this.add.text(j,U,"x",{color:"#EDEDED",fontFamily:"ZillaSlab",fontSize:"20px"}),this.ammunitionIcon=this.add.image(j+22,U+10,"gui:infinity");return}this.ammunitionText=this.add.text(j,U,`x${(q=this.weapon)==null?void 0:q.ammo}`,{color:"#EDEDED",fontFamily:"ZillaSlab",fontSize:"20px"}),this.ammunitionIcon=this.add.image(j+this.ammunitionText.width+10,U+15,"gui:bullet")}handleAmmunitionText(){var j,U;(U=this.ammunitionText)==null||U.setText(`x${(j=this.weapon)==null?void 0:j.ammo}`)}clearWeapon(){var j,U,J;(j=this.weaponIcon)==null||j.destroy(),(U=this.ammunitionIcon)==null||U.destroy(),(J=this.ammunitionText)==null||J.destroy()}handleHealthHearts(j,U){this.hearts=[];let J=1;for(J;J<=Math.floor(this.health/2);J++)this.hearts.push(this.add.image(j+30*J,U,"gui:hearts",0));for(this.health%2==1&&(this.hearts.push(this.add.image(j+30*J,U,"gui:hearts",2)),J++),J;J<=5;J++)this.hearts.push(this.add.image(j+30*J,U,"gui:hearts",4));this.hearts.forEach(q=>{q.setScale(1.5)})}createPauseUI(){this.pauseButton=this.add.image(this.screen.relativeX(92),this.screen.relativeY(8),"gui:button_pause").setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.audioHandler.playSfx(this,"click-button",.2),this.startPause()}),this.pauseScreenGroup=this.add.group();const j=this.add.graphics({x:0,y:0,fillStyle:{color:0,alpha:.5}}).fillRect(0,0,this.screen.width,this.screen.height),U=this.add.text(0,0,"PAUSADO",{fontFamily:"MinimalPixel",fontSize:"56px",color:"#EDEDED",shadow:{fill:!0,blur:10,offsetY:8}});U.setPosition(this.screen.relativeX(50)-U.width/2,this.screen.relativeY(35));const J=this.add.image(this.screen.relativeX(50),this.screen.relativeY(55),"gui:button_default_up").setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.audioHandler.playSfx(this,"click-button",.2),J.setTexture("gui:button_default_down"),q.setPadding(0,3,0,0)}).on("pointerup",()=>{J.setTexture("gui:button_default_up"),q.setPadding(0,0,0,0),this.stopPause("continue")}),q=this.add.text(0,0,"CONTINUAR",{fontFamily:"MinimalPixel",fontSize:"18px",color:"#EDEDED"});q.setPosition(J.x-q.width/2,J.y-q.height/2-4);const ut=this.add.image(this.screen.relativeX(50),this.screen.relativeY(65),"gui:button_default_up").setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.audioHandler.playSfx(this,"click-button",.2),ut.setTexture("gui:button_default_down"),at.setPadding(0,3,0,0)}).on("pointerup",()=>{ut.setTexture("gui:button_default_up"),at.setPadding(0,0,0,0),this.stopPause("menu")}),at=this.add.text(0,0,"MENU",{fontFamily:"MinimalPixel",fontSize:"18px",color:"#EDEDED"});at.setPosition(ut.x-at.width/2,ut.y-at.height/2-4);const ct=this.add.image(this.screen.relativeX(92),this.screen.relativeY(8),"gui:music_icon_on").setScale(.7).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{if(this.audioHandler.playSfx(this,"click-button",.2),this.audioHandler.music){ct.setTexture("gui:music_icon_off"),this.audioHandler.turnOffMusic(this);return}ct.setTexture("gui:music_icon_on"),this.audioHandler.turnOnMusic(this.scene.manager.getScene(this.currSceneKey))});this.pauseScreenGroup.addMultiple([j,U,J,q,ut,at,ct]),this.pauseScreenGroup.setVisible(!1)}startPause(){this.pauseButton.setVisible(!1),this.pauseScreenGroup.toggleVisible(),this.scene.manager.getScenes(!0).forEach(U=>{U.scene.key!="gui-scene"&&(this.currSceneKey=U.sys.config,U.scene.pause())})}stopPause(j){this.pauseButton.setVisible(!0),this.pauseScreenGroup.toggleVisible(),j==="menu"?(this.scene.stop(this.currSceneKey),this.scene.manager.scenes.map(U=>U.scene.key).filter(U=>![_r.key,Z.key].includes(U)).forEach(U=>{this.scene.manager.remove(U),this.scene.manager.add(U,Ai[U])}),this.scene.start("start")):this.scene.manager.getScene(this.currSceneKey).scene.resume()}};let Ls=_r;Ls.key="gui-scene";class Os extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:box")}}class da extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:stairs","dungeon:room_00")}}class ca extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:stone-coffin"),this.resize({width:.97,height:.62}),this.setOrigin(.5,.65)}}class hi extends Xt{constructor(U,J,q,ut){switch(ut){case T.shovel:{super(U,J,q,"weapon:shovel"),this.setScale(1.6).setOrigin(.3,.3).resize({width:1,height:1});break}case T.pistol:{super(U,J,q,"weapon:pistol"),this.setScale(2.8).setOrigin(.2,.2).resize({width:1,height:1});break}case T.shotgun:{super(U,J,q,"weapon:shotgun"),this.setRotation(Math.PI).setScale(1.8).setOrigin(.7,.7).resize({width:1,height:1});break}}}}class tn extends Phaser.Scene{constructor(U,J,q,ut,at,ct={top:15,bottom:15},Et=6.5){var It,Kt;super(U),this.key=U,this.bgBorder={top:J.hasTop?ct.top:void 0,right:J.hasRight?Et:void 0,bottom:J.hasBottom?ct.bottom:void 0,left:J.hasLeft?Et:void 0},this.nextRoom=q,this.nextRoomData=ut,this.difficulty=at,this.borderArea={top:{pos:{x:50,y:0},size:{height:(It=this.bgBorder.top)!=null?It:13,width:100},origin:{x:.5,y:0}},right:{pos:{x:100,y:50},size:{height:100,width:7},origin:{x:1,y:.5}},bottom:{pos:{x:50,y:100},size:{height:(Kt=this.bgBorder.bottom)!=null?Kt:13,width:100},origin:{x:.5,y:1}},left:{pos:{x:0,y:50},size:{height:100,width:7},origin:{x:0,y:.5}}}}init(U){this.fadeIn($t),!d().isEmpty(U)&&this.events.on("reposition-player",()=>{const{x:J,y:q}=this.repositionPlayer(U);this.player.setPosition(J,q)})}create(){switch(this.bg=new ae(this,`${this.key}:bg`,this.bgBorder),this.screen=new p(this.bg.image.width,this.bg.image.height),this.key){case"graveyard:house":this.player=new G(this,635,490);break;case"graveyard:toolshed":this.player=new G(this,400,480);break;case"graveyard:mausoleum":this.player=new G(this,100,300);break}this.player.sprite.body.setCollideWorldBounds(!0,void 0,void 0,!0),this.data.set("player",this.player),this.events.emit("reposition-player"),this.events.on("wake",this.wake,this),this.cameras.main.startFollow(this.player.sprite),this.bg.applyBoundsOnSprite(this.player.sprite),this.data.set("type","interior"),this.staticProps=this.physics.add.staticGroup(),this.physics.add.collider(this.player.sprite,this.staticProps,(J,q)=>{const ut={stairs:()=>{this.handleTransition(q.getDestiny())},door:()=>{this.handleTransition(q.getDestiny())},shovel:()=>{this.player.pickupWeapon(T.shovel),q.destroy()},chest:()=>{var at;this.player.pickupWeapon(T.pistol),(at=this.player.weapon)==null||at.sprite.setScale(2.5)},shotgun:()=>{this.player.pickupWeapon(T.shotgun),q.destroy()}};for(const[at,ct]of Object.entries(ut))if(!!q.name.includes(at)){ct();break}}),this.physics.add.collider(this.player.sprite,this.staticColliderBoxes),this.cache.custom.handlers.get("audioHandler").handleBackgroundMusic(this)}update(){this.player.update(),this.children.list.filter(U=>U.body instanceof Phaser.Physics.Arcade.Body).forEach(U=>{U.setDepth(U.y)})}addFixedProps(...U){this.staticProps.addMultiple(U,!0),this.refreshProps()}addColliderBox(...U){this.staticProps.addMultiple(U,!0),this.refreshProps()}refreshProps(){this.staticProps.getChildren().forEach(U=>{U.setDepth(U.y)})}handleTransition(U){const J={"graveyard:room_00":{x:{relative:!1,value:210},y:{relative:!1,value:270}},"graveyard:room_02_03":{x:{relative:!1,value:245},y:{relative:!1,value:250}},"graveyard:room_56_57":{x:{relative:!1,value:1440},y:{relative:!1,value:260}}};this.fadeOut($t),this.player.freeze(),this.time.delayedCall($t,()=>{var q;this.player.sprite.disableBody(),this.scene.transition({target:U,sleep:!0,duration:0,data:(q=J[U])!=null?q:{}})})}wake(U,J){this.fadeIn($t);const{x:q,y:ut}=this.repositionPlayer(J);this.player.sprite.enableBody(!0,q,ut,!0,!0),this.player.unfreeze()}repositionPlayer({x:U,y:J}){var q,ut;const at=this.player.sprite.width+10,ct=this.screen.width-this.player.sprite.width-10,Et=this.player.sprite.height+5,It=this.screen.height-this.player.sprite.height-5,Kt=U.relative?this.screen.relativeX(U.value):U.value+this.screen.relativeX((q=U.offset)!=null?q:0),le=J.relative?this.screen.relativeY(J.value):J.value+this.screen.relativeY((ut=J.offset)!=null?ut:0);return{x:d().clamp(Kt,at,ct),y:d().clamp(le,Et,It)}}fadeIn(U){this.cameras.main.fadeIn(U,0,0,0)}fadeOut(U){this.cameras.main.fadeOut(U,0,0,0)}}const Fs=class extends tn{constructor(){super(Fs.key,{hasTop:!0,hasLeft:!0,hasBottom:!0,hasRight:!0},{},{},st.Peaceful,{top:16,bottom:16},8.7)}create(){super.create(),super.addFixedProps(new ca(this,this.screen.relativeX(71),this.screen.relativeY(32))),super.addFixedProps(new Os(this,this.screen.relativeX(75),this.screen.relativeY(80))),super.addFixedProps(new Os(this,this.screen.relativeX(81.5),this.screen.relativeY(80))),this.scene.scene.cache.custom.handlers.get("playerHandler").playerData.weapons[2].picked||super.addFixedProps(new hi(this,this.screen.relativeX(86.5),this.screen.relativeY(82),T.shotgun)),this.stairs=new da(this,this.screen.relativeX(71),this.screen.relativeY(50)),super.addFixedProps(this.stairs);const U=new ai(this,this.screen.relativeX(4.9),this.screen.relativeY(48.35),3,"graveyard:room_56_57");super.addFixedProps(U),[new Ot.GameObjects.Rectangle(this,this.screen.relativeX(88),this.screen.relativeY(17),this.screen.relativeX(4),this.screen.relativeX(4))].forEach(q=>{super.addColliderBox(q)}),this.time.delayedCall($t,()=>{this.scene.run("dialog",{character:"T\xFAlio",dialogs:["O que \xE9 isso?","Tinha uma escada aqui esse tempo todo?","Para onde ser\xE1 que ela leva?"]})})}update(){super.update()}};let or=Fs;or.key="graveyard:mausoleum";class Is extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:blue-chest"),this.resize({width:.9,height:.8})}}class ei extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:hanging-light"),this.resize({width:.1,height:.1}),this.setOrigin(.5,0)}}const Ni=class extends tn{constructor(){super(Ni.key,{hasTop:!0,hasLeft:!0,hasBottom:!0,hasRight:!0},{},{},st.Peaceful,{top:20,bottom:15},26)}create(){super.create(),this.player.sprite.setScale(3.5),super.addFixedProps(new Is(this,this.screen.relativeX(60),this.screen.relativeY(20))),this.hanginglight=new ei(this,this.screen.relativeX(49.9),this.screen.relativeY(5.2)),this.hanginglight.setDepth(this.screen.relativeY(100));const j=new ai(this,this.screen.relativeX(50.5),this.screen.relativeY(91.5),2,"graveyard:room_02_03");super.addFixedProps(j),[new Ot.GameObjects.Rectangle(this,this.screen.relativeX(29.5),this.screen.relativeY(16),this.screen.relativeX(5),this.screen.relativeY(11)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(42),this.screen.relativeY(20),this.screen.relativeX(8),this.screen.relativeY(6)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(52),this.screen.relativeY(16),this.screen.relativeX(5),this.screen.relativeY(12)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(73),this.screen.relativeY(18),this.screen.relativeX(6),this.screen.relativeY(10)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(76),this.screen.relativeY(53),this.screen.relativeX(6),this.screen.relativeY(70)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(73),this.screen.relativeY(73),this.screen.relativeX(4),this.screen.relativeY(13)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(30),this.screen.relativeY(76),this.screen.relativeX(8),this.screen.relativeY(15)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(29.5),this.screen.relativeY(32),this.screen.relativeX(5.75),this.screen.relativeY(10))].map(J=>{super.addColliderBox(J)}),this.time.delayedCall($t,()=>{this.scene.run("dialog",{character:"T\xFAlio",dialogs:["Beleza, consegui chegar vivo.","Agora, onde deixei meu rev\xF3lver mesmo?"]})})}update(){super.update(),this.player.sprite.scale!=3.5&&this.player.sprite.setScale(3.5)}};let Ds=Ni;Ds.key="graveyard:toolshed";class pa extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:home-lamp"),this.resize({width:.75,height:.18}),this.setOrigin(.5,.82)}}class ga extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:sofa"),this.resize({width:1,height:.55}),this.setOrigin(.5,.7)}}class Ci extends Xt{constructor(U,J,q){super(U,J,q,"graveyard:trashcan"),this.resize({width:.85,height:.55}),this.setOrigin(.5,.7)}}const De=class extends tn{constructor(){super(De.key,{hasTop:!0,hasLeft:!0,hasBottom:!0,hasRight:!0},{},{},st.Peaceful)}create(){super.create(),this.player.sprite.setScale(2.8),super.addFixedProps(new pa(this,this.screen.relativeX(35),this.screen.relativeY(53))),super.addFixedProps(new ga(this,this.screen.relativeX(21.5),this.screen.relativeY(56))),super.addFixedProps(new Ci(this,this.screen.relativeX(8.75),this.screen.relativeY(54.5))),super.addFixedProps(new hi(this,this.screen.relativeX(54),this.screen.relativeY(88.5),T.shovel));const j=new ai(this,this.screen.relativeX(46.75),this.screen.relativeY(91.75),1,"graveyard:room_00");super.addFixedProps(j),[new Ot.GameObjects.Rectangle(this,this.screen.relativeX(11),this.screen.relativeY(13.5),this.screen.relativeX(9),this.screen.relativeY(19)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(31.5),this.screen.relativeY(17.5),this.screen.relativeX(30),this.screen.relativeY(9)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(51.25),this.screen.relativeY(16.5),this.screen.relativeX(7.75),this.screen.relativeY(12.5)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(57.5),this.screen.relativeY(18),this.screen.relativeX(3.5),this.screen.relativeY(5)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(73),this.screen.relativeY(16.5),this.screen.relativeX(4.5),this.screen.relativeY(9)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(83),this.screen.relativeY(16),this.screen.relativeX(14.5),this.screen.relativeY(12)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(91.5),this.screen.relativeY(30),this.screen.relativeX(7),this.screen.relativeY(9.5)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(91.25),this.screen.relativeY(38.25),this.screen.relativeX(4.5),this.screen.relativeY(5.5)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(90.5),this.screen.relativeY(83.5),this.screen.relativeX(3.5),this.screen.relativeY(5)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(63.5),this.screen.relativeY(86),this.screen.relativeX(11.5),this.screen.relativeY(8)),new Ot.GameObjects.Rectangle(this,this.screen.relativeX(22),this.screen.relativeY(82),this.screen.relativeX(15.75),this.screen.relativeY(12))].map(J=>{super.addColliderBox(J)}),this.time.delayedCall($t,()=>{this.scene.run("dialog",{character:"T\xFAlio",dialogs:["Que barulho foi esse l\xE1 fora?","N\xE3o acredito que vou ter que sair essa hora da noite!","Melhor levar minha p\xE1, nunca se sabe."]})})}update(){super.update(),this.player.sprite.scale!=2.8&&this.player.sprite.setScale(2.8)}};let en=De;en.key="graveyard:house";const ma=[en,Ds,or],Bs=class extends Phaser.Scene{constructor(){super(Bs.key)}preload(){}create(){this.screen=new p(this.scale.width,this.scale.height),this.cameras.main.fadeIn(500,0,0,0),this.bg=this.add.image(this.screen.relativeX(50),this.screen.relativeY(50),"title-screen:background").setOrigin(.5),this.bg.setScale(this.screen.height/this.bg.height),this.title=this.add.image(this.screen.relativeX(50),this.screen.relativeY(30),"title-screen:title").setOrigin(.5),this.title.setScale(this.screen.widthRatio(this.title.width)*.8),this.audioHandler=this.cache.custom.handlers.get("audioHandler"),this.audioHandler.handleBackgroundMusic(this);const j=this.tweens.createTimeline({loop:-1}).add({targets:this.title,angle:3,duration:750,yoyo:!0}).add({targets:this.title,angle:-3,duration:750,yoyo:!0}),U=this.tweens.createTimeline({loop:-1}).add({targets:this.title,scale:this.title.scale*1.05,duration:500,yoyo:!0}).add({targets:this.title,scale:this.title.scale*.95,duration:500,yoyo:!0});j.play(),U.play();const J=this.add.image(this.screen.relativeX(50),this.screen.relativeY(70),"title-screen:button_iniciar").setScale(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.tweens.add({targets:J,scale:.5*1.1,duration:200})}).on("pointerout",()=>{this.tweens.add({targets:J,scale:.5,duration:200})}).on("pointerdown",()=>{this.audioHandler.playSfx(this,"click-button",.2),this.cameras.main.fadeOut(500,0,0,0),this.time.delayedCall(500,()=>{this.scene.run("gui-scene"),this.scene.start("graveyard:house")})}),q=this.add.image(0,0,"title-screen:button_creditos").setScale(.5).setPosition(this.screen.relativeX(50),this.screen.relativeY(85)).setInteractive({useHandCursor:!0}).on("pointerover",()=>{this.tweens.add({targets:q,scale:.5*1.1,duration:200})}).on("pointerout",()=>{this.tweens.add({targets:q,scale:.5,duration:200})}).on("pointerdown",()=>{this.audioHandler.playSfx(this,"click-button",.2),this.cameras.main.fadeOut(500,0,0,0),this.time.delayedCall(500,()=>{this.scene.start("credits")})})}update(){}};let Gs=Bs;Gs.key="start";var xa=Object.defineProperty,ya=Object.defineProperties,hr=Object.getOwnPropertyDescriptors,nt=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable,At=(j,U,J)=>U in j?xa(j,U,{enumerable:!0,configurable:!0,writable:!0,value:J}):j[U]=J,Yt=(j,U)=>{for(var J in U||(U={}))dt.call(U,J)&&At(j,J,U[J]);if(nt)for(var J of nt(U))ft.call(U,J)&&At(j,J,U[J]);return j},kt=(j,U)=>ya(j,hr(U));const $t=500,_t=[Z,Gs,t,Ls,it,vt,wr,...ma,...Ps,...fa],Ai=_t.reduce((j,U)=>kt(Yt({},j),{[U.key]:U}),{}),Ta={type:Phaser.AUTO,backgroundColor:"#000",pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scale:{mode:Phaser.Scale.FIT,width:800,height:600,autoCenter:Phaser.Scale.CENTER_BOTH},scene:_t},Xe=new Phaser.Game(Ta)})()})();

//# sourceMappingURL=game.js.map